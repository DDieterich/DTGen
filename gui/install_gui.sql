
--
--  Install install_gui Scripts for DTGEN
--
--  The 1 scripts included are:
--    -) create_flow
--


select ' -) create_flow  ' as FILE_NAME from dual;


-- Script File "create_flow"
--    APEX flow export file used to create APEX objects

   -- Application: Dtgen For Oracle
   -- Generated by DTGen (http://code.google.com/p/dtgen)
   -- October   04, 2012  08:05:34 PM

   --
   -- Copyright (c) 2012, Duane.Dieterich@gmail.com
   -- All rights reserved.
   -- 
   -- Redistribution and use in source and binary forms, with or without 
   -- modification, are permitted provided that the following conditions are 
   -- met:
   -- 
   -- Redistributions of source code must retain the above copyright notice, 
   -- this list of conditions and the following disclaimer.
   -- Redistributions in binary form must reproduce the above copyright notice, 
   -- this list of conditions and the following disclaimer in the documentation 
   -- and/or other materials provided with the distribution.
   -- THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS 
   -- IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, 
   -- THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR 
   -- PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR 
   -- CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, 
   -- EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
   -- PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
   -- PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF 
   -- LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING 
   -- NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS 
   -- SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   -- 




set verify off
set serveroutput on size 1000000
set feedback off
set define on
WHENEVER SQLERROR EXIT SQL.SQLCODE ROLLBACK

-- Application Export:
--   Date and Time:   20:05 Thursday  October  04, 2012
--   Exported By:     DTGEN
--   Flashback:       0
--   Export Type: Custom Generated
--   Version: 4.0.2.00.07

-- Import:
--   Using application builder
--     or
--   Using SQL*Plus as the Oracle user APEX_040000 or as the owner
--    (parsing schema) of the application.

--       AAAA       PPPPP   EEEEEE  XX      XX
--      AA  AA      PP  PP  EE       XX    XX
--     AA    AA     PP  PP  EE        XX  XX
--    AAAAAAAAAA    PPPPP   EEEE       XXXX
--   AA        AA   PP      EE        XX  XX
--  AA          AA  PP      EE       XX    XX
--  AA          AA  PP      EEEEEE  XX      XX

-- Note: Because this is expected to be the first load of these pages,
--       "wwv_flow_api.g_id_offset" is not used.  IDs are queried from
--       APEX and "wwv_flow_id.next_val" is used to create new IDs.

declare
   ws_id  number;
   app_id number;
begin
   wwv_flow_application_install.set_schema('DTGEN');
   ws_id := apex_util.find_security_group_id('DTGEN');
   wwv_flow_application_install.set_workspace_id(ws_id);
   begin
      select application_id
       into  app_id
       from  apex_applications
       where workspace        = 'DTGEN'
        and  application_name = 'DTGen';
   exception
      when no_data_found
      then
         -- app_id := apex_util.minimum_free_application_id;
         raise_application_error(-20011, 'APEX: Unable to find Application ID' || 
            ' for application "DTGen"' ||
            ' in workspace "DTGEN"');
      when others
      then
         raise;
   end;
   dbms_output.put_line('   APPLICATION ' || app_id || ' - DTGen');
   wwv_flow_application_install.set_application_id(app_id);
   wwv_flow_application_install.set_application_name('DTGen');
   -- Start of Import
   wwv_flow.g_import_in_progress := true;

   dbms_output.put_line('  Set Credentials...');
   -- Assumes you are running the script connected to SQL*Plus as the
   -- Oracle user APEX_040000 or as the owner (parsing schema) of the application.
   wwv_flow_api.set_security_group_id
      (p_security_group_id => ws_id);

   -- Set NLS
   select value
    into  wwv_flow_api.g_nls_numeric_chars
    from  nls_session_parameters
    where parameter='NLS_NUMERIC_CHARACTERS';
   execute immediate 'alter session set nls_numeric_characters=''.,''';
   wwv_flow.g_browser_language := 'en';

   dbms_output.put_line('  Check Compatibility...');
   -- This date identifies the minimum version required to import this file.
   wwv_flow_api.set_version(p_version_yyyy_mm_dd=>'2010.05.13');

   dbms_output.put_line('  Set Application ID...');
   wwv_flow.g_flow_id := app_id;

end;
/

set define off

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Shared Component Export Variables
   ts_name    varchar2(30);    -- Tab Set Name
   ulp_id     number;          -- UTIL Log Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   arp_id     number;          -- ASOF Report Plug ID
   lbl_tid    number;          -- (List Type) Button List Template ID
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Region Type) Report Region Template ID
   rlwi_tid   number;          -- (Region Type) List Region with Icon Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   lov_id     number;          -- List of Values ID
   lst_id     number;          -- Navigation List ID
   lst_name   varchar2(32767); -- Navigation List Name
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   bcp_id     number;          -- Breadcrumb Parent ID
   bcp2_id    number;          -- Secondary Breadcrumb Parent ID
   tab_cnt    number;          -- Number of Tab IDs found
   p          number;          -- Temporary Number
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

   function get_fp_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select application_process_id
       into  retval
       from  apex_application_processes
       where application_name = app_name
        and  workspace        = ws_name
        and  process_type     = type_in
        and  process_name     = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_fp_id;

begin

   -- Initialize and Error Check
   lbl_tid   := get_template_id('List','Button List');
   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rlwi_tid  := get_template_id('Region','List Region with Icon');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');

   ilowh_tid := get_template_id('Item Label','Optional Label with Help');
   ts_name  := 'UTIL_TS';
   ulp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   arp_id   := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...application processes');
   --application/shared_components/logic/application_processes/set_usr

   if get_fp_id('SET_USR', 'PL/SQL Anonymous Block') is null
   then

      dbms_output.put_line('  ...Create Flow Process "SET_USR"');

      wwv_flow_api.create_flow_process(
         p_id     => wwv_flow_id.next_val,
         p_flow_id=> wwv_flow.g_flow_id,
         p_process_sequence=> 10,
         p_process_point=> 'AFTER_SUBMIT',
         p_process_type=> 'PLSQL',
         p_process_name=> 'SET_USR',
         p_process_sql_clob => '"#OWNER#".glob.set_usr(:APP_USER);',
         p_process_error_message=> 'SET_USR: Unable to set user in UTIL package.',
         p_process_when=> '',
         p_process_when_type=> '',
         p_process_comment=>'');

   end if;

   dbms_output.put_line('  ...Shared Lists of values');
   --application/shared_components/user_interface/lov/domains

   ----------------------------------------

   if get_lov_id('CASE FOLD', 'Static') is null
   then

      dbms_output.put_line('  ...Create LOV "CASE FOLD"');
      lov_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list_of_values (
         p_id       => lov_id,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'CASE FOLD',
         p_lov_query=> '.' || lov_id || '.');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>10,
         p_lov_disp_value=>'U (Upper case character fold)',
         p_lov_return_value=>'U',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>20,
         p_lov_disp_value=>'L (Lower case character fold)',
         p_lov_return_value=>'L',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>30,
         p_lov_disp_value=>'I (Initial capital case character fold)',
         p_lov_return_value=>'I',
         p_lov_data_comment=> '');

   end if;

   ----------------------------------------

   if get_lov_id('COLUMN TYPE', 'Static') is null
   then

      dbms_output.put_line('  ...Create LOV "COLUMN TYPE"');
      lov_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list_of_values (
         p_id       => lov_id,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'COLUMN TYPE',
         p_lov_query=> '.' || lov_id || '.');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>10,
         p_lov_disp_value=>'NUMBER (A numeric data type)',
         p_lov_return_value=>'NUMBER',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>20,
         p_lov_disp_value=>'VARCHAR2 (A character data type)',
         p_lov_return_value=>'VARCHAR2',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>30,
         p_lov_disp_value=>'DATE (A date/time data type)',
         p_lov_return_value=>'DATE',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>40,
         p_lov_disp_value=>'TIMESTAMP WITH TIME ZONE (A date/time data type with time zone)',
         p_lov_return_value=>'TIMESTAMP WITH TIME ZONE',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>50,
         p_lov_disp_value=>'TIMESTAMP WITH LOCAL TIME ZONE (A date/time data type with local time zone)',
         p_lov_return_value=>'TIMESTAMP WITH LOCAL TIME ZONE',
         p_lov_data_comment=> '');

   end if;

   ----------------------------------------

   if get_lov_id('FILE TYPE', 'Static') is null
   then

      dbms_output.put_line('  ...Create LOV "FILE TYPE"');
      lov_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list_of_values (
         p_id       => lov_id,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'FILE TYPE',
         p_lov_query=> '.' || lov_id || '.');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>10,
         p_lov_disp_value=>'SQL (SQL Script)',
         p_lov_return_value=>'SQL',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>20,
         p_lov_disp_value=>'LOG (Log File)',
         p_lov_return_value=>'LOG',
         p_lov_data_comment=> '');

   end if;

   ----------------------------------------

   if get_lov_id('FLAG', 'Static') is null
   then

      dbms_output.put_line('  ...Create LOV "FLAG"');
      lov_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list_of_values (
         p_id       => lov_id,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'FLAG',
         p_lov_query=> '.' || lov_id || '.');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>10,
         p_lov_disp_value=>'X (Flagged)',
         p_lov_return_value=>'X',
         p_lov_data_comment=> '');

   end if;

   ----------------------------------------

   if get_lov_id('PROGRAM TYPE', 'Static') is null
   then

      dbms_output.put_line('  ...Create LOV "PROGRAM TYPE"');
      lov_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list_of_values (
         p_id       => lov_id,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'PROGRAM TYPE',
         p_lov_query=> '.' || lov_id || '.');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>10,
         p_lov_disp_value=>'PACKAGE (Includes Package Specification and Package Body)',
         p_lov_return_value=>'PACKAGE',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>20,
         p_lov_disp_value=>'FUNCTION (Stored Function outside of a Package)',
         p_lov_return_value=>'FUNCTION',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>30,
         p_lov_disp_value=>'PROCEDURE (Stored Procedure outside of a Package)',
         p_lov_return_value=>'PROCEDURE',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>40,
         p_lov_disp_value=>'VIEW (Custom Views)',
         p_lov_return_value=>'VIEW',
         p_lov_data_comment=> '');

   end if;

   ----------------------------------------

   if get_lov_id('TABLE TYPE', 'Static') is null
   then

      dbms_output.put_line('  ...Create LOV "TABLE TYPE"');
      lov_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list_of_values (
         p_id       => lov_id,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'TABLE TYPE',
         p_lov_query=> '.' || lov_id || '.');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>10,
         p_lov_disp_value=>'EFF (A historical table type with effective/audit begin/end timestamps and begin/end user recording)',
         p_lov_return_value=>'EFF',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>20,
         p_lov_disp_value=>'LOG (An audit table type with audit only begin/end timestamps and begin/end user recording)',
         p_lov_return_value=>'LOG',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>30,
         p_lov_disp_value=>'NON (A none or nothing table type without begin/end timestamps or begin/end user recording)',
         p_lov_return_value=>'NON',
         p_lov_data_comment=> '');

   end if;

   ----------------------------------------

   if get_lov_id('YES NO', 'Static') is null
   then

      dbms_output.put_line('  ...Create LOV "YES NO"');
      lov_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list_of_values (
         p_id       => lov_id,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'YES NO',
         p_lov_query=> '.' || lov_id || '.');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>10,
         p_lov_disp_value=>'Y (Yes, true, correct, or affirmative)',
         p_lov_return_value=>'Y',
         p_lov_data_comment=> '');

      wwv_flow_api.create_static_lov_data (
         p_id=>wwv_flow_id.next_val,
         p_lov_id=>lov_id,
         p_lov_disp_sequence=>20,
         p_lov_disp_value=>'N (No, false, incorrect, or negative)',
         p_lov_return_value=>'N',
         p_lov_data_comment=> '');

   end if;


   ----------------------------------------

   pnum  := 1000 + page_os;
   pname := 'Maintenance Menu';

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_cache_page_yn => 'N'
      ,p_help_text => ''
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> pname,
     p_region_name=>'',
     p_plug_template=> rrr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'AFTER_SHOW_ITEMS',
     p_plug_source=> 'This is the "' || pname || '" page.  Click on one of the buttons in the navigation lists below for maintenance (grid edit) pages.  Use the "' || pname || '" tab on any of those pages to return back to this page.',
     p_plug_source_type=> 'STATIC_TEXT',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 99,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   ----------------------------------------

   dbms_output.put_line('  ...Navigation Tabs (for ' || pname || ')');

   select count(tab_id)
    into  tab_cnt
    from  apex_application_tabs
    where application_name = app_name
     and  workspace        = ws_name
     and  tab_set          = ts_name
     and  tab_name         = pname;
   if tab_cnt = 0
   then
      dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
      wwv_flow_api.create_tab (
         p_id=> wwv_flow_id.next_val,
         p_flow_id=> wwv_flow.g_flow_id,
         p_tab_set=> ts_name,
         p_tab_sequence=> pnum,
         p_tab_name => pname,
         p_tab_text=> pname,
         p_tab_step => pnum,
         p_tab_also_current_for_pages => '',
         p_tab_parent_tabset=>'',
         p_tab_comment  => '');
   end if;

   ----------------------------------------

   dbms_output.put_line('  ...Navigation Lists');

   --application/shared_components/navigation/lists/EXTRA_maintenance_forms

   lst_name := 'EXTRA ' || pname;
   lst_id   := get_list_id(lst_name);

   if lst_id is null
   then

      dbms_output.put_line('  ...Create LIST "' || lst_name || '"');
      lst_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list (
         p_id=> lst_id,
         p_flow_id=> wwv_flow.g_flow_id,
         p_name=> lst_name,
         p_list_status=> 'PUBLIC',
         p_list_displayed=> 'BY_DEFAULT',
         p_display_row_template_id=> lbl_tid);

   end if;

   s := 'Applications Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1001 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 10,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'Files Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1002 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 20,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'File Lines Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1003 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 30,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'Programs Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1010 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 100,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'Exceptions Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1011 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 110,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;


   dbms_output.put_line('  ... Add LIST "' || lst_name || '" to page ' || pnum);

   wwv_flow_api.create_page_plug (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> lst_name,
      p_region_name=>'',
      p_plug_template=> rlwi_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s||lst_id,
      p_plug_source_type=> lst_id,
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   --application/shared_components/navigation/lists/MAIN_maintenance_forms

   lst_name := 'MAIN ' || pname;
   lst_id   := get_list_id(lst_name);

   if lst_id is null
   then

      dbms_output.put_line('  ...Create LIST "' || lst_name || '"');
      lst_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list (
         p_id=> lst_id,
         p_flow_id=> wwv_flow.g_flow_id,
         p_name=> lst_name,
         p_list_status=> 'PUBLIC',
         p_list_displayed=> 'BY_DEFAULT',
         p_display_row_template_id=> lbl_tid);

   end if;

   s := 'Domains Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1004 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 40,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'Domain Values Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1005 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 50,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'Tables Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1006 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 60,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'Tab Cols Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1007 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 70,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'Tab Inds Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1008 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 80,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'Check Cons Maint';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1009 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 90,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;


   dbms_output.put_line('  ... Add LIST "' || lst_name || '" to page ' || pnum);

   wwv_flow_api.create_page_plug (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> lst_name,
      p_region_name=>'',
      p_plug_template=> rlwi_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s||lst_id,
      p_plug_source_type=> lst_id,
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');
   ----------------------------------------

   pnum  := 1200 + page_os;
   pname := 'Utility Log Report';

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Report for the Utility Log records'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create UTIL_LOG Report Plug');
   s := 'select DTM' || CHR(10) ||
              ',USR' || CHR(10) ||
              ',TXT' || CHR(10) ||
              ',LOC' || CHR(10) ||
        'from "#OWNER#".UTIL_LOG' || CHR(10) ||
        'order by DTM desc';

   wwv_flow_api.create_page_plug (
      p_id=> ulp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s,
      p_plug_source_type=> 'DYNAMIC_QUERY',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => null,
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_worksheet(
      p_id=> irws_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_region_id=> ulp_id,
      p_name=> pname,
      p_folder_id=> null, 
      p_alias=> '',
      p_report_id_item=> '',
      p_max_row_count=> '10000',
      p_max_row_count_message=> 'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.',
      p_no_data_found_message=> 'No data found.',
      p_max_rows_per_page=>'',
      p_search_button_label=>'',
      p_page_items_to_submit=>'',
      p_sort_asc_image=>'',
      p_sort_asc_image_attr=>'',
      p_sort_desc_image=>'',
      p_sort_desc_image_attr=>'',
      p_sql_query => s,
      p_status=>'AVAILABLE_FOR_OWNER',
      p_allow_report_saving=>'Y',
      p_allow_save_rpt_public=>'N',
      p_allow_report_categories=>'N',
      p_show_nulls_as=>'-',
      p_pagination_type=>'ROWS_X_TO_Y',
      p_pagination_display_pos=>'BOTTOM_LEFT',
      p_show_finder_drop_down=>'Y',
      p_show_display_row_count=>'N',
      p_show_search_bar=>'Y',
      p_show_search_textbox=>'Y',
      p_show_actions_menu=>'Y',
      p_report_list_mode=>'TABS',
      p_show_detail_link=>'N',
      p_show_select_columns=>'Y',
      p_show_rows_per_page=>'Y',
      p_show_filter=>'Y',
      p_show_sort=>'Y',
      p_show_control_break=>'Y',
      p_show_highlight=>'Y',
      p_show_computation=>'Y',
      p_show_aggregate=>'Y',
      p_show_chart=>'Y',
      p_show_group_by=>'Y',
      p_show_notify=>'N',
      p_show_calendar=>'N',
      p_show_flashback=>'Y',
      p_show_reset=>'Y',
      p_show_download=>'Y',
      p_show_help=>'Y',
      p_download_formats=>'CSV:HTML:EMAIL',
      p_allow_exclude_null_values=>'N',
      p_allow_hide_extra_columns=>'N',
      p_icon_view_enabled_yn=>'N',
      p_icon_view_columns_per_row=>1,
      p_detail_view_enabled_yn=>'N',
      p_owner=>ws_name);

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'DTM',
      p_display_order          =>1,
      p_group_id               =>null,
      p_column_identifier      =>'A',
      p_column_label           =>'Log Date/Time',
      p_report_label           =>'Log Date/Time',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'USR',
      p_display_order          =>2,
      p_group_id               =>null,
      p_column_identifier      =>'B',
      p_column_label           =>'User',
      p_report_label           =>'User',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'TXT',
      p_display_order          =>3,
      p_group_id               =>null,
      p_column_identifier      =>'C',
      p_column_label           =>'Log Text',
      p_report_label           =>'Log Text',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'LOC',
      p_display_order          =>4,
      p_group_id               =>null,
      p_column_identifier      =>'D',
      p_column_label           =>'Source Location of the Log',
      p_report_label           =>'Source Location of the Log',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_rpt(
      p_id => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id => irws_id,
      p_session_id  => null,
      p_base_report_id  => null,
      p_application_user => 'APXWS_DEFAULT',
      p_report_seq              =>10,
      p_report_alias            =>'Util Log Default',
      p_status                  =>'PUBLIC',
      p_category_id             =>null,
      p_is_default              =>'Y',
      p_display_rows            =>15,
      p_report_columns          =>'DTM:USR:TXT:LOC',
      p_flashback_enabled       =>'N',
      p_calendar_display_column =>'');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || pnum || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   ----------------------------------------

   dbms_output.put_line('  ...Navigation Tabs (for ' || pname || ')');

   select count(tab_id)
    into  tab_cnt
    from  apex_application_tabs
    where application_name = app_name
     and  workspace        = ws_name
     and  tab_set          = ts_name
     and  tab_name         = pname;
   if tab_cnt = 0
   then
      dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
      wwv_flow_api.create_tab (
         p_id=> wwv_flow_id.next_val,
         p_flow_id=> wwv_flow.g_flow_id,
         p_tab_set=> ts_name,
         p_tab_sequence=> pnum,
         p_tab_name => pname,
         p_tab_text=> pname,
         p_tab_step => pnum,
         p_tab_also_current_for_pages => '',
         p_tab_parent_tabset=>'',
         p_tab_comment  => '');
   end if;

   ----------------------------------------

   pnum := 1400 + page_os;
   pname := 'OMNI Reports Menu';

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_cache_page_yn => 'N'
      ,p_help_text => ''
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> pname,
     p_region_name=>'',
     p_plug_template=> rrr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'AFTER_SHOW_ITEMS',
     p_plug_source=> 'This is the "' || pname || '" page.  Click on one of the buttons in the navigation lists below for OMNI interactive report pages.  Use the "' || pname || '" tab on any of those pages to return back to this page.',
     p_plug_source_type=> 'STATIC_TEXT',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 99,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   ----------------------------------------

   dbms_output.put_line('  ...Navigation Tabs (for ' || pname || ')');

   select count(tab_id)
    into  tab_cnt
    from  apex_application_tabs
    where application_name = app_name
     and  workspace        = ws_name
     and  tab_set          = ts_name
     and  tab_name         = 'T_OMNI';
   if tab_cnt = 0
   then
      dbms_output.put_line('  Adding T_OMNI Tab to ' || ts_name || ' ...');
      wwv_flow_api.create_tab (
         p_id=> wwv_flow_id.next_val,
         p_flow_id=> wwv_flow.g_flow_id,
         p_tab_set=> ts_name,
         p_tab_sequence=> pnum,
         p_tab_name => 'T_OMNI',
         p_tab_text=> pname,
         p_tab_step => pnum,
         p_tab_also_current_for_pages => '',
         p_tab_parent_tabset=>'',
         p_tab_comment  => '');
   end if;

   ----------------------------------------

   dbms_output.put_line('  ...Navigation Lists');

   --application/shared_components/navigation/lists/EXTRA_omni_reports

   lst_name := 'EXTRA ' || pname;
   lst_id   := get_list_id(lst_name);

   if lst_id is null
   then

      dbms_output.put_line('  ...Create LIST "' || lst_name || '"');
      lst_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list (
         p_id=> lst_id,
         p_flow_id=> wwv_flow.g_flow_id,
         p_name=> lst_name,
         p_list_status=> 'PUBLIC',
         p_list_displayed=> 'BY_DEFAULT',
         p_display_row_template_id=> lbl_tid);

   end if;

   s := 'Files OMNI';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1402 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 20,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'File Lines OMNI';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1403 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 30,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;


   dbms_output.put_line('  ... Add LIST "' || lst_name || '" to page ' || pnum);

   wwv_flow_api.create_page_plug (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> lst_name,
      p_region_name=>'',
      p_plug_template=> rlwi_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s||lst_id,
      p_plug_source_type=> lst_id,
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   ----------------------------------------

   pnum := 1600 + page_os;
   pname := 'ASOF Reports Menu';

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_cache_page_yn => 'N'
      ,p_help_text => ''
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   s := 'This is the "ASOF Reports Menu" page. Click on one of the buttons in the navigation lists below for ASOF interactive report pages. Use the "ASOF Reports Menu" tab on any of those pages to return back to this page. To change the ASOF Date for all the ASOF Reports, Enter the a new ASOF Date/Timein the box below.';

   wwv_flow_api.create_page_plug (
     p_id=> arp_id,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> pname,
     p_region_name=>'',
     p_plug_template=> rrr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'BEFORE_SHOW_ITEMS',
     p_plug_source=> s,
     p_plug_source_type=> 'STATIC_TEXT',
     p_translate_title=> 'Y',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 99,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   s := 'Enter the ASOF Date/Time.  This Date/Time will be used on all the ASOF Reports.  To save the new Date/Time, press "Enter" on the field, or click the "Set ASOF Date/Time button.';

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ASOF_DTM',
      p_data_type=> 'VARCHAR',
      p_is_required=> true,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => arp_id,
      p_use_cache_before_default=> 'YES',
      p_item_default=> 'to_char(glob.get_asof_dtm,''DD-MON-YYYY HH:MI:SS PM'')',
      p_item_default_type=> 'PLSQL_EXPRESSION',
      p_prompt=>'ASOF Date/Time:',
      p_format_mask=>'DD-MON-YYYY HH:MI:SS PM',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_DATE_PICKER',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 4000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text => s,
      p_attribute_04 => 'button',
      p_attribute_05 => 'N',
      p_attribute_07 => 'NONE',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SUBMIT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => arp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default=> 'SUBMIT',
      p_prompt=>'Set ASOF Date/Time',
      p_source=>'SUBMIT',
      p_source_type=> 'STATIC',
      p_display_as=> 'BUTTON',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> null,
      p_cMaxlength=> 2000,
      p_cHeight=> null,
      p_tag_attributes  => 'template:'||bb_tid,
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT',
      p_is_persistent=> 'N',
      p_button_execute_validations=>'Y',
      p_item_comment => '');

   ----------------------------------------

   dbms_output.put_line('  ...Navigation Tabs (for ' || pname || ')');

   select count(tab_id)
    into  tab_cnt
    from  apex_application_tabs
    where application_name = app_name
     and  workspace        = ws_name
     and  tab_set          = ts_name
     and  tab_name         = 'T_ASOF';
   if tab_cnt = 0
   then
      dbms_output.put_line('  Adding T_ASOF Tab to ' || ts_name || ' ...');
      wwv_flow_api.create_tab (
         p_id=> wwv_flow_id.next_val,
         p_flow_id=> wwv_flow.g_flow_id,
         p_tab_set=> ts_name,
         p_tab_sequence=> pnum,
         p_tab_name => 'T_ASOF',
         p_tab_text=> pname,
         p_tab_step => pnum,
         p_tab_also_current_for_pages => '',
         p_tab_parent_tabset=>'',
         p_tab_comment  => '');
   end if;

   ----------------------------------------

   dbms_output.put_line('  ...Navigation Lists');

   --application/shared_components/navigation/lists/EXTRA_asof_reports

   lst_name := 'EXTRA ' || pname;
   lst_id   := get_list_id(lst_name);

   if lst_id is null
   then

      dbms_output.put_line('  ...Create LIST "' || lst_name || '"');
      lst_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list (
         p_id=> lst_id,
         p_flow_id=> wwv_flow.g_flow_id,
         p_name=> lst_name,
         p_list_status=> 'PUBLIC',
         p_list_displayed=> 'BY_DEFAULT',
         p_display_row_template_id=> lbl_tid);

   end if;

   s := 'Files ASOF';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1602 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 20,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;

   s := 'File Lines ASOF';

   if get_list_entry_id(lst_id, s) is null
   then

      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1603 + page_os;

      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 30,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');

   end if;


   dbms_output.put_line('  ... Add LIST "' || lst_name || '" to page ' || pnum);

   wwv_flow_api.create_page_plug (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> lst_name,
      p_region_name=>'',
      p_plug_template=> rlwi_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> 's' || lst_id,
      p_plug_source_type=> lst_id,
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   --application/shared_components/navigation/lists/utility_menu

   lst_name := 'Utility Menu';
   lst_id   := get_list_id(lst_name);

   if lst_id is null
   then

      dbms_output.put_line('  ...Create LIST "' || lst_name || '"');
      lst_id := wwv_flow_id.next_val;

      wwv_flow_api.create_list (
         p_id=> lst_id,
         p_flow_id=> wwv_flow.g_flow_id,
         p_name=> lst_name,
         p_list_status=> 'PUBLIC',
         p_list_displayed=> 'BY_DEFAULT',
         p_display_row_template_id=> lbl_tid);

   end if;

   s := 'Maintenance Menu';
   if get_list_entry_id(lst_id, s) is null
   then
      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1000 + page_os;
      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 1000,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');
   end if;

   s := 'Utility Log Report';
   if get_list_entry_id(lst_id, s) is null
   then
      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1200 + page_os;
      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 1200,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');
   end if;

   s := 'OMNI Reports Menu';
   if get_list_entry_id(lst_id, s) is null
   then
      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1400 + page_os;
      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 1400,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');
   end if;

   s := 'ASOF Reports Menu';
   if get_list_entry_id(lst_id, s) is null
   then
      dbms_output.put_line('  ...Create LIST ENTRY "' || s || '"');
      p := 1600 + page_os;
      wwv_flow_api.create_list_item (
         p_id=> wwv_flow_id.next_val,
         p_list_id=> lst_id,
         p_list_item_type=> 'LINK',
         p_list_item_status=> 'PUBLIC',
         p_item_displayed=> 'BY_DEFAULT',
         p_list_item_display_sequence=> 1600,
         p_list_item_link_text=> s,
         p_list_item_link_target=> 'f?p=&APP_ID.:' || p || ':&SESSION.:',
         p_list_text_01=> '',
         p_list_item_current_type=> '',
         p_list_item_current_for_pages=> '' || p || '',
         p_list_item_owner=> '');
   end if;

   ----------------------------------------

   --application/shared_components/navigation/breadcrumbs
   dbms_output.put_line('Adding Breadcrumbs');

   if mnu_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB "' || mnu_name || '"');
      mnu_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu (
         p_id=> mnu_id,
         p_flow_id=> wwv_flow.g_flow_id,
         p_name=> mnu_name);

   end if;

   ----------------------------------------

   s      := 'Maintenance Menu';
   bcp_id := get_menu_option_id(mnu_id, s);

   if bcp_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1000 + page_os;
      bcp_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp_id,
         p_menu_id=> mnu_id,
         p_parent_id=>null,
         p_option_sequence=>1000,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Applications Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1001 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1001,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Applications Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1201 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1201,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Files Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1002 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1002,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Files Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1202 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1202,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'File Lines Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1003 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1003,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'File Lines Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1203 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1203,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Domains Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1004 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1004,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Domains Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1204 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1204,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Domain Values Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1005 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1005,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Domain Values Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1205 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1205,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Tables Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1006 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1006,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Tables Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1206 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1206,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Tab Cols Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1007 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1007,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Tab Cols Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1207 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1207,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Tab Inds Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1008 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1008,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Tab Inds Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1208 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1208,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Check Cons Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1009 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1009,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Check Cons Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1209 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1209,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Programs Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1010 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1010,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Programs Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1210 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1210,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Exceptions Maint';
   bcp2_id := get_menu_option_id(mnu_id, s);

   if bcp2_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1011 + page_os;
      bcp2_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp2_id,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1011,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Exceptions Form';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1211 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp2_id,
         p_option_sequence=>1211,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Utility Log Report';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1200 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=> null,
         p_option_sequence=>1200,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'OMNI Reports Menu';
   bcp_id := get_menu_option_id(mnu_id, s);

   if bcp_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1400 + page_os;
      bcp_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp_id,
         p_menu_id=> mnu_id,
         p_parent_id=> null,
         p_option_sequence=>1400,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Files OMNI';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1402 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1402,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'File Lines OMNI';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1403 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1403,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'ASOF Reports Menu';
   bcp_id := get_menu_option_id(mnu_id, s);

   if bcp_id is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1600 + page_os;
      bcp_id := wwv_flow_id.next_val;

      wwv_flow_api.create_menu_option (
         p_id=> bcp_id,
         p_menu_id=> mnu_id,
         p_parent_id=> null,
         p_option_sequence=>1600,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'Files ASOF';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1602 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1602,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;

   ----------------------------------------

   s := 'File Lines ASOF';

   if get_menu_option_id(mnu_id, s) is null
   then

      dbms_output.put_line('  ...Create BREADCRUMB ENTRY "' || s || '"');
      p := 1603 + page_os;

      wwv_flow_api.create_menu_option (
         p_id=> wwv_flow_id.next_val,
         p_menu_id=> mnu_id,
         p_parent_id=>bcp_id,
         p_option_sequence=>1603,
         p_short_name=>s,
         p_long_name=>'',
         p_link=>'f?p=&APP_ID.:' || p || ':&SESSION.',
         p_page_id=>p,
         p_also_current_for_pages=> '');

   end if;


end;
/

select '***  applications  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('applications maint1, 1');
   pnum     := 1001 + page_os;
   pname    := 'Applications Maint';
   ts_name  := 'EXTRA_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('APPLICATIONS_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "APPLICATIONS_LOV"');
      s := 'select applications_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".applications' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'APPLICATIONS_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Applications to be generated'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',ABBR' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',VERSION' || CHR(10) ||
              ',DB_SCHEMA' || CHR(10) ||
              ',APEX_SCHEMA' || CHR(10) ||
              ',APEX_WS_NAME' || CHR(10) ||
              ',APEX_APP_NAME' || CHR(10) ||
              ',DBID' || CHR(10) ||
              ',DB_AUTH' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
              ',TS_NULL_OVERRIDE' || CHR(10) ||
              ',TS_ONLN_DATA' || CHR(10) ||
              ',TS_ONLN_INDX' || CHR(10) ||
              ',TS_HIST_DATA' || CHR(10) ||
              ',TS_HIST_INDX' || CHR(10) ||
              ',USR_DATATYPE' || CHR(10) ||
              ',USR_FRGN_KEY' || CHR(10) ||
              ',COPYRIGHT' || CHR(10) ||
        'from "#OWNER#".APPLICATIONS_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_ABBR is null' || CHR(10) ||
        '      or abbr like :P' || pnum || '_ABBR' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_NAME is null' || CHR(10) ||
        '      or name like :P' || pnum || '_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_VERSION is null' || CHR(10) ||
        '      or version like :P' || pnum || '_VERSION' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_DB_SCHEMA is null' || CHR(10) ||
        '      or db_schema like :P' || pnum || '_DB_SCHEMA' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_APEX_SCHEMA is null' || CHR(10) ||
        '      or apex_schema like :P' || pnum || '_APEX_SCHEMA' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_APEX_WS_NAME is null' || CHR(10) ||
        '      or apex_ws_name like :P' || pnum || '_APEX_WS_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_APEX_APP_NAME is null' || CHR(10) ||
        '      or apex_app_name like :P' || pnum || '_APEX_APP_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_DBID is null' || CHR(10) ||
        '      or dbid like :P' || pnum || '_DBID' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_DB_AUTH is null' || CHR(10) ||
        '      or db_auth like :P' || pnum || '_DB_AUTH' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TS_NULL_OVERRIDE is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_TS_NULL_OVERRIDE||'':'', '':''||ts_null_override||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TS_ONLN_DATA is null' || CHR(10) ||
        '      or ts_onln_data like :P' || pnum || '_TS_ONLN_DATA' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TS_ONLN_INDX is null' || CHR(10) ||
        '      or ts_onln_indx like :P' || pnum || '_TS_ONLN_INDX' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TS_HIST_DATA is null' || CHR(10) ||
        '      or ts_hist_data like :P' || pnum || '_TS_HIST_DATA' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TS_HIST_INDX is null' || CHR(10) ||
        '      or ts_hist_indx like :P' || pnum || '_TS_HIST_INDX' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_USR_DATATYPE is null' || CHR(10) ||
        '      or usr_datatype like :P' || pnum || '_USR_DATATYPE' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_USR_FRGN_KEY is null' || CHR(10) ||
        '      or usr_frgn_key like :P' || pnum || '_USR_FRGN_KEY' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_COPYRIGHT is null' || CHR(10) ||
        '      or copyright like :P' || pnum || '_COPYRIGHT' || CHR(10) ||
        '      )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1001 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'ABBR',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Abbr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'ABBR',
      p_column_comment=>'Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'ABBR',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'NAME',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'NAME',
      p_column_comment=>'Name of this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Name of this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'VERSION',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Version',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '6',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","10")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'VERSION',
      p_column_comment=>'Version of this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'VERSION',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Version of this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'DB_SCHEMA',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Db Schema',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'DB_SCHEMA',
      p_column_comment=>'Name of the database schema objects owner. Used for user synonym and DB Link creation. Also used for explicit owner of all database objects if db_schema_exp flag is set.');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'DB_SCHEMA',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Name of the database schema objects owner. Used for user synonym and DB Link creation. Also used for explicit owner of all database objects if db_schema_exp flag is set.');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'APEX_SCHEMA',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Apex Schema',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'APEX_SCHEMA',
      p_column_comment=>'Name of the APEX parsing schema owner for the generated APEX pages');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'APEX_SCHEMA',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Name of the APEX parsing schema owner for the generated APEX pages');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'APEX_WS_NAME',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Apex Ws Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'APEX_WS_NAME',
      p_column_comment=>'Workspace name (Upper Case) for the generated APEX pages');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 15,
      p_query_column_name=> 'APEX_WS_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Workspace name (Upper Case) for the generated APEX pages');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 18,
      p_form_element_id=> null,
      p_column_alias=> 'APEX_APP_NAME',
      p_column_display_sequence=> 180,
      p_column_heading=> 'Apex App Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'APEX_APP_NAME',
      p_column_comment=>'Application name (Mixed Case) for the generated APEX pages');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 17,
      p_query_column_name=> 'APEX_APP_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Application name (Mixed Case) for the generated APEX pages');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 20,
      p_form_element_id=> null,
      p_column_alias=> 'DBID',
      p_column_display_sequence=> 200,
      p_column_heading=> 'Dbid',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","2000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'DBID',
      p_column_comment=>'Database link name for mid-tier connections from mid-tier servers to the centralized database server');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 19,
      p_query_column_name=> 'DBID',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Database link name for mid-tier connections from mid-tier servers to the centralized database server');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 22,
      p_form_element_id=> null,
      p_column_alias=> 'DB_AUTH',
      p_column_display_sequence=> 220,
      p_column_heading=> 'Db Auth',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","200")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'DB_AUTH',
      p_column_comment=>'Centralized database server schema name pointed to by the database link from the mid-tier servers');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 21,
      p_query_column_name=> 'DB_AUTH',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Centralized database server schema name pointed to by the database link from the mid-tier servers');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 24,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 240,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'DESCRIPTION',
      p_column_comment=>'Description of this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 23,
      p_query_column_name=> 'DESCRIPTION',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Description of this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 26,
      p_form_element_id=> null,
      p_column_alias=> 'TS_NULL_OVERRIDE',
      p_column_display_sequence=> 260,
      p_column_heading=> 'Ts Null Override',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '1',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'TS_NULL_OVERRIDE',
      p_column_comment=>'Flag to override all tablespace names to null');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 25,
      p_query_column_name=> 'TS_NULL_OVERRIDE',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Flag to override all tablespace names to null');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 28,
      p_form_element_id=> null,
      p_column_alias=> 'TS_ONLN_DATA',
      p_column_display_sequence=> 280,
      p_column_heading=> 'Ts Onln Data',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'TS_ONLN_DATA',
      p_column_comment=>'Default tableapace name for on-line data tables');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 27,
      p_query_column_name=> 'TS_ONLN_DATA',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Default tableapace name for on-line data tables');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 30,
      p_form_element_id=> null,
      p_column_alias=> 'TS_ONLN_INDX',
      p_column_display_sequence=> 300,
      p_column_heading=> 'Ts Onln Indx',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'TS_ONLN_INDX',
      p_column_comment=>'Default tablespace name for on-line indexes');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 29,
      p_query_column_name=> 'TS_ONLN_INDX',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Default tablespace name for on-line indexes');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 32,
      p_form_element_id=> null,
      p_column_alias=> 'TS_HIST_DATA',
      p_column_display_sequence=> 320,
      p_column_heading=> 'Ts Hist Data',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'TS_HIST_DATA',
      p_column_comment=>'Default tablespace name for history data tables');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 31,
      p_query_column_name=> 'TS_HIST_DATA',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Default tablespace name for history data tables');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 34,
      p_form_element_id=> null,
      p_column_alias=> 'TS_HIST_INDX',
      p_column_display_sequence=> 340,
      p_column_heading=> 'Ts Hist Indx',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'TS_HIST_INDX',
      p_column_comment=>'Default tablespace name for history indexes');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 33,
      p_query_column_name=> 'TS_HIST_INDX',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Default tablespace name for history indexes');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 36,
      p_form_element_id=> null,
      p_column_alias=> 'USR_DATATYPE',
      p_column_display_sequence=> 360,
      p_column_heading=> 'Usr Datatype',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '11',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","20")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'USR_DATATYPE',
      p_column_comment=>'Datatype for the "_USR" data columns in history tables tables. The default value is VARCHAR2(30).');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 35,
      p_query_column_name=> 'USR_DATATYPE',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Datatype for the "_USR" data columns in history tables tables. The default value is VARCHAR2(30).');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 38,
      p_form_element_id=> null,
      p_column_alias=> 'USR_FRGN_KEY',
      p_column_display_sequence=> 380,
      p_column_heading=> 'Usr Frgn Key',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","100")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'USR_FRGN_KEY',
      p_column_comment=>'Foreign Key for the "_USR" data columns in history tables. Must be of the form "table", "schema.table", "table(column)",  or "schema.table(column)".');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 37,
      p_query_column_name=> 'USR_FRGN_KEY',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Foreign Key for the "_USR" data columns in history tables. Must be of the form "table", "schema.table", "table(column)",  or "schema.table(column)".');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 40,
      p_form_element_id=> null,
      p_column_alias=> 'COPYRIGHT',
      p_column_display_sequence=> 400,
      p_column_heading=> 'Copyright',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","32767")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'APPLICATIONS_ACT',
      p_ref_column_name=> 'COPYRIGHT',
      p_column_comment=>'Copyright notice that is placed in the comment header in all generated scripts');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 39,
      p_query_column_name=> 'COPYRIGHT',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Copyright notice that is placed in the comment header in all generated scripts');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1201 + page_os) || ':&SESSION.::&DEBUG.:' || (1201 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ABBR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Abbr Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_ABBR',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for ABBR (Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for NAME (Name of this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_VERSION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Version Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_VERSION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 6,
      p_cMaxlength=> 10,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for VERSION (Version of this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DB_SCHEMA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Db Schema Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DB_SCHEMA',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DB_SCHEMA (Name of the database schema objects owner. Used for user synonym and DB Link creation. Also used for explicit owner of all database objects if db_schema_exp flag is set.). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APEX_SCHEMA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Apex Schema Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APEX_SCHEMA',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for APEX_SCHEMA (Name of the APEX parsing schema owner for the generated APEX pages). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APEX_WS_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Apex Ws Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APEX_WS_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for APEX_WS_NAME (Workspace name (Upper Case) for the generated APEX pages). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APEX_APP_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 180,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Apex App Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APEX_APP_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for APEX_APP_NAME (Application name (Mixed Case) for the generated APEX pages). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DBID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 190,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Dbid Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DBID',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 2000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DBID (Database link name for mid-tier connections from mid-tier servers to the centralized database server). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DB_AUTH',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 200,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Db Auth Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DB_AUTH',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 200,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DB_AUTH (Centralized database server schema name pointed to by the database link from the mid-tier servers). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 210,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Description Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DESCRIPTION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DESCRIPTION (Description of this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');
   lov_id := get_lov_id('FLAG', 'Static');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_NULL_OVERRIDE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 220,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Ts Null Override Select:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TS_NULL_OVERRIDE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'FLAG',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 1,
      p_cMaxlength=> 1,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search list for TS_NULL_OVERRIDE (Flag to override all tablespace names to null). Select one or more values from the list.',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_ONLN_DATA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 230,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Ts Onln Data Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TS_ONLN_DATA',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TS_ONLN_DATA (Default tableapace name for on-line data tables). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_ONLN_INDX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 240,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Ts Onln Indx Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TS_ONLN_INDX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TS_ONLN_INDX (Default tablespace name for on-line indexes). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_HIST_DATA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 250,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Ts Hist Data Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TS_HIST_DATA',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TS_HIST_DATA (Default tablespace name for history data tables). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_HIST_INDX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 260,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Ts Hist Indx Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TS_HIST_INDX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TS_HIST_INDX (Default tablespace name for history indexes). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_USR_DATATYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 270,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Usr Datatype Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_USR_DATATYPE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 11,
      p_cMaxlength=> 20,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for USR_DATATYPE (Datatype for the "_USR" data columns in history tables tables. The default value is VARCHAR2(30).). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_USR_FRGN_KEY',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 280,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Usr Frgn Key Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_USR_FRGN_KEY',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 100,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for USR_FRGN_KEY (Foreign Key for the "_USR" data columns in history tables. Must be of the form "table", "schema.table", "table(column)",  or "schema.table(column)".). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_COPYRIGHT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 290,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Copyright Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_COPYRIGHT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 32767,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for COPYRIGHT (Copyright notice that is placed in the comment header in all generated scripts). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1201 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.applications_act' || CHR(10) ||
       '              set  abbr = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,name = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,version = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,db_schema = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,apex_schema = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '                  ,apex_ws_name = ' || CHR(10) ||
       '                      apex_application.g_f08(i)' || CHR(10) ||
       '                  ,apex_app_name = ' || CHR(10) ||
       '                      apex_application.g_f09(i)' || CHR(10) ||
       '                  ,dbid = ' || CHR(10) ||
       '                      apex_application.g_f10(i)' || CHR(10) ||
       '                  ,db_auth = ' || CHR(10) ||
       '                      apex_application.g_f11(i)' || CHR(10) ||
       '                  ,description = ' || CHR(10) ||
       '                      apex_application.g_f12(i)' || CHR(10) ||
       '                  ,ts_null_override = ' || CHR(10) ||
       '                      apex_application.g_f13(i)' || CHR(10) ||
       '                  ,ts_onln_data = ' || CHR(10) ||
       '                      apex_application.g_f14(i)' || CHR(10) ||
       '                  ,ts_onln_indx = ' || CHR(10) ||
       '                      apex_application.g_f15(i)' || CHR(10) ||
       '                  ,ts_hist_data = ' || CHR(10) ||
       '                      apex_application.g_f16(i)' || CHR(10) ||
       '                  ,ts_hist_indx = ' || CHR(10) ||
       '                      apex_application.g_f17(i)' || CHR(10) ||
       '                  ,usr_datatype = ' || CHR(10) ||
       '                      apex_application.g_f18(i)' || CHR(10) ||
       '                  ,usr_frgn_key = ' || CHR(10) ||
       '                      apex_application.g_f19(i)' || CHR(10) ||
       '                  ,copyright = ' || CHR(10) ||
       '                      apex_application.g_f20(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.applications_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,abbr' || CHR(10) ||
       '               ,name' || CHR(10) ||
       '               ,version' || CHR(10) ||
       '               ,db_schema' || CHR(10) ||
       '               ,apex_schema' || CHR(10) ||
       '               ,apex_ws_name' || CHR(10) ||
       '               ,apex_app_name' || CHR(10) ||
       '               ,dbid' || CHR(10) ||
       '               ,db_auth' || CHR(10) ||
       '               ,description' || CHR(10) ||
       '               ,ts_null_override' || CHR(10) ||
       '               ,ts_onln_data' || CHR(10) ||
       '               ,ts_onln_indx' || CHR(10) ||
       '               ,ts_hist_data' || CHR(10) ||
       '               ,ts_hist_indx' || CHR(10) ||
       '               ,usr_datatype' || CHR(10) ||
       '               ,usr_frgn_key' || CHR(10) ||
       '               ,copyright' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               ,apex_application.g_f08(i)' || CHR(10) ||
       '               ,apex_application.g_f09(i)' || CHR(10) ||
       '               ,apex_application.g_f10(i)' || CHR(10) ||
       '               ,apex_application.g_f11(i)' || CHR(10) ||
       '               ,apex_application.g_f12(i)' || CHR(10) ||
       '               ,apex_application.g_f13(i)' || CHR(10) ||
       '               ,apex_application.g_f14(i)' || CHR(10) ||
       '               ,apex_application.g_f15(i)' || CHR(10) ||
       '               ,apex_application.g_f16(i)' || CHR(10) ||
       '               ,apex_application.g_f17(i)' || CHR(10) ||
       '               ,apex_application.g_f18(i)' || CHR(10) ||
       '               ,apex_application.g_f19(i)' || CHR(10) ||
       '               ,apex_application.g_f20(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of APPLICATIONS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:APPLICATIONS_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1201+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 60,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/


declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('applications form, 1');
   pnum     := 1201 + page_os;
   pname    := 'Applications Form';
   ts_name  := 'EXTRA_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Applications to be generated'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1001 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1001 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ABBR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Abbr:',
      p_format_mask=>'',
      p_source=>'ABBR',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Name:',
      p_format_mask=>'',
      p_source=>'NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Name of this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_VERSION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Version:',
      p_format_mask=>'',
      p_source=>'VERSION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 10,
      p_cMaxlength=> 10,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Version of this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DB_SCHEMA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Db Schema:',
      p_format_mask=>'',
      p_source=>'DB_SCHEMA',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Name of the database schema objects owner. Used for user synonym and DB Link creation. Also used for explicit owner of all database objects if db_schema_exp flag is set.',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APEX_SCHEMA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Apex Schema:',
      p_format_mask=>'',
      p_source=>'APEX_SCHEMA',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Name of the APEX parsing schema owner for the generated APEX pages',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APEX_WS_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Apex Ws Name:',
      p_format_mask=>'',
      p_source=>'APEX_WS_NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Workspace name (Upper Case) for the generated APEX pages',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APEX_APP_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Apex App Name:',
      p_format_mask=>'',
      p_source=>'APEX_APP_NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Application name (Mixed Case) for the generated APEX pages',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DBID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 90,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Dbid:',
      p_format_mask=>'',
      p_source=>'DBID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 2000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Database link name for mid-tier connections from mid-tier servers to the centralized database server',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DB_AUTH',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 100,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Db Auth:',
      p_format_mask=>'',
      p_source=>'DB_AUTH',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 200,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Centralized database server schema name pointed to by the database link from the mid-tier servers',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Description:',
      p_format_mask=>'',
      p_source=>'DESCRIPTION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Description of this application',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := get_lov_id('FLAG', 'Static');
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_NULL_OVERRIDE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Ts Null Override:',
      p_format_mask=>'',
      p_source=>'TS_NULL_OVERRIDE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'FLAG',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 1,
      p_cMaxlength=> 1,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Flag to override all tablespace names to null',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_attribute_03 => '',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_ONLN_DATA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Ts Onln Data:',
      p_format_mask=>'',
      p_source=>'TS_ONLN_DATA',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Default tableapace name for on-line data tables',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_ONLN_INDX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Ts Onln Indx:',
      p_format_mask=>'',
      p_source=>'TS_ONLN_INDX',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Default tablespace name for on-line indexes',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_HIST_DATA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Ts Hist Data:',
      p_format_mask=>'',
      p_source=>'TS_HIST_DATA',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Default tablespace name for history data tables',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_HIST_INDX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Ts Hist Indx:',
      p_format_mask=>'',
      p_source=>'TS_HIST_INDX',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Default tablespace name for history indexes',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_USR_DATATYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Usr Datatype:',
      p_format_mask=>'',
      p_source=>'USR_DATATYPE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 20,
      p_cMaxlength=> 20,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Datatype for the "_USR" data columns in history tables tables. The default value is VARCHAR2(30).',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_USR_FRGN_KEY',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 180,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Usr Frgn Key:',
      p_format_mask=>'',
      p_source=>'USR_FRGN_KEY',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 100,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Foreign Key for the "_USR" data columns in history tables. Must be of the form "table", "schema.table", "table(column)",  or "schema.table(column)".',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_COPYRIGHT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 190,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Copyright:',
      p_format_mask=>'',
      p_source=>'COPYRIGHT',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 32767,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Copyright notice that is placed in the comment header in all generated scripts',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from APPLICATIONS_ACT',
      p_process_sql_clob => 'F|#OWNER#:APPLICATIONS_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view APPLICATIONS_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.applications_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_abbr => :P' || pnum || '_ABBR' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_version => :P' || pnum || '_VERSION' || CHR(10) ||
        '      ,n_db_schema => :P' || pnum || '_DB_SCHEMA' || CHR(10) ||
        '      ,n_apex_schema => :P' || pnum || '_APEX_SCHEMA' || CHR(10) ||
        '      ,n_apex_ws_name => :P' || pnum || '_APEX_WS_NAME' || CHR(10) ||
        '      ,n_apex_app_name => :P' || pnum || '_APEX_APP_NAME' || CHR(10) ||
        '      ,n_dbid => :P' || pnum || '_DBID' || CHR(10) ||
        '      ,n_db_auth => :P' || pnum || '_DB_AUTH' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      ,n_ts_null_override => :P' || pnum || '_TS_NULL_OVERRIDE' || CHR(10) ||
        '      ,n_ts_onln_data => :P' || pnum || '_TS_ONLN_DATA' || CHR(10) ||
        '      ,n_ts_onln_indx => :P' || pnum || '_TS_ONLN_INDX' || CHR(10) ||
        '      ,n_ts_hist_data => :P' || pnum || '_TS_HIST_DATA' || CHR(10) ||
        '      ,n_ts_hist_indx => :P' || pnum || '_TS_HIST_INDX' || CHR(10) ||
        '      ,n_usr_datatype => :P' || pnum || '_USR_DATATYPE' || CHR(10) ||
        '      ,n_usr_frgn_key => :P' || pnum || '_USR_FRGN_KEY' || CHR(10) ||
        '      ,n_copyright => :P' || pnum || '_COPYRIGHT' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of APPLICATIONS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view APPLICATIONS_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.applications_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_abbr => :P' || pnum || '_ABBR' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_version => :P' || pnum || '_VERSION' || CHR(10) ||
        '      ,n_db_schema => :P' || pnum || '_DB_SCHEMA' || CHR(10) ||
        '      ,n_apex_schema => :P' || pnum || '_APEX_SCHEMA' || CHR(10) ||
        '      ,n_apex_ws_name => :P' || pnum || '_APEX_WS_NAME' || CHR(10) ||
        '      ,n_apex_app_name => :P' || pnum || '_APEX_APP_NAME' || CHR(10) ||
        '      ,n_dbid => :P' || pnum || '_DBID' || CHR(10) ||
        '      ,n_db_auth => :P' || pnum || '_DB_AUTH' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      ,n_ts_null_override => :P' || pnum || '_TS_NULL_OVERRIDE' || CHR(10) ||
        '      ,n_ts_onln_data => :P' || pnum || '_TS_ONLN_DATA' || CHR(10) ||
        '      ,n_ts_onln_indx => :P' || pnum || '_TS_ONLN_INDX' || CHR(10) ||
        '      ,n_ts_hist_data => :P' || pnum || '_TS_HIST_DATA' || CHR(10) ||
        '      ,n_ts_hist_indx => :P' || pnum || '_TS_HIST_INDX' || CHR(10) ||
        '      ,n_usr_datatype => :P' || pnum || '_USR_DATATYPE' || CHR(10) ||
        '      ,n_usr_frgn_key => :P' || pnum || '_USR_FRGN_KEY' || CHR(10) ||
        '      ,n_copyright => :P' || pnum || '_COPYRIGHT' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of APPLICATIONS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view APPLICATIONS_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.applications_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for APPLICATIONS_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view APPLICATIONS_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'APPLICATIONS_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'APPLICATIONS_ACT',
      p_report_region_title => 'Applications',
      p_form_region_title => 'Applications');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Abbr',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'ABBR');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Name',
      p_help_text => 'Name of this application',
      p_display_seq_form => 2,
      p_display_seq_report => 2,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Version',
      p_help_text => 'Version of this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 6,
      p_max_width => 10,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'VERSION');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Db Schema',
      p_help_text => 'Name of the database schema objects owner. Used for user synonym and DB Link creation. Also used for explicit owner of all database objects if db_schema_exp flag is set.',
      p_display_seq_form => 4,
      p_display_seq_report => 4,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DB_SCHEMA');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Apex Schema',
      p_help_text => 'Name of the APEX parsing schema owner for the generated APEX pages',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APEX_SCHEMA');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Apex Ws Name',
      p_help_text => 'Workspace name (Upper Case) for the generated APEX pages',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APEX_WS_NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Apex App Name',
      p_help_text => 'Application name (Mixed Case) for the generated APEX pages',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APEX_APP_NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Dbid',
      p_help_text => 'Database link name for mid-tier connections from mid-tier servers to the centralized database server',
      p_display_seq_form => 8,
      p_display_seq_report => 8,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 2000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DBID');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Db Auth',
      p_help_text => 'Centralized database server schema name pointed to by the database link from the mid-tier servers',
      p_display_seq_form => 9,
      p_display_seq_report => 9,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 200,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DB_AUTH');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Description',
      p_help_text => 'Description of this application',
      p_display_seq_form => 10,
      p_display_seq_report => 10,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DESCRIPTION');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Ts Null Override',
      p_help_text => 'Flag to override all tablespace names to null',
      p_display_seq_form => 11,
      p_display_seq_report => 11,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_SELECT_LIST',
      p_form_attribute_01 => 'NONE',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'SELECT_LIST_FROM_LOV',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 1,
      p_max_width => 1,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TS_NULL_OVERRIDE');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 1,
      p_lov_disp_value => 'Flagged',
      p_lov_return_value => 'X');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Ts Onln Data',
      p_help_text => 'Default tableapace name for on-line data tables',
      p_display_seq_form => 12,
      p_display_seq_report => 12,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TS_ONLN_DATA');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Ts Onln Indx',
      p_help_text => 'Default tablespace name for on-line indexes',
      p_display_seq_form => 13,
      p_display_seq_report => 13,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TS_ONLN_INDX');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Ts Hist Data',
      p_help_text => 'Default tablespace name for history data tables',
      p_display_seq_form => 14,
      p_display_seq_report => 14,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TS_HIST_DATA');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Ts Hist Indx',
      p_help_text => 'Default tablespace name for history indexes',
      p_display_seq_form => 15,
      p_display_seq_report => 15,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TS_HIST_INDX');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Usr Datatype',
      p_help_text => 'Datatype for the "_USR" data columns in history tables tables. The default value is VARCHAR2(30).',
      p_display_seq_form => 16,
      p_display_seq_report => 16,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 11,
      p_max_width => 20,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'USR_DATATYPE');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Usr Frgn Key',
      p_help_text => 'Foreign Key for the "_USR" data columns in history tables. Must be of the form "table", "schema.table", "table(column)",  or "schema.table(column)".',
      p_display_seq_form => 17,
      p_display_seq_report => 17,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 100,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'USR_FRGN_KEY');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Copyright',
      p_help_text => 'Copyright notice that is placed in the comment header in all generated scripts',
      p_display_seq_form => 18,
      p_display_seq_report => 18,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 32767,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'COPYRIGHT');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these applications',
      p_display_seq_form => 19,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   ----------------------------------------

end;
/
select '***  files  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('files maint1, 2');
   pnum     := 1002 + page_os;
   pname    := 'Files Maint';
   ts_name  := 'EXTRA_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('FILES_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "FILES_LOV"');
      s := 'select files_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".files' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'FILES_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Files for capturing scripts and logs'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',applications_nk1' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',CREATED_DT' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
        'from "#OWNER#".FILES_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_APPLICATION_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_APPLICATION_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   application_id between nvl(:P' || pnum || '_APPLICATION_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_APPLICATION_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_APPLICATIONS_NK1 is null' || CHR(10) ||
        '      or applications_nk1 like :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_NAME is null' || CHR(10) ||
        '      or name like :P' || pnum || '_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TYPE is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_TYPE||'':'', '':''||type||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   (    :P' || pnum || '_CREATED_DT_MIN is null' || CHR(10) ||
        '          and :P' || pnum || '_CREATED_DT_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '      or (   created_dt between nvl(to_date(:P' || pnum || '_CREATED_DT_MIN' || CHR(10) ||
        '                                   ,''DD-MON-YYYY HH24.MI.SS''), "#OWNER#".util.get_first_dtm)' || CHR(10) ||
        '                             and nvl(to_date(:P' || pnum || '_CREATED_DT_MAX' || CHR(10) ||
        '                                   ,''DD-MON-YYYY HH24.MI.SS''), "#OWNER#".util.get_last_dtm)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_AUD_BEG_USR is null' || CHR(10) ||
        '      or aud_beg_usr like :P' || pnum || '_AUD_BEG_USR' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   (    :P' || pnum || '_AUD_BEG_DTM_MIN is null' || CHR(10) ||
        '          and :P' || pnum || '_AUD_BEG_DTM_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '      or (   aud_beg_dtm between nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MIN,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_first_dtm)' || CHR(10) ||
        '                             and nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MAX,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_last_dtm)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1002 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATION_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Application Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'APPLICATION_ID',
      p_column_comment=>'Surrogate Key for the application of this file');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'APPLICATION_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the application of this file');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATIONS_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Applications Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'APPLICATIONS_NK1',
      p_column_comment=>'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'APPLICATIONS_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'NAME',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'NAME',
      p_column_comment=>'Name of this file');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Name of this file');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'TYPE',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Type',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","3")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'TYPE',
      p_column_comment=>'Type for this file');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'TYPE',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Type for this file');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'CREATED_DT',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Created Dt',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS',
      p_column_alignment=>'CENTER',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'DATE_PICKER',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '11',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","20")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'CREATED_DT',
      p_column_comment=>'Time/Date this file was created/updated');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'CREATED_DT',
      p_display_as=> 'DATE_POPUP',
      p_column_comment=> 'Time/Date this file was created/updated');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'DESCRIPTION',
      p_column_comment=>'Description for this file');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 15,
      p_query_column_name=> 'DESCRIPTION',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Description for this file');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 17,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_USR',
      p_column_display_sequence=> 170,
      p_column_heading=> 'Aud Beg Usr',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '30',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'AUD_BEG_USR',
      p_column_comment=>'Created by');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 18,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_DTM',
      p_column_display_sequence=> 180,
      p_column_heading=> 'Aud Beg DTM',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '15',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILES_ACT',
      p_ref_column_name=> 'AUD_BEG_DTM',
      p_column_comment=>'Date/Time Created');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1202 + page_os) || ':&SESSION.::&DEBUG.:' || (1202 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Application Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this file). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this file). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Applications Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATIONS_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for APPLICATIONS_NK1 (APPLICATIONS Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for NAME (Name of this file). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');
   lov_id := get_lov_id('FILE TYPE', 'Static');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Type Select:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TYPE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'FILE TYPE',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search list for TYPE (Type for this file). Select one or more values from the list.',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_CREATED_DT_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Created Dt Range from:',
      p_format_mask=>'DD-MON-YYYY HH24:MI:SS',
      p_source=>'P' || pnum || '_CREATED_DT_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 11,
      p_cMaxlength=> 20,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for CREATED_DT (Time/Date this file was created/updated). "From" and "To" Dates may not be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_CREATED_DT_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 165,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'DD-MON-YYYY HH24:MI:SS',
      p_source=>'P' || pnum || '_CREATED_DT_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 11,
      p_cMaxlength=> 20,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for CREATED_DT (Time/Date this file was created/updated). "From" and "To" Dates may not be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Description Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DESCRIPTION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DESCRIPTION (Description for this file). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_USR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 180,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'AUD_BEG_USR Search:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_AUD_BEG_USR',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> 15,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search string for AUD_BEG_USR. Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_DTM_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 190,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'EFF_BEG_DTM Range from:',
      p_format_mask=>'DD-MON-YYYY HH24:MI:SS.FF9',
      p_source=> 'P' || pnum || '_AUD_BEG_DTM_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> 15,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for AUD_BEG_DTM. "From" and "To" Dates may not be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_DTM_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 195,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'DD-MON-YYYY HH24:MI:SS.FF9',
      p_source=> 'P' || pnum || '_AUD_BEG_DTM_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> 15,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for AUD_BEG_DTM. "From" and "To" Dates may not be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P'||pnum||'_SHOW_HIST',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 200,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default=> 'HIDE_HISTORY',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'(CANCELS pending changes)',
      p_source=>'P'||pnum||'_SHOW_HIST',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_lov=> 'STATIC:HIDE_HISTORY,SHOW_HISTORY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Show the history reports below. Changing this selection will immediately discard all changed pending on this form.',
      p_lov_display_extra=>'NO',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'REDIRECT_SET_VALUE',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1202 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.files_act' || CHR(10) ||
       '              set  application_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,applications_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,name = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,type = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,created_dt = ' || CHR(10) ||
       '                      to_date(apex_application.g_f07(i)' || CHR(10) ||
       '                             ,''DD-MON-YYYY HH24:MI:SS'')' || CHR(10) ||
       '                  ,description = ' || CHR(10) ||
       '                      apex_application.g_f08(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.files_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,application_id' || CHR(10) ||
       '               ,applications_nk1' || CHR(10) ||
       '               ,name' || CHR(10) ||
       '               ,type' || CHR(10) ||
       '               ,created_dt' || CHR(10) ||
       '               ,description' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,to_date(apex_application.g_f07(i)' || CHR(10) ||
       '                       ,''DD-MON-YYYY HH24:MI:SS'')' || CHR(10) ||
       '               ,apex_application.g_f08(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of FILES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:FILES_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_POP of FILES_ACT',
      p_process_sql_clob => '#OWNER#.files_dml.pop(:P'||pnum||'_POP_ID);', 
      p_process_error_message=> 'POP: Unable to pop files.',
      p_process_when_button_id=> null,
      p_process_when=>'POP_REQUEST',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=> 'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 60,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1202+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 80,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

-----------------------------------------------------------------------

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   allp_id    number;          -- ALL View Plug ID
   irws_id   number;           -- Interactive Report Worksheet ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   rhist_id   number;          -- (Report Region) HIST View ID
   rpop_id    number;          -- (Report Region) POP_AUDIT ID
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('files maint2, 2');
   pnum     := 1002 + page_os;
   pname    := 'Files Maint';
   allp_id  := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   rhist_id := wwv_flow_id.next_val;
   rpop_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Create ALL Report');
   s := 'select ID' || CHR(10) ||
              ',STAT' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',applications_NK1'|| CHR(10) ||
              ',NAME' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',CREATED_DT' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(DESCRIPTION,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' DESCRIPTION' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_END_USR' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_END_DTM' || CHR(10) ||
        'from "#OWNER#".FILES_ALL' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_APPLICATION_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_APPLICATION_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   application_id between nvl(:P' || pnum || '_APPLICATION_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_APPLICATION_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_APPLICATIONS_NK1 is null' || CHR(10) ||
        '      or applications_nk1 like :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_NAME is null' || CHR(10) ||
        '      or name like :P' || pnum || '_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TYPE is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_TYPE||'':'', '':''||type||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   (    :P' || pnum || '_CREATED_DT_MIN is null' || CHR(10) ||
        '          and :P' || pnum || '_CREATED_DT_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '      or (   created_dt between nvl(to_date(:P' || pnum || '_CREATED_DT_MIN' || CHR(10) ||
        '                                   ,''DD-MON-YYYY HH24.MI.SS''), "#OWNER#".util.get_first_dtm)' || CHR(10) ||
        '                             and nvl(to_date(:P' || pnum || '_CREATED_DT_MAX' || CHR(10) ||
        '                                   ,''DD-MON-YYYY HH24.MI.SS''), "#OWNER#".util.get_last_dtm)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_AUD_BEG_USR is null' || CHR(10) ||
        '      or aud_beg_usr like :P' || pnum || '_AUD_BEG_USR' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   (    :P' || pnum || '_AUD_BEG_DTM_MIN is null' || CHR(10) ||
        '          and :P' || pnum || '_AUD_BEG_DTM_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '      or (   aud_beg_dtm between nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MIN,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_first_dtm)' || CHR(10) ||
        '                             and nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MAX,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_last_dtm)' || CHR(10) ||
        '          )   )';

   wwv_flow_api.create_page_plug (
      p_id=> allp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'All Files',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 30,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s,
      p_plug_source_type=> 'DYNAMIC_QUERY',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => 'VAL_OF_ITEM_IN_COND_EQ_COND2',
      p_plug_display_when_condition => 'P'||pnum||'_SHOW_HIST',
      p_plug_display_when_cond2=>'SHOW_HISTORY',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_worksheet(
      p_id=> irws_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_region_id=> allp_id,
      p_name=> 'All Files',
      p_folder_id=> null, 
      p_alias=> '',
      p_report_id_item=> '',
      p_max_row_count=> '10000',
      p_max_row_count_message=> 'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.',
      p_no_data_found_message=> 'No data found.',
      p_max_rows_per_page=>'',
      p_search_button_label=>'',
      p_page_items_to_submit=>'',
      p_sort_asc_image=>'',
      p_sort_asc_image_attr=>'',
      p_sort_desc_image=>'',
      p_sort_desc_image_attr=>'',
      p_sql_query => s,
      p_status=>'AVAILABLE_FOR_OWNER',
      p_allow_report_saving=>'Y',
      p_allow_save_rpt_public=>'N',
      p_allow_report_categories=>'N',
      p_show_nulls_as=>'-',
      p_pagination_type=>'ROWS_X_TO_Y',
      p_pagination_display_pos=>'BOTTOM_LEFT',
      p_show_finder_drop_down=>'Y',
      p_show_display_row_count=>'N',
      p_show_search_bar=>'Y',
      p_show_search_textbox=>'Y',
      p_show_actions_menu=>'Y',
      p_report_list_mode=>'TABS',
      p_show_detail_link=>'C',
      p_show_select_columns=>'Y',
      p_show_rows_per_page=>'Y',
      p_show_filter=>'Y',
      p_show_sort=>'Y',
      p_show_control_break=>'Y',
      p_show_highlight=>'Y',
      p_show_computation=>'Y',
      p_show_aggregate=>'Y',
      p_show_chart=>'Y',
      p_show_group_by=>'Y',
      p_show_notify=>'N',
      p_show_calendar=>'N',
      p_show_flashback=>'Y',
      p_show_reset=>'Y',
      p_show_download=>'Y',
      p_show_help=>'Y',
      p_download_formats=>'CSV:HTML:EMAIL',
      p_detail_link=>'f?p=&APP_ID.:'||pnum||':&SESSION.::&DEBUG.:RP:'||
                     'P'||pnum||'_POP_ID,P'||pnum||'_POP_STAT:'||
                     '#ID#,#STAT#',
      p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pt_boxes_20.png" alt="">',
      p_allow_exclude_null_values=>'N',
      p_allow_hide_extra_columns=>'N',
      p_icon_view_enabled_yn=>'N',
      p_icon_view_columns_per_row=>1,
      p_detail_view_enabled_yn=>'N',
      p_owner=>ws_name);


   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'ID',
      p_display_order          =>1,
      p_group_id               =>null,
      p_column_identifier      =>'A',
      p_column_label           =>'Id',
      p_report_label           =>'Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'STAT',
      p_display_order          =>2,
      p_group_id               =>null,
      p_column_identifier      =>'B',
      p_column_label           =>'Stat',
      p_report_label           =>'Stat',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'APPLICATION_ID',
      p_display_order          =>3,
      p_group_id               =>null,
      p_column_identifier      =>'C',
      p_column_label           =>'Application Id',
      p_report_label           =>'Application Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'APPLICATIONS_NK1',
      p_display_order          =>4,
      p_group_id               =>null,
      p_column_identifier      =>'D',
      p_column_label           =>'Applications Nk1',
      p_report_label           =>'Applications Nk1',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'NAME',
      p_display_order          =>5,
      p_group_id               =>null,
      p_column_identifier      =>'E',
      p_column_label           =>'Name',
      p_report_label           =>'Name',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'TYPE',
      p_display_order          =>6,
      p_group_id               =>null,
      p_column_identifier      =>'F',
      p_column_label           =>'Type',
      p_report_label           =>'Type',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'CREATED_DT',
      p_display_order          =>7,
      p_group_id               =>null,
      p_column_identifier      =>'G',
      p_column_label           =>'Created Dt',
      p_report_label           =>'Created Dt',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'DESCRIPTION',
      p_display_order          =>8,
      p_group_id               =>null,
      p_column_identifier      =>'H',
      p_column_label           =>'Description',
      p_report_label           =>'Description',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'WITHOUT_MODIFICATION',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_USR',
      p_display_order          =>9,
      p_group_id               =>null,
      p_column_identifier      =>'I',
      p_column_label           =>'Aud Beg Usr',
      p_report_label           =>'Aud Beg Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_USR',
      p_display_order          =>10,
      p_group_id               =>null,
      p_column_identifier      =>'J',
      p_column_label           =>'Aud End Usr',
      p_report_label           =>'Aud End Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_DTM',
      p_display_order          =>11,
      p_group_id               =>null,
      p_column_identifier      =>'K',
      p_column_label           =>'Aud Beg Dtm',
      p_report_label           =>'Aud Beg Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_DTM',
      p_display_order          =>12,
      p_group_id               =>null,
      p_column_identifier      =>'L',
      p_column_label           =>'Aud End Dtm',
      p_report_label           =>'Aud End Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_rpt(
      p_id => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id => irws_id,
      p_session_id  => null,
      p_base_report_id  => null,
      p_application_user => 'APXWS_DEFAULT',
      p_report_seq              =>10,
      p_report_alias            =>'All Files Default',
      p_status                  =>'PUBLIC',
      p_category_id             =>null,
      p_is_default              =>'Y',
      p_display_rows            =>15,
      p_report_columns          =>'ID:STAT:APPLICATION_ID:APPLICATIONS_NK1:NAME:TYPE:CREATED_DT:DESCRIPTION:AUD_BEG_USR:AUD_END_USR:AUD_BEG_DTM:AUD_END_DTM',
      p_flashback_enabled       =>'N',
      p_calendar_display_column =>'');

   dbms_output.put_line('  ...Create History Report');
   s := 'select FILES_ID' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_END_DTM' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',CREATED_DT' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_END_USR' || CHR(10) ||
        'from "#OWNER#".FILES_AUD' || CHR(10) ||
        'where files_id = :P' || pnum || '_POP_ID';

   wwv_flow_api.create_report_region (
      p_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> 'Files History',
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 40,
      p_display_column=> 1,
      p_display_point=> 'AFTER_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_display_when_condition=> 'P' || pnum || '_SHOW_HIST',
      p_display_when_cond2=> 'SHOW_HISTORY',
      p_display_condition_type=> 'VAL_OF_ITEM_IN_COND_EQ_COND2',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_break_cols=> '0',
      p_query_no_data_found=> 'no data found',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_csv_output=> 'N',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'FILES_ID',
      p_column_display_sequence=> 1,
      p_column_heading=> 'Files Id',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_DTM',
      p_column_display_sequence=> 2,
      p_column_heading=> 'Aud Beg Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 1,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_END_DTM',
      p_column_display_sequence=> 3,
      p_column_heading=> 'Aud End Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATION_ID',
      p_column_display_sequence=> 4,
      p_column_heading=> 'Application Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 5,
      p_form_element_id=> null,
      p_column_alias=> 'NAME',
      p_column_display_sequence=> 5,
      p_column_heading=> 'Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'TYPE',
      p_column_display_sequence=> 6,
      p_column_heading=> 'Type',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 7,
      p_form_element_id=> null,
      p_column_alias=> 'CREATED_DT',
      p_column_display_sequence=> 7,
      p_column_heading=> 'Created Dt',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 8,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 9,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_USR',
      p_column_display_sequence=> 9,
      p_column_heading=> 'Aud Beg Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_END_USR',
      p_column_display_sequence=> 10,
      p_column_heading=> 'Aud End Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P'||pnum||'_POP_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => rhist_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Files ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'The Files ID that will be "POPPED".',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P'||pnum||'_POP_BUTTON',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => rhist_id,
      p_use_cache_before_default=> 'NO',
      p_item_default=> 'POP_REQUEST',
      p_prompt=>'POP Files ID',
      p_source=>'POP_REQUEST',
      p_source_type=> 'STATIC',
      p_display_as=> 'BUTTON',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> null,
      p_cMaxlength=> 2000,
      p_cHeight=> null,
      p_tag_attributes  => 'template:'||bb_tid,
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT',
      p_display_when=>'return :P'||pnum||'_POP_ID is not null' ||
                      ' and :P'||pnum||'_POP_STAT != ''POP'';',
      p_display_when_type=>'FUNCTION_BODY',
      p_is_persistent=> 'N',
      p_button_execute_validations=>'Y',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_POP_STAT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => rhist_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> null,
      p_cMaxlength=> 4000,
      p_cHeight=> null,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT',
      p_is_persistent=> 'Y',
      p_attribute_01 => 'Y',
      p_item_comment => '');

   dbms_output.put_line('  ...Create POP_AUDIT Report');
   s := 'select FILES_ID' || CHR(10) ||
              ',POP_DML' || CHR(10) ||
              ',POP_DTM' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',CREATED_DT' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_PREV_BEG_USR' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_PREV_BEG_DTM' || CHR(10) ||
              ',POP_USR' || CHR(10) ||
        'from "#OWNER#".FILES_PDAT' || CHR(10) ||
        'where FILES_ID = :P' || pnum || '_POP_ID';

   wwv_flow_api.create_report_region (
      p_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> 'Pop Audit',
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 50,
      p_display_column=> 1,
      p_display_point=> 'AFTER_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_display_when_condition=> 'P'||pnum||'_SHOW_HIST',
      p_display_when_cond2=> 'SHOW_HISTORY',
      p_display_condition_type=> 'VAL_OF_ITEM_IN_COND_EQ_COND2',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_break_cols=> '0',
      p_query_no_data_found=> 'no data found',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_csv_output=> 'N',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'FILES_ID',
      p_column_display_sequence=> 1,
      p_column_heading=> 'Files Id',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'POP_DML',
      p_column_display_sequence=> 2,
      p_column_heading=> 'Pop Dml',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'POP_DTM',
      p_column_display_sequence=> 3,
      p_column_heading=> 'Pop Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 1,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATION_ID',
      p_column_display_sequence=> 4,
      p_column_heading=> 'Application Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 5,
      p_form_element_id=> null,
      p_column_alias=> 'NAME',
      p_column_display_sequence=> 5,
      p_column_heading=> 'Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'TYPE',
      p_column_display_sequence=> 6,
      p_column_heading=> 'Type',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 7,
      p_form_element_id=> null,
      p_column_alias=> 'CREATED_DT',
      p_column_display_sequence=> 7,
      p_column_heading=> 'Created Dt',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 8,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 9,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_USR',
      p_column_display_sequence=> 9,
      p_column_heading=> 'Aud Beg Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_PREV_BEG_USR',
      p_column_display_sequence=> 10,
      p_column_heading=> 'Aud Prev Beg Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 11,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_DTM',
      p_column_display_sequence=> 11,
      p_column_heading=> 'Aud Beg Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_PREV_BEG_DTM',
      p_column_display_sequence=> 12,
      p_column_heading=> 'Aud Prev Beg Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 13,
      p_form_element_id=> null,
      p_column_alias=> 'POP_USR',
      p_column_display_sequence=> 13,
      p_column_heading=> 'Pop Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('files form, 2');
   pnum     := 1202 + page_os;
   pname    := 'Files Form';
   ts_name  := 'EXTRA_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Files for capturing scripts and logs'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1002 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1002 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Application Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'APPLICATION_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the application of this file',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Applications Nk1:',
      p_format_mask=>'',
      p_source=>'APPLICATIONS_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Name:',
      p_format_mask=>'',
      p_source=>'NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Name of this file',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := get_lov_id('FILE TYPE', 'Static');
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Type:',
      p_format_mask=>'',
      p_source=>'TYPE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'FILE TYPE',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Type for this file',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_attribute_03 => '',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_CREATED_DT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Created Dt:',
      p_format_mask=>'DD-MON-YYYY HH24:MI:SS',
      p_source=>'CREATED_DT',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DATE_PICKER',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 20,
      p_cMaxlength=> 20,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Time/Date this file was created/updated',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => '',
      p_attribute_04 => 'button',
      p_attribute_05 => 'N',
      p_attribute_06 => 'NONE',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Description:',
      p_format_mask=>'',
      p_source=>'DESCRIPTION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Description for this file',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_USR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Aud Beg Usr:',
      p_source=>'AUD_BEG_USR',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 15,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'User that created this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_DTM',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 90,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Aud Beg Dtm:',
      p_format_mask=>'DD-MON-YYYY HH24:MI:SS.FF9',
      p_source=>'AUD_BEG_DTM',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Date/Time this record was created',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from FILES_ACT',
      p_process_sql_clob => 'F|#OWNER#:FILES_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view FILES_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.files_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_type => :P' || pnum || '_TYPE' || CHR(10) ||
        '      ,n_created_dt => :P' || pnum || '_CREATED_DT' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of FILES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view FILES_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.files_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_type => :P' || pnum || '_TYPE' || CHR(10) ||
        '      ,n_created_dt => :P' || pnum || '_CREATED_DT' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of FILES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view FILES_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.files_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for FILES_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view FILES_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('files omni, 2');
   pnum     := 1402 + page_os;
   pname    := 'Files OMNI';
   ts_name  := 'EXTRA_OMNI_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Files for capturing scripts and logs'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Interactive Report');
   s := 'select ID FILES_ID' || CHR(10) ||
              ',''ACT'' STAT' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',null AUD_END_DTM' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',CREATED_DT' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(DESCRIPTION,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' DESCRIPTION' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',null AUD_END_USR' || CHR(10) ||
        'from "#OWNER#".FILES' || CHR(10) ||
        'union all' || CHR(10) ||
        'select FILES_ID' || CHR(10) ||
              ',''HIST'' STAT' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_END_DTM' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',CREATED_DT' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(DESCRIPTION,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' DESCRIPTION' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_END_USR' || CHR(10) ||
        'from "#OWNER#".FILES_AUD' || CHR(10) ||
        'union all' || CHR(10) ||
        'select FILES_ID' || CHR(10) ||
              ',''POP'' STAT' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',POP_DTM AUD_END_DTM' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',CREATED_DT' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(DESCRIPTION,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' DESCRIPTION' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',POP_USR AUD_END_USR' || CHR(10) ||
        'from "#OWNER#".FILES_PDAT' || CHR(10) ||
        ';'; 

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s,
      p_plug_source_type=> 'DYNAMIC_QUERY',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_worksheet(
      p_id=> irws_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_region_id=> irp_id,
      p_name=> pname,
      p_folder_id=> null, 
      p_alias=> '',
      p_report_id_item=> '',
      p_max_row_count=> '10000',
      p_max_row_count_message=> 'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.',
      p_no_data_found_message=> 'No data found.',
      p_max_rows_per_page=>'',
      p_search_button_label=>'',
      p_page_items_to_submit=>'',
      p_sort_asc_image=>'',
      p_sort_asc_image_attr=>'',
      p_sort_desc_image=>'',
      p_sort_desc_image_attr=>'',
      p_sql_query => s,
      p_status=>'AVAILABLE_FOR_OWNER',
      p_allow_report_saving=>'Y',
      p_allow_save_rpt_public=>'N',
      p_allow_report_categories=>'N',
      p_show_nulls_as=>'-',
      p_pagination_type=>'ROWS_X_TO_Y',
      p_pagination_display_pos=>'BOTTOM_LEFT',
      p_show_finder_drop_down=>'Y',
      p_show_display_row_count=>'N',
      p_show_search_bar=>'Y',
      p_show_search_textbox=>'Y',
      p_show_actions_menu=>'Y',
      p_report_list_mode=>'TABS',
      p_show_detail_link=>'C',
      p_show_select_columns=>'Y',
      p_show_rows_per_page=>'Y',
      p_show_filter=>'Y',
      p_show_sort=>'Y',
      p_show_control_break=>'Y',
      p_show_highlight=>'Y',
      p_show_computation=>'Y',
      p_show_aggregate=>'Y',
      p_show_chart=>'Y',
      p_show_group_by=>'Y',
      p_show_notify=>'N',
      p_show_calendar=>'N',
      p_show_flashback=>'Y',
      p_show_reset=>'Y',
      p_show_download=>'Y',
      p_show_help=>'Y',
      p_download_formats=>'CSV:HTML:EMAIL',
      p_detail_link=>'f?p=&APP_ID.:'||pnum||':&SESSION.::&DEBUG.:RP:P'||pnum||'_POP_ID:#ID#',
      p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pt_boxes_20.png" alt="">',
      p_allow_exclude_null_values=>'N',
      p_allow_hide_extra_columns=>'N',
      p_icon_view_enabled_yn=>'N',
      p_icon_view_columns_per_row=>1,
      p_detail_view_enabled_yn=>'N',
      p_owner=>ws_name);


   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'FILES_ID',
      p_display_order          =>1,
      p_group_id               =>null,
      p_column_identifier      =>'A',
      p_column_label           =>'Files Id',
      p_report_label           =>'Files Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'STAT',
      p_display_order          =>2,
      p_group_id               =>null,
      p_column_identifier      =>'B',
      p_column_label           =>'Stat',
      p_report_label           =>'Stat',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_DTM',
      p_display_order          =>3,
      p_group_id               =>null,
      p_column_identifier      =>'C',
      p_column_label           =>'Aud Beg Dtm',
      p_report_label           =>'Aud Beg Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_DTM',
      p_display_order          =>4,
      p_group_id               =>null,
      p_column_identifier      =>'D',
      p_column_label           =>'Aud End Dtm',
      p_report_label           =>'Aud End Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'APPLICATION_ID',
      p_display_order          =>5,
      p_group_id               =>null,
      p_column_identifier      =>'E',
      p_column_label           =>'Application Id',
      p_report_label           =>'Application Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'NAME',
      p_display_order          =>6,
      p_group_id               =>null,
      p_column_identifier      =>'F',
      p_column_label           =>'Name',
      p_report_label           =>'Name',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'TYPE',
      p_display_order          =>7,
      p_group_id               =>null,
      p_column_identifier      =>'G',
      p_column_label           =>'Type',
      p_report_label           =>'Type',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'CREATED_DT',
      p_display_order          =>8,
      p_group_id               =>null,
      p_column_identifier      =>'H',
      p_column_label           =>'Created Dt',
      p_report_label           =>'Created Dt',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'DESCRIPTION',
      p_display_order          =>9,
      p_group_id               =>null,
      p_column_identifier      =>'I',
      p_column_label           =>'Description',
      p_report_label           =>'Description',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'WITHOUT_MODIFICATION',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_USR',
      p_display_order          =>10,
      p_group_id               =>null,
      p_column_identifier      =>'J',
      p_column_label           =>'Aud Beg Usr',
      p_report_label           =>'Aud Beg Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_USR',
      p_display_order          =>11,
      p_group_id               =>null,
      p_column_identifier      =>'K',
      p_column_label           =>'Aud End Usr',
      p_report_label           =>'Aud End Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_rpt(
      p_id => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id => irws_id,
      p_session_id  => null,
      p_base_report_id  => null,
      p_application_user => 'APXWS_DEFAULT',
      p_report_seq              =>10,
      p_report_alias            =>pname || ' Default',
      p_status                  =>'PUBLIC',
      p_category_id             =>null,
      p_is_default              =>'Y',
      p_display_rows            =>15,
      p_report_columns          =>'ID:STAT:AUD_BEG_DTM:AUD_END_DTM:APPLICATION_ID:APPLICATIONS_NK1:NAME:TYPE:CREATED_DT:DESCRIPTION:AUD_BEG_USR:AUD_END_USR',
      p_flashback_enabled       =>'N',
      p_calendar_display_column =>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('files asof, 2');
   pnum     := 1602 + page_os;
   pname    := 'Files ASOF';
   ts_name  := 'EXTRA_ASOF_TS';
   irp_id  := wwv_flow_id.next_val;
   irws_id := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Files for capturing scripts and logs'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Interactive Report');
   s := 'select ID' || CHR(10) ||
              ',STAT' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',applications_NK1'|| CHR(10) ||
              ',NAME' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',CREATED_DT' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(DESCRIPTION,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' DESCRIPTION' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_END_USR' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_END_DTM' || CHR(10) ||
        'from "#OWNER#".FILES_ASOF' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_APPLICATION_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_APPLICATION_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   application_id between nvl(:P' || pnum || '_APPLICATION_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_APPLICATION_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_APPLICATIONS_NK1 is null' || CHR(10) ||
        '      or applications_nk1 like :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_NAME is null' || CHR(10) ||
        '      or name like :P' || pnum || '_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TYPE is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_TYPE||'':'', '':''||type||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   (    :P' || pnum || '_CREATED_DT_MIN is null' || CHR(10) ||
        '          and :P' || pnum || '_CREATED_DT_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '      or (   created_dt between nvl(to_date(:P' || pnum || '_CREATED_DT_MIN' || CHR(10) ||
        '                                   ,''DD-MON-YYYY HH24.MI.SS''), "#OWNER#".util.get_first_dtm)' || CHR(10) ||
        '                             and nvl(to_date(:P' || pnum || '_CREATED_DT_MAX' || CHR(10) ||
        '                                   ,''DD-MON-YYYY HH24.MI.SS''), "#OWNER#".util.get_last_dtm)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_AUD_BEG_USR is null' || CHR(10) ||
        '      or aud_beg_usr like :P' || pnum || '_AUD_BEG_USR' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   (    :P' || pnum || '_AUD_BEG_DTM_MIN is null' || CHR(10) ||
        '          and :P' || pnum || '_AUD_BEG_DTM_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '      or (   aud_beg_dtm between nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MIN,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_first_dtm)' || CHR(10) ||
        '                             and nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MAX,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_last_dtm)' || CHR(10) ||
        '          )   )';

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s,
      p_plug_source_type=> 'DYNAMIC_QUERY',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_worksheet(
      p_id=> irws_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_region_id=> irp_id,
      p_name=> pname,
      p_folder_id=> null, 
      p_alias=> '',
      p_report_id_item=> '',
      p_max_row_count=> '10000',
      p_max_row_count_message=> 'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.',
      p_no_data_found_message=> 'No data found.',
      p_max_rows_per_page=>'',
      p_search_button_label=>'',
      p_page_items_to_submit=>'',
      p_sort_asc_image=>'',
      p_sort_asc_image_attr=>'',
      p_sort_desc_image=>'',
      p_sort_desc_image_attr=>'',
      p_sql_query => s,
      p_status=>'AVAILABLE_FOR_OWNER',
      p_allow_report_saving=>'Y',
      p_allow_save_rpt_public=>'N',
      p_allow_report_categories=>'N',
      p_show_nulls_as=>'-',
      p_pagination_type=>'ROWS_X_TO_Y',
      p_pagination_display_pos=>'BOTTOM_LEFT',
      p_show_finder_drop_down=>'Y',
      p_show_display_row_count=>'N',
      p_show_search_bar=>'Y',
      p_show_search_textbox=>'Y',
      p_show_actions_menu=>'Y',
      p_report_list_mode=>'TABS',
      p_show_detail_link=>'C',
      p_show_select_columns=>'Y',
      p_show_rows_per_page=>'Y',
      p_show_filter=>'Y',
      p_show_sort=>'Y',
      p_show_control_break=>'Y',
      p_show_highlight=>'Y',
      p_show_computation=>'Y',
      p_show_aggregate=>'Y',
      p_show_chart=>'Y',
      p_show_group_by=>'Y',
      p_show_notify=>'N',
      p_show_calendar=>'N',
      p_show_flashback=>'Y',
      p_show_reset=>'Y',
      p_show_download=>'Y',
      p_show_help=>'Y',
      p_download_formats=>'CSV:HTML:EMAIL',
      p_detail_link=>'f?p=&APP_ID.:'||pnum||':&SESSION.::&DEBUG.:RP:P'||pnum||'_POP_ID:#ID#',
      p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pt_boxes_20.png" alt="">',
      p_allow_exclude_null_values=>'N',
      p_allow_hide_extra_columns=>'N',
      p_icon_view_enabled_yn=>'N',
      p_icon_view_columns_per_row=>1,
      p_detail_view_enabled_yn=>'N',
      p_owner=>ws_name);


   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'ID',
      p_display_order          =>1,
      p_group_id               =>null,
      p_column_identifier      =>'A',
      p_column_label           =>'Id',
      p_report_label           =>'Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'STAT',
      p_display_order          =>2,
      p_group_id               =>null,
      p_column_identifier      =>'B',
      p_column_label           =>'Stat',
      p_report_label           =>'Stat',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'APPLICATION_ID',
      p_display_order          =>3,
      p_group_id               =>null,
      p_column_identifier      =>'C',
      p_column_label           =>'Application Id',
      p_report_label           =>'Application Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'APPLICATIONS_NK1',
      p_display_order          =>4,
      p_group_id               =>null,
      p_column_identifier      =>'D',
      p_column_label           =>'Applications Nk1',
      p_report_label           =>'Applications Nk1',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'NAME',
      p_display_order          =>5,
      p_group_id               =>null,
      p_column_identifier      =>'E',
      p_column_label           =>'Name',
      p_report_label           =>'Name',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'TYPE',
      p_display_order          =>6,
      p_group_id               =>null,
      p_column_identifier      =>'F',
      p_column_label           =>'Type',
      p_report_label           =>'Type',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'CREATED_DT',
      p_display_order          =>7,
      p_group_id               =>null,
      p_column_identifier      =>'G',
      p_column_label           =>'Created Dt',
      p_report_label           =>'Created Dt',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'DESCRIPTION',
      p_display_order          =>8,
      p_group_id               =>null,
      p_column_identifier      =>'H',
      p_column_label           =>'Description',
      p_report_label           =>'Description',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'WITHOUT_MODIFICATION',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_USR',
      p_display_order          =>9,
      p_group_id               =>null,
      p_column_identifier      =>'I',
      p_column_label           =>'Aud Beg Usr',
      p_report_label           =>'Aud Beg Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_USR',
      p_display_order          =>10,
      p_group_id               =>null,
      p_column_identifier      =>'J',
      p_column_label           =>'Aud End Usr',
      p_report_label           =>'Aud End Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_DTM',
      p_display_order          =>11,
      p_group_id               =>null,
      p_column_identifier      =>'K',
      p_column_label           =>'Aud Beg Dtm',
      p_report_label           =>'Aud Beg Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_DTM',
      p_display_order          =>12,
      p_group_id               =>null,
      p_column_identifier      =>'L',
      p_column_label           =>'Aud End Dtm',
      p_report_label           =>'Aud End Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_rpt(
      p_id => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id => irws_id,
      p_session_id  => null,
      p_base_report_id  => null,
      p_application_user => 'APXWS_DEFAULT',
      p_report_seq              =>10,
      p_report_alias            =>pname || ' Default',
      p_status                  =>'PUBLIC',
      p_category_id             =>null,
      p_is_default              =>'Y',
      p_display_rows            =>15,
      p_report_columns          =>'ID:STAT:APPLICATION_ID:APPLICATIONS_NK1:NAME:TYPE:CREATED_DT:DESCRIPTION:AUD_BEG_USR:AUD_END_USR:AUD_BEG_DTM:AUD_END_DTM',
      p_flashback_enabled       =>'N',
      p_calendar_display_column =>'');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ASOF_DTM',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'The ASOF Date/Time for this report: ',
      p_source=>'P' || (1600 + page_os) || '_ASOF_DTM',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 4000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'The ASOF Date/Time value can be changed using the ASOF Report Meny page.',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   s := 'if :P1600_ASOF_DTM is null' || CHR(10) ||
        'then' || CHR(10) ||
        '   :P1600_ASOF_DTM := glob.get_asof_dtm;' || CHR(10) ||
        'end if;' || CHR(10) ||
        'glob.set_asof_dtm(:P1600_ASOF_DTM);';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'BEFORE_HEADER',
      p_process_type=> 'PLSQL',
      p_process_name=> 'Set UTIL_ASOF_DATE',
      p_process_sql_clob => s,
      p_process_error_message=> '',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'FILES_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'FILES_ACT',
      p_report_region_title => 'Files',
      p_form_region_title => 'Files');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Application Id',
      p_help_text => 'Surrogate Key for the application of this file',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select applications_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".applications'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATION_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Applications Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATIONS_NK1');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Name',
      p_help_text => 'Name of this file',
      p_display_seq_form => 4,
      p_display_seq_report => 4,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Type',
      p_help_text => 'Type for this file',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_SELECT_LIST',
      p_form_attribute_01 => 'NONE',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'SELECT_LIST_FROM_LOV',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 3,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TYPE');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 1,
      p_lov_disp_value => 'SQL Script',
      p_lov_return_value => 'SQL');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 2,
      p_lov_disp_value => 'Log File',
      p_lov_return_value => 'LOG');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Created Dt',
      p_help_text => 'Time/Date this file was created/updated',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 11,
      p_max_width => 20,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'CREATED_DT');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Description',
      p_help_text => 'Description for this file',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DESCRIPTION');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these files',
      p_display_seq_form => 8,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Created By',
      p_help_text => 'User that created this record',
      p_display_seq_form => 9,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 9,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'L',
      p_display_width => 15,
      p_max_width => 30,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'AUD_BEG_USR');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Date/Time Created',
      p_help_text => 'Date/Time this record was created (must be in nanoseconds)',
      p_mask_form => 'DD-MON-YYYY HH24.MI.SSXFF9',
      p_display_seq_form => 10,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 10,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_mask_report => 'DD-MON-YYYY HH24.MI.SSXFF9',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'L',
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'AUD_BEG_DTM');

   ----------------------------------------

end;
/
select '***  file_lines  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('file_lines maint1, 3');
   pnum     := 1003 + page_os;
   pname    := 'File Lines Maint';
   ts_name  := 'EXTRA_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('FILE_LINES_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "FILE_LINES_LOV"');
      s := 'select file_lines_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".file_lines' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'FILE_LINES_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Lines for files'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',FILE_ID' || CHR(10) ||
              ',files_nk1' || CHR(10) ||
              ',files_nk2' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',VALUE' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
        'from "#OWNER#".FILE_LINES_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_FILE_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_FILE_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   file_id between nvl(:P' || pnum || '_FILE_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_FILE_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_FILES_NK1 is null' || CHR(10) ||
        '      or files_nk1 like :P' || pnum || '_FILES_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_FILES_NK2 is null' || CHR(10) ||
        '      or files_nk2 like :P' || pnum || '_FILES_NK2' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_SEQ_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_SEQ_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   seq between nvl(:P' || pnum || '_SEQ_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_SEQ_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_VALUE is null' || CHR(10) ||
        '      or value like :P' || pnum || '_VALUE' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_AUD_BEG_USR is null' || CHR(10) ||
        '      or aud_beg_usr like :P' || pnum || '_AUD_BEG_USR' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   (    :P' || pnum || '_AUD_BEG_DTM_MIN is null' || CHR(10) ||
        '          and :P' || pnum || '_AUD_BEG_DTM_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '      or (   aud_beg_dtm between nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MIN,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_first_dtm)' || CHR(10) ||
        '                             and nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MAX,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_last_dtm)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILE_LINES_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILE_LINES_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1003 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'FILE_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'File Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILE_LINES_ACT',
      p_ref_column_name=> 'FILE_ID',
      p_column_comment=>'Surrogate Key for the file of this line');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'FILE_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the file of this line');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'FILES_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Files Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILE_LINES_ACT',
      p_ref_column_name=> 'FILES_NK1',
      p_column_comment=>'FILES Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'FILES_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'FILES Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'FILES_NK2',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Files Nk2',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILE_LINES_ACT',
      p_ref_column_name=> 'FILES_NK2',
      p_column_comment=>'FILES Natural Key Value 2: Name of this file');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'FILES_NK2',
      p_display_as=> 'TEXT',
      p_column_comment=> 'FILES Natural Key Value 2: Name of this file');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'SEQ',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Seq',
      p_column_format=> '999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '6',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","10")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILE_LINES_ACT',
      p_ref_column_name=> 'SEQ',
      p_column_comment=>'Sequence number for this line in the file');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'SEQ',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Sequence number for this line in the file');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'VALUE',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Value',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILE_LINES_ACT',
      p_ref_column_name=> 'VALUE',
      p_column_comment=>'Value or contents of this line in the file');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'VALUE',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Value or contents of this line in the file');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 15,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_USR',
      p_column_display_sequence=> 150,
      p_column_heading=> 'Aud Beg Usr',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '30',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILE_LINES_ACT',
      p_ref_column_name=> 'AUD_BEG_USR',
      p_column_comment=>'Created by');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_DTM',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Aud Beg DTM',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '15',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'FILE_LINES_ACT',
      p_ref_column_name=> 'AUD_BEG_DTM',
      p_column_comment=>'Date/Time Created');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1203 + page_os) || ':&SESSION.::&DEBUG.:' || (1203 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FILE_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'File Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FILE_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for FILE_ID (Surrogate Key for the file of this line). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FILE_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FILE_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for FILE_ID (Surrogate Key for the file of this line). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FILES_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Files Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FILES_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for FILES_NK1 (FILES Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FILES_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Files Nk2 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FILES_NK2',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for FILES_NK2 (FILES Natural Key Value 2: Name of this file). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Seq Range from:',
      p_format_mask=>'999999999',
      p_source=>'P' || pnum || '_SEQ_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 6,
      p_cMaxlength=> 10,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number for this line in the file). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 155,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'999999999',
      p_source=>'P' || pnum || '_SEQ_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 6,
      p_cMaxlength=> 10,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number for this line in the file). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_VALUE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Value Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_VALUE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for VALUE (Value or contents of this line in the file). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_USR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'AUD_BEG_USR Search:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_AUD_BEG_USR',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> 15,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search string for AUD_BEG_USR. Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_DTM_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 180,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'EFF_BEG_DTM Range from:',
      p_format_mask=>'DD-MON-YYYY HH24:MI:SS.FF9',
      p_source=> 'P' || pnum || '_AUD_BEG_DTM_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> 15,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for AUD_BEG_DTM. "From" and "To" Dates may not be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_DTM_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 185,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'DD-MON-YYYY HH24:MI:SS.FF9',
      p_source=> 'P' || pnum || '_AUD_BEG_DTM_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> 15,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for AUD_BEG_DTM. "From" and "To" Dates may not be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P'||pnum||'_SHOW_HIST',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 190,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default=> 'HIDE_HISTORY',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'(CANCELS pending changes)',
      p_source=>'P'||pnum||'_SHOW_HIST',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_lov=> 'STATIC:HIDE_HISTORY,SHOW_HISTORY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Show the history reports below. Changing this selection will immediately discard all changed pending on this form.',
      p_lov_display_extra=>'NO',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'REDIRECT_SET_VALUE',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1203 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.file_lines_act' || CHR(10) ||
       '              set  file_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,files_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,files_nk2 = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,seq = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,value = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.file_lines_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,file_id' || CHR(10) ||
       '               ,files_nk1' || CHR(10) ||
       '               ,files_nk2' || CHR(10) ||
       '               ,seq' || CHR(10) ||
       '               ,value' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of FILE_LINES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:FILE_LINES_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_POP of FILE_LINES_ACT',
      p_process_sql_clob => '#OWNER#.file_lines_dml.pop(:P'||pnum||'_POP_ID);', 
      p_process_error_message=> 'POP: Unable to pop file_lines.',
      p_process_when_button_id=> null,
      p_process_when=>'POP_REQUEST',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=> 'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 60,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1203+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 80,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

-----------------------------------------------------------------------

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   allp_id    number;          -- ALL View Plug ID
   irws_id   number;           -- Interactive Report Worksheet ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   rhist_id   number;          -- (Report Region) HIST View ID
   rpop_id    number;          -- (Report Region) POP_AUDIT ID
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('file_lines maint2, 3');
   pnum     := 1003 + page_os;
   pname    := 'File Lines Maint';
   allp_id  := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   rhist_id := wwv_flow_id.next_val;
   rpop_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Create ALL Report');
   s := 'select ID' || CHR(10) ||
              ',STAT' || CHR(10) ||
              ',FILE_ID' || CHR(10) ||
              ',files_NK1'|| CHR(10) ||
              ',files_NK2'|| CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(VALUE,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' VALUE' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_END_USR' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_END_DTM' || CHR(10) ||
        'from "#OWNER#".FILE_LINES_ALL' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_FILE_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_FILE_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   file_id between nvl(:P' || pnum || '_FILE_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_FILE_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_FILES_NK1 is null' || CHR(10) ||
        '      or files_nk1 like :P' || pnum || '_FILES_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_FILES_NK2 is null' || CHR(10) ||
        '      or files_nk2 like :P' || pnum || '_FILES_NK2' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_SEQ_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_SEQ_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   seq between nvl(:P' || pnum || '_SEQ_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_SEQ_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_VALUE is null' || CHR(10) ||
        '      or value like :P' || pnum || '_VALUE' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_AUD_BEG_USR is null' || CHR(10) ||
        '      or aud_beg_usr like :P' || pnum || '_AUD_BEG_USR' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   (    :P' || pnum || '_AUD_BEG_DTM_MIN is null' || CHR(10) ||
        '          and :P' || pnum || '_AUD_BEG_DTM_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '      or (   aud_beg_dtm between nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MIN,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_first_dtm)' || CHR(10) ||
        '                             and nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MAX,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_last_dtm)' || CHR(10) ||
        '          )   )';

   wwv_flow_api.create_page_plug (
      p_id=> allp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'All File Lines',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 30,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s,
      p_plug_source_type=> 'DYNAMIC_QUERY',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => 'VAL_OF_ITEM_IN_COND_EQ_COND2',
      p_plug_display_when_condition => 'P'||pnum||'_SHOW_HIST',
      p_plug_display_when_cond2=>'SHOW_HISTORY',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_worksheet(
      p_id=> irws_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_region_id=> allp_id,
      p_name=> 'All File Lines',
      p_folder_id=> null, 
      p_alias=> '',
      p_report_id_item=> '',
      p_max_row_count=> '10000',
      p_max_row_count_message=> 'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.',
      p_no_data_found_message=> 'No data found.',
      p_max_rows_per_page=>'',
      p_search_button_label=>'',
      p_page_items_to_submit=>'',
      p_sort_asc_image=>'',
      p_sort_asc_image_attr=>'',
      p_sort_desc_image=>'',
      p_sort_desc_image_attr=>'',
      p_sql_query => s,
      p_status=>'AVAILABLE_FOR_OWNER',
      p_allow_report_saving=>'Y',
      p_allow_save_rpt_public=>'N',
      p_allow_report_categories=>'N',
      p_show_nulls_as=>'-',
      p_pagination_type=>'ROWS_X_TO_Y',
      p_pagination_display_pos=>'BOTTOM_LEFT',
      p_show_finder_drop_down=>'Y',
      p_show_display_row_count=>'N',
      p_show_search_bar=>'Y',
      p_show_search_textbox=>'Y',
      p_show_actions_menu=>'Y',
      p_report_list_mode=>'TABS',
      p_show_detail_link=>'C',
      p_show_select_columns=>'Y',
      p_show_rows_per_page=>'Y',
      p_show_filter=>'Y',
      p_show_sort=>'Y',
      p_show_control_break=>'Y',
      p_show_highlight=>'Y',
      p_show_computation=>'Y',
      p_show_aggregate=>'Y',
      p_show_chart=>'Y',
      p_show_group_by=>'Y',
      p_show_notify=>'N',
      p_show_calendar=>'N',
      p_show_flashback=>'Y',
      p_show_reset=>'Y',
      p_show_download=>'Y',
      p_show_help=>'Y',
      p_download_formats=>'CSV:HTML:EMAIL',
      p_detail_link=>'f?p=&APP_ID.:'||pnum||':&SESSION.::&DEBUG.:RP:'||
                     'P'||pnum||'_POP_ID,P'||pnum||'_POP_STAT:'||
                     '#ID#,#STAT#',
      p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pt_boxes_20.png" alt="">',
      p_allow_exclude_null_values=>'N',
      p_allow_hide_extra_columns=>'N',
      p_icon_view_enabled_yn=>'N',
      p_icon_view_columns_per_row=>1,
      p_detail_view_enabled_yn=>'N',
      p_owner=>ws_name);


   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'ID',
      p_display_order          =>1,
      p_group_id               =>null,
      p_column_identifier      =>'A',
      p_column_label           =>'Id',
      p_report_label           =>'Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'STAT',
      p_display_order          =>2,
      p_group_id               =>null,
      p_column_identifier      =>'B',
      p_column_label           =>'Stat',
      p_report_label           =>'Stat',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'FILE_ID',
      p_display_order          =>3,
      p_group_id               =>null,
      p_column_identifier      =>'C',
      p_column_label           =>'File Id',
      p_report_label           =>'File Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'FILES_NK1',
      p_display_order          =>4,
      p_group_id               =>null,
      p_column_identifier      =>'D',
      p_column_label           =>'Files Nk1',
      p_report_label           =>'Files Nk1',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'FILES_NK2',
      p_display_order          =>5,
      p_group_id               =>null,
      p_column_identifier      =>'E',
      p_column_label           =>'Files Nk2',
      p_report_label           =>'Files Nk2',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'SEQ',
      p_display_order          =>6,
      p_group_id               =>null,
      p_column_identifier      =>'F',
      p_column_label           =>'Seq',
      p_report_label           =>'Seq',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'VALUE',
      p_display_order          =>7,
      p_group_id               =>null,
      p_column_identifier      =>'G',
      p_column_label           =>'Value',
      p_report_label           =>'Value',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'WITHOUT_MODIFICATION',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_USR',
      p_display_order          =>8,
      p_group_id               =>null,
      p_column_identifier      =>'H',
      p_column_label           =>'Aud Beg Usr',
      p_report_label           =>'Aud Beg Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_USR',
      p_display_order          =>9,
      p_group_id               =>null,
      p_column_identifier      =>'I',
      p_column_label           =>'Aud End Usr',
      p_report_label           =>'Aud End Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_DTM',
      p_display_order          =>10,
      p_group_id               =>null,
      p_column_identifier      =>'J',
      p_column_label           =>'Aud Beg Dtm',
      p_report_label           =>'Aud Beg Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_DTM',
      p_display_order          =>11,
      p_group_id               =>null,
      p_column_identifier      =>'K',
      p_column_label           =>'Aud End Dtm',
      p_report_label           =>'Aud End Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_rpt(
      p_id => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id => irws_id,
      p_session_id  => null,
      p_base_report_id  => null,
      p_application_user => 'APXWS_DEFAULT',
      p_report_seq              =>10,
      p_report_alias            =>'All File Lines Default',
      p_status                  =>'PUBLIC',
      p_category_id             =>null,
      p_is_default              =>'Y',
      p_display_rows            =>15,
      p_report_columns          =>'ID:STAT:FILE_ID:FILES_NK1:FILES_NK2:SEQ:VALUE:AUD_BEG_USR:AUD_END_USR:AUD_BEG_DTM:AUD_END_DTM',
      p_flashback_enabled       =>'N',
      p_calendar_display_column =>'');

   dbms_output.put_line('  ...Create History Report');
   s := 'select FILE_LINES_ID' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_END_DTM' || CHR(10) ||
              ',FILE_ID' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',VALUE' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_END_USR' || CHR(10) ||
        'from "#OWNER#".FILE_LINES_AUD' || CHR(10) ||
        'where file_lines_id = :P' || pnum || '_POP_ID';

   wwv_flow_api.create_report_region (
      p_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> 'File Lines History',
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 40,
      p_display_column=> 1,
      p_display_point=> 'AFTER_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_display_when_condition=> 'P' || pnum || '_SHOW_HIST',
      p_display_when_cond2=> 'SHOW_HISTORY',
      p_display_condition_type=> 'VAL_OF_ITEM_IN_COND_EQ_COND2',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_break_cols=> '0',
      p_query_no_data_found=> 'no data found',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_csv_output=> 'N',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'FILE_LINES_ID',
      p_column_display_sequence=> 1,
      p_column_heading=> 'File Lines Id',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_DTM',
      p_column_display_sequence=> 2,
      p_column_heading=> 'Aud Beg Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 1,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_END_DTM',
      p_column_display_sequence=> 3,
      p_column_heading=> 'Aud End Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'FILE_ID',
      p_column_display_sequence=> 4,
      p_column_heading=> 'File Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 5,
      p_form_element_id=> null,
      p_column_alias=> 'SEQ',
      p_column_display_sequence=> 5,
      p_column_heading=> 'Seq',
      p_column_format=> '999999999',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'VALUE',
      p_column_display_sequence=> 6,
      p_column_heading=> 'Value',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 7,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_USR',
      p_column_display_sequence=> 7,
      p_column_heading=> 'Aud Beg Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rhist_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_END_USR',
      p_column_display_sequence=> 8,
      p_column_heading=> 'Aud End Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P'||pnum||'_POP_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 90,
      p_item_plug_id => rhist_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'File Lines ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'The File Lines ID that will be "POPPED".',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P'||pnum||'_POP_BUTTON',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 100,
      p_item_plug_id => rhist_id,
      p_use_cache_before_default=> 'NO',
      p_item_default=> 'POP_REQUEST',
      p_prompt=>'POP File Lines ID',
      p_source=>'POP_REQUEST',
      p_source_type=> 'STATIC',
      p_display_as=> 'BUTTON',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> null,
      p_cMaxlength=> 2000,
      p_cHeight=> null,
      p_tag_attributes  => 'template:'||bb_tid,
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT',
      p_display_when=>'return :P'||pnum||'_POP_ID is not null' ||
                      ' and :P'||pnum||'_POP_STAT != ''POP'';',
      p_display_when_type=>'FUNCTION_BODY',
      p_is_persistent=> 'N',
      p_button_execute_validations=>'Y',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_POP_STAT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => rhist_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> null,
      p_cMaxlength=> 4000,
      p_cHeight=> null,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT',
      p_is_persistent=> 'Y',
      p_attribute_01 => 'Y',
      p_item_comment => '');

   dbms_output.put_line('  ...Create POP_AUDIT Report');
   s := 'select FILE_LINES_ID' || CHR(10) ||
              ',POP_DML' || CHR(10) ||
              ',POP_DTM' || CHR(10) ||
              ',FILE_ID' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',VALUE' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_PREV_BEG_USR' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_PREV_BEG_DTM' || CHR(10) ||
              ',POP_USR' || CHR(10) ||
        'from "#OWNER#".FILE_LINES_PDAT' || CHR(10) ||
        'where FILE_LINES_ID = :P' || pnum || '_POP_ID';

   wwv_flow_api.create_report_region (
      p_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> 'Pop Audit',
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 50,
      p_display_column=> 1,
      p_display_point=> 'AFTER_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_display_when_condition=> 'P'||pnum||'_SHOW_HIST',
      p_display_when_cond2=> 'SHOW_HISTORY',
      p_display_condition_type=> 'VAL_OF_ITEM_IN_COND_EQ_COND2',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_break_cols=> '0',
      p_query_no_data_found=> 'no data found',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_csv_output=> 'N',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'FILE_LINES_ID',
      p_column_display_sequence=> 1,
      p_column_heading=> 'File Lines Id',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'POP_DML',
      p_column_display_sequence=> 2,
      p_column_heading=> 'Pop Dml',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'POP_DTM',
      p_column_display_sequence=> 3,
      p_column_heading=> 'Pop Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 1,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'FILE_ID',
      p_column_display_sequence=> 4,
      p_column_heading=> 'File Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 5,
      p_form_element_id=> null,
      p_column_alias=> 'SEQ',
      p_column_display_sequence=> 5,
      p_column_heading=> 'Seq',
      p_column_format=> '999999999',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'VALUE',
      p_column_display_sequence=> 6,
      p_column_heading=> 'Value',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 7,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_USR',
      p_column_display_sequence=> 7,
      p_column_heading=> 'Aud Beg Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_PREV_BEG_USR',
      p_column_display_sequence=> 8,
      p_column_heading=> 'Aud Prev Beg Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 9,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_BEG_DTM',
      p_column_display_sequence=> 9,
      p_column_heading=> 'Aud Beg Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'AUD_PREV_BEG_DTM',
      p_column_display_sequence=> 10,
      p_column_heading=> 'Aud Prev Beg Dtm',
      p_column_format=> 'DD-MON-YYYY HH24:MI:SS.FF9',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_default_sort_dir=>'desc',
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> rpop_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 11,
      p_form_element_id=> null,
      p_column_alias=> 'POP_USR',
      p_column_display_sequence=> 11,
      p_column_heading=> 'Pop Usr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_default_sort_column_sequence=> 0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_column_comment=>'');

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('file_lines form, 3');
   pnum     := 1203 + page_os;
   pname    := 'File Lines Form';
   ts_name  := 'EXTRA_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Lines for files'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1003 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1003 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FILE_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'File Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'FILE_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the file of this line',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FILES_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Files Nk1:',
      p_format_mask=>'',
      p_source=>'FILES_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'FILES Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FILES_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Files Nk2:',
      p_format_mask=>'',
      p_source=>'FILES_NK2',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'FILES Natural Key Value 2: Name of this file',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Seq:',
      p_format_mask=>'999999999',
      p_source=>'SEQ',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 10,
      p_cMaxlength=> 10,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Sequence number for this line in the file',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_VALUE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Value:',
      p_format_mask=>'',
      p_source=>'VALUE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Value or contents of this line in the file',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_USR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Aud Beg Usr:',
      p_source=>'AUD_BEG_USR',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 15,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'User that created this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_AUD_BEG_DTM',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Aud Beg Dtm:',
      p_format_mask=>'DD-MON-YYYY HH24:MI:SS.FF9',
      p_source=>'AUD_BEG_DTM',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Date/Time this record was created',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from FILE_LINES_ACT',
      p_process_sql_clob => 'F|#OWNER#:FILE_LINES_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view FILE_LINES_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.file_lines_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_file_id => :P' || pnum || '_FILE_ID' || CHR(10) ||
        '      ,n_files_NK1_in => :P' || pnum || '_FILES_NK1' || CHR(10) ||
        '      ,n_files_NK2_in => :P' || pnum || '_FILES_NK2' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_value => :P' || pnum || '_VALUE' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of FILE_LINES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view FILE_LINES_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.file_lines_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_file_id => :P' || pnum || '_FILE_ID' || CHR(10) ||
        '      ,n_files_NK1_in => :P' || pnum || '_FILES_NK1' || CHR(10) ||
        '      ,n_files_NK2_in => :P' || pnum || '_FILES_NK2' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_value => :P' || pnum || '_VALUE' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of FILE_LINES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view FILE_LINES_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.file_lines_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for FILE_LINES_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view FILE_LINES_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('file_lines omni, 3');
   pnum     := 1403 + page_os;
   pname    := 'File Lines OMNI';
   ts_name  := 'EXTRA_OMNI_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Lines for files'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Interactive Report');
   s := 'select ID FILE_LINES_ID' || CHR(10) ||
              ',''ACT'' STAT' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',null AUD_END_DTM' || CHR(10) ||
              ',FILE_ID' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(VALUE,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' VALUE' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',null AUD_END_USR' || CHR(10) ||
        'from "#OWNER#".FILE_LINES' || CHR(10) ||
        'union all' || CHR(10) ||
        'select FILE_LINES_ID' || CHR(10) ||
              ',''HIST'' STAT' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_END_DTM' || CHR(10) ||
              ',FILE_ID' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(VALUE,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' VALUE' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_END_USR' || CHR(10) ||
        'from "#OWNER#".FILE_LINES_AUD' || CHR(10) ||
        'union all' || CHR(10) ||
        'select FILE_LINES_ID' || CHR(10) ||
              ',''POP'' STAT' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',POP_DTM AUD_END_DTM' || CHR(10) ||
              ',FILE_ID' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(VALUE,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' VALUE' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',POP_USR AUD_END_USR' || CHR(10) ||
        'from "#OWNER#".FILE_LINES_PDAT' || CHR(10) ||
        ';'; 

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s,
      p_plug_source_type=> 'DYNAMIC_QUERY',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_worksheet(
      p_id=> irws_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_region_id=> irp_id,
      p_name=> pname,
      p_folder_id=> null, 
      p_alias=> '',
      p_report_id_item=> '',
      p_max_row_count=> '10000',
      p_max_row_count_message=> 'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.',
      p_no_data_found_message=> 'No data found.',
      p_max_rows_per_page=>'',
      p_search_button_label=>'',
      p_page_items_to_submit=>'',
      p_sort_asc_image=>'',
      p_sort_asc_image_attr=>'',
      p_sort_desc_image=>'',
      p_sort_desc_image_attr=>'',
      p_sql_query => s,
      p_status=>'AVAILABLE_FOR_OWNER',
      p_allow_report_saving=>'Y',
      p_allow_save_rpt_public=>'N',
      p_allow_report_categories=>'N',
      p_show_nulls_as=>'-',
      p_pagination_type=>'ROWS_X_TO_Y',
      p_pagination_display_pos=>'BOTTOM_LEFT',
      p_show_finder_drop_down=>'Y',
      p_show_display_row_count=>'N',
      p_show_search_bar=>'Y',
      p_show_search_textbox=>'Y',
      p_show_actions_menu=>'Y',
      p_report_list_mode=>'TABS',
      p_show_detail_link=>'C',
      p_show_select_columns=>'Y',
      p_show_rows_per_page=>'Y',
      p_show_filter=>'Y',
      p_show_sort=>'Y',
      p_show_control_break=>'Y',
      p_show_highlight=>'Y',
      p_show_computation=>'Y',
      p_show_aggregate=>'Y',
      p_show_chart=>'Y',
      p_show_group_by=>'Y',
      p_show_notify=>'N',
      p_show_calendar=>'N',
      p_show_flashback=>'Y',
      p_show_reset=>'Y',
      p_show_download=>'Y',
      p_show_help=>'Y',
      p_download_formats=>'CSV:HTML:EMAIL',
      p_detail_link=>'f?p=&APP_ID.:'||pnum||':&SESSION.::&DEBUG.:RP:P'||pnum||'_POP_ID:#ID#',
      p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pt_boxes_20.png" alt="">',
      p_allow_exclude_null_values=>'N',
      p_allow_hide_extra_columns=>'N',
      p_icon_view_enabled_yn=>'N',
      p_icon_view_columns_per_row=>1,
      p_detail_view_enabled_yn=>'N',
      p_owner=>ws_name);


   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'FILE_LINES_ID',
      p_display_order          =>1,
      p_group_id               =>null,
      p_column_identifier      =>'A',
      p_column_label           =>'File Lines Id',
      p_report_label           =>'File Lines Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'STAT',
      p_display_order          =>2,
      p_group_id               =>null,
      p_column_identifier      =>'B',
      p_column_label           =>'Stat',
      p_report_label           =>'Stat',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_DTM',
      p_display_order          =>3,
      p_group_id               =>null,
      p_column_identifier      =>'C',
      p_column_label           =>'Aud Beg Dtm',
      p_report_label           =>'Aud Beg Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_DTM',
      p_display_order          =>4,
      p_group_id               =>null,
      p_column_identifier      =>'D',
      p_column_label           =>'Aud End Dtm',
      p_report_label           =>'Aud End Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'FILE_ID',
      p_display_order          =>5,
      p_group_id               =>null,
      p_column_identifier      =>'E',
      p_column_label           =>'File Id',
      p_report_label           =>'File Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'SEQ',
      p_display_order          =>6,
      p_group_id               =>null,
      p_column_identifier      =>'F',
      p_column_label           =>'Seq',
      p_report_label           =>'Seq',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'VALUE',
      p_display_order          =>7,
      p_group_id               =>null,
      p_column_identifier      =>'G',
      p_column_label           =>'Value',
      p_report_label           =>'Value',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'WITHOUT_MODIFICATION',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_USR',
      p_display_order          =>8,
      p_group_id               =>null,
      p_column_identifier      =>'H',
      p_column_label           =>'Aud Beg Usr',
      p_report_label           =>'Aud Beg Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_USR',
      p_display_order          =>9,
      p_group_id               =>null,
      p_column_identifier      =>'I',
      p_column_label           =>'Aud End Usr',
      p_report_label           =>'Aud End Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_rpt(
      p_id => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id => irws_id,
      p_session_id  => null,
      p_base_report_id  => null,
      p_application_user => 'APXWS_DEFAULT',
      p_report_seq              =>10,
      p_report_alias            =>pname || ' Default',
      p_status                  =>'PUBLIC',
      p_category_id             =>null,
      p_is_default              =>'Y',
      p_display_rows            =>15,
      p_report_columns          =>'ID:STAT:AUD_BEG_DTM:AUD_END_DTM:FILE_ID:FILES_NK1:FILES_NK2:SEQ:VALUE:AUD_BEG_USR:AUD_END_USR',
      p_flashback_enabled       =>'N',
      p_calendar_display_column =>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('file_lines asof, 3');
   pnum     := 1603 + page_os;
   pname    := 'File Lines ASOF';
   ts_name  := 'EXTRA_ASOF_TS';
   irp_id  := wwv_flow_id.next_val;
   irws_id := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Lines for files'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Interactive Report');
   s := 'select ID' || CHR(10) ||
              ',STAT' || CHR(10) ||
              ',FILE_ID' || CHR(10) ||
              ',files_NK1'|| CHR(10) ||
              ',files_NK2'|| CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',''<span style="display:block; width:400px; white-space:normal">'' || ' || CHR(10) ||
              '  cast (substr(VALUE,1,200) as varchar2(200)) || ' || CHR(10) ||
              '  ''</span>'' VALUE' || CHR(10) ||
              ',AUD_BEG_USR' || CHR(10) ||
              ',AUD_END_USR' || CHR(10) ||
              ',AUD_BEG_DTM' || CHR(10) ||
              ',AUD_END_DTM' || CHR(10) ||
        'from "#OWNER#".FILE_LINES_ASOF' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_FILE_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_FILE_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   file_id between nvl(:P' || pnum || '_FILE_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_FILE_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_FILES_NK1 is null' || CHR(10) ||
        '      or files_nk1 like :P' || pnum || '_FILES_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_FILES_NK2 is null' || CHR(10) ||
        '      or files_nk2 like :P' || pnum || '_FILES_NK2' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_SEQ_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_SEQ_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   seq between nvl(:P' || pnum || '_SEQ_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_SEQ_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_VALUE is null' || CHR(10) ||
        '      or value like :P' || pnum || '_VALUE' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_AUD_BEG_USR is null' || CHR(10) ||
        '      or aud_beg_usr like :P' || pnum || '_AUD_BEG_USR' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   (    :P' || pnum || '_AUD_BEG_DTM_MIN is null' || CHR(10) ||
        '          and :P' || pnum || '_AUD_BEG_DTM_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '      or (   aud_beg_dtm between nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MIN,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_first_dtm)' || CHR(10) ||
        '                             and nvl(to_timestamp(:P' || pnum || '_AUD_BEG_DTM_MAX,' || CHR(10) ||
        '                                   ''DD-MON-YYYY HH24:MI:SS.FF9''), "#OWNER#".util.get_last_dtm)' || CHR(10) ||
        '          )   )';

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> s,
      p_plug_source_type=> 'DYNAMIC_QUERY',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_worksheet(
      p_id=> irws_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_region_id=> irp_id,
      p_name=> pname,
      p_folder_id=> null, 
      p_alias=> '',
      p_report_id_item=> '',
      p_max_row_count=> '10000',
      p_max_row_count_message=> 'This query returns more than #MAX_ROW_COUNT# rows, please filter your data to ensure complete results.',
      p_no_data_found_message=> 'No data found.',
      p_max_rows_per_page=>'',
      p_search_button_label=>'',
      p_page_items_to_submit=>'',
      p_sort_asc_image=>'',
      p_sort_asc_image_attr=>'',
      p_sort_desc_image=>'',
      p_sort_desc_image_attr=>'',
      p_sql_query => s,
      p_status=>'AVAILABLE_FOR_OWNER',
      p_allow_report_saving=>'Y',
      p_allow_save_rpt_public=>'N',
      p_allow_report_categories=>'N',
      p_show_nulls_as=>'-',
      p_pagination_type=>'ROWS_X_TO_Y',
      p_pagination_display_pos=>'BOTTOM_LEFT',
      p_show_finder_drop_down=>'Y',
      p_show_display_row_count=>'N',
      p_show_search_bar=>'Y',
      p_show_search_textbox=>'Y',
      p_show_actions_menu=>'Y',
      p_report_list_mode=>'TABS',
      p_show_detail_link=>'C',
      p_show_select_columns=>'Y',
      p_show_rows_per_page=>'Y',
      p_show_filter=>'Y',
      p_show_sort=>'Y',
      p_show_control_break=>'Y',
      p_show_highlight=>'Y',
      p_show_computation=>'Y',
      p_show_aggregate=>'Y',
      p_show_chart=>'Y',
      p_show_group_by=>'Y',
      p_show_notify=>'N',
      p_show_calendar=>'N',
      p_show_flashback=>'Y',
      p_show_reset=>'Y',
      p_show_download=>'Y',
      p_show_help=>'Y',
      p_download_formats=>'CSV:HTML:EMAIL',
      p_detail_link=>'f?p=&APP_ID.:'||pnum||':&SESSION.::&DEBUG.:RP:P'||pnum||'_POP_ID:#ID#',
      p_detail_link_text=>'<img src="#IMAGE_PREFIX#menu/pt_boxes_20.png" alt="">',
      p_allow_exclude_null_values=>'N',
      p_allow_hide_extra_columns=>'N',
      p_icon_view_enabled_yn=>'N',
      p_icon_view_columns_per_row=>1,
      p_detail_view_enabled_yn=>'N',
      p_owner=>ws_name);


   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'ID',
      p_display_order          =>1,
      p_group_id               =>null,
      p_column_identifier      =>'A',
      p_column_label           =>'Id',
      p_report_label           =>'Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'STAT',
      p_display_order          =>2,
      p_group_id               =>null,
      p_column_identifier      =>'B',
      p_column_label           =>'Stat',
      p_report_label           =>'Stat',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'FILE_ID',
      p_display_order          =>3,
      p_group_id               =>null,
      p_column_identifier      =>'C',
      p_column_label           =>'File Id',
      p_report_label           =>'File Id',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'FILES_NK1',
      p_display_order          =>4,
      p_group_id               =>null,
      p_column_identifier      =>'D',
      p_column_label           =>'Files Nk1',
      p_report_label           =>'Files Nk1',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'FILES_NK2',
      p_display_order          =>5,
      p_group_id               =>null,
      p_column_identifier      =>'E',
      p_column_label           =>'Files Nk2',
      p_report_label           =>'Files Nk2',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'SEQ',
      p_display_order          =>6,
      p_group_id               =>null,
      p_column_identifier      =>'F',
      p_column_label           =>'Seq',
      p_report_label           =>'Seq',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'NUMBER',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'RIGHT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'VALUE',
      p_display_order          =>7,
      p_group_id               =>null,
      p_column_identifier      =>'G',
      p_column_label           =>'Value',
      p_report_label           =>'Value',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'WITHOUT_MODIFICATION',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_USR',
      p_display_order          =>8,
      p_group_id               =>null,
      p_column_identifier      =>'H',
      p_column_label           =>'Aud Beg Usr',
      p_report_label           =>'Aud Beg Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_USR',
      p_display_order          =>9,
      p_group_id               =>null,
      p_column_identifier      =>'I',
      p_column_label           =>'Aud End Usr',
      p_report_label           =>'Aud End Usr',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'STRING',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'N',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_BEG_DTM',
      p_display_order          =>10,
      p_group_id               =>null,
      p_column_identifier      =>'J',
      p_column_label           =>'Aud Beg Dtm',
      p_report_label           =>'Aud Beg Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_column (
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id=> irws_id,
      p_db_column_name         =>'AUD_END_DTM',
      p_display_order          =>11,
      p_group_id               =>null,
      p_column_identifier      =>'K',
      p_column_label           =>'Aud End Dtm',
      p_report_label           =>'Aud End Dtm',
      p_sync_form_label        =>'Y',
      p_display_in_default_rpt =>'Y',
      p_is_sortable            =>'Y',
      p_allow_sorting          =>'Y',
      p_allow_filtering        =>'Y',
      p_allow_highlighting     =>'Y',
      p_allow_ctrl_breaks      =>'Y',
      p_allow_aggregations     =>'Y',
      p_allow_computations     =>'Y',
      p_allow_charting         =>'Y',
      p_allow_group_by         =>'Y',
      p_allow_hide             =>'Y',
      p_others_may_edit        =>'Y',
      p_others_may_view        =>'Y',
      p_column_type            =>'DATE',
      p_display_as             =>'TEXT',
      p_display_text_as        =>'ESCAPE_SC',
      p_heading_alignment      =>'CENTER',
      p_column_alignment       =>'LEFT',
      p_tz_dependent           =>'Y',
      p_rpt_distinct_lov       =>'Y',
      p_rpt_show_filter_lov    =>'D',
      p_rpt_filter_date_ranges =>'ALL',
      p_help_text              =>'');

   wwv_flow_api.create_worksheet_rpt(
      p_id => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_worksheet_id => irws_id,
      p_session_id  => null,
      p_base_report_id  => null,
      p_application_user => 'APXWS_DEFAULT',
      p_report_seq              =>10,
      p_report_alias            =>pname || ' Default',
      p_status                  =>'PUBLIC',
      p_category_id             =>null,
      p_is_default              =>'Y',
      p_display_rows            =>15,
      p_report_columns          =>'ID:STAT:FILE_ID:FILES_NK1:FILES_NK2:SEQ:VALUE:AUD_BEG_USR:AUD_END_USR:AUD_BEG_DTM:AUD_END_DTM',
      p_flashback_enabled       =>'N',
      p_calendar_display_column =>'');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ASOF_DTM',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'The ASOF Date/Time for this report: ',
      p_source=>'P' || (1600 + page_os) || '_ASOF_DTM',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 4000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'The ASOF Date/Time value can be changed using the ASOF Report Meny page.',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   s := 'if :P1600_ASOF_DTM is null' || CHR(10) ||
        'then' || CHR(10) ||
        '   :P1600_ASOF_DTM := glob.get_asof_dtm;' || CHR(10) ||
        'end if;' || CHR(10) ||
        'glob.set_asof_dtm(:P1600_ASOF_DTM);';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'BEFORE_HEADER',
      p_process_type=> 'PLSQL',
      p_process_name=> 'Set UTIL_ASOF_DATE',
      p_process_sql_clob => s,
      p_process_error_message=> '',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'FILE_LINES_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'FILE_LINES_ACT',
      p_report_region_title => 'File Lines',
      p_form_region_title => 'File Lines');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'File Id',
      p_help_text => 'Surrogate Key for the file of this line',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select files_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".files'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'FILE_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Files Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'FILES_NK1');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Files Nk2',
      p_help_text => 'Name of this file',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'FILES_NK2');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Seq',
      p_help_text => 'Sequence number for this line in the file',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '999999999',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 6,
      p_max_width => 10,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'SEQ');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Value',
      p_help_text => 'Value or contents of this line in the file',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'VALUE');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these file_lines',
      p_display_seq_form => 8,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Created By',
      p_help_text => 'User that created this record',
      p_display_seq_form => 9,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 9,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'L',
      p_display_width => 15,
      p_max_width => 30,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'AUD_BEG_USR');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Date/Time Created',
      p_help_text => 'Date/Time this record was created (must be in nanoseconds)',
      p_mask_form => 'DD-MON-YYYY HH24.MI.SSXFF9',
      p_display_seq_form => 10,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 10,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_mask_report => 'DD-MON-YYYY HH24.MI.SSXFF9',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'L',
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'AUD_BEG_DTM');

   ----------------------------------------

end;
/
select '***  domains  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('domains maint1, 4');
   pnum     := 1004 + page_os;
   pname    := 'Domains Maint';
   ts_name  := 'MAIN_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('DOMAINS_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "DOMAINS_LOV"');
      s := 'select domains_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".domains' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'DOMAINS_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Data domains to be generated as check constraints and/or lists of values for selected columns'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',applications_nk1' || CHR(10) ||
              ',ABBR' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',FOLD' || CHR(10) ||
              ',LEN' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
        'from "#OWNER#".DOMAINS_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_APPLICATION_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_APPLICATION_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   application_id between nvl(:P' || pnum || '_APPLICATION_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_APPLICATION_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_APPLICATIONS_NK1 is null' || CHR(10) ||
        '      or applications_nk1 like :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_ABBR is null' || CHR(10) ||
        '      or abbr like :P' || pnum || '_ABBR' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_NAME is null' || CHR(10) ||
        '      or name like :P' || pnum || '_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_FOLD is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_FOLD||'':'', '':''||fold||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_LEN_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_LEN_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   len between nvl(:P' || pnum || '_LEN_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_LEN_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAINS_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAINS_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1004 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATION_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Application Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAINS_ACT',
      p_ref_column_name=> 'APPLICATION_ID',
      p_column_comment=>'Surrogate Key for the application of this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'APPLICATION_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the application of this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATIONS_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Applications Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAINS_ACT',
      p_ref_column_name=> 'APPLICATIONS_NK1',
      p_column_comment=>'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'APPLICATIONS_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'ABBR',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Abbr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAINS_ACT',
      p_ref_column_name=> 'ABBR',
      p_column_comment=>'Name of this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'ABBR',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Name of this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'NAME',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '11',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","20")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAINS_ACT',
      p_ref_column_name=> 'NAME',
      p_column_comment=>'Name of this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Name of this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'FOLD',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Fold',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '1',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAINS_ACT',
      p_ref_column_name=> 'FOLD',
      p_column_comment=>'Value of this sequence in this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'FOLD',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Value of this sequence in this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'LEN',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Len',
      p_column_format=> '99',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","3")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAINS_ACT',
      p_ref_column_name=> 'LEN',
      p_column_comment=>'Value of this sequence in this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 15,
      p_query_column_name=> 'LEN',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Value of this sequence in this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 18,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 180,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAINS_ACT',
      p_ref_column_name=> 'DESCRIPTION',
      p_column_comment=>'Description of this data domain value');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 17,
      p_query_column_name=> 'DESCRIPTION',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Description of this data domain value');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1204 + page_os) || ':&SESSION.::&DEBUG.:' || (1204 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Application Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this data domain). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this data domain). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Applications Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATIONS_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for APPLICATIONS_NK1 (APPLICATIONS Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ABBR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Abbr Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_ABBR',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for ABBR (Name of this data domain). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 11,
      p_cMaxlength=> 20,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for NAME (Name of this data domain). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');
   lov_id := get_lov_id('CASE FOLD', 'Static');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FOLD',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Fold Select:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FOLD',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'CASE FOLD',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 1,
      p_cMaxlength=> 1,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search list for FOLD (Value of this sequence in this data domain). Select one or more values from the list.',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_LEN_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Len Range from:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_LEN_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for LEN (Value of this sequence in this data domain). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_LEN_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 175,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_LEN_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for LEN (Value of this sequence in this data domain). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 180,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Description Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DESCRIPTION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DESCRIPTION (Description of this data domain value). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1204 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.domains_act' || CHR(10) ||
       '              set  application_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,applications_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,abbr = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,name = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,fold = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '                  ,len = ' || CHR(10) ||
       '                      apex_application.g_f08(i)' || CHR(10) ||
       '                  ,description = ' || CHR(10) ||
       '                      apex_application.g_f09(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.domains_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,application_id' || CHR(10) ||
       '               ,applications_nk1' || CHR(10) ||
       '               ,abbr' || CHR(10) ||
       '               ,name' || CHR(10) ||
       '               ,fold' || CHR(10) ||
       '               ,len' || CHR(10) ||
       '               ,description' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               ,apex_application.g_f08(i)' || CHR(10) ||
       '               ,apex_application.g_f09(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of DOMAINS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:DOMAINS_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1204+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 60,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/


declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('domains form, 4');
   pnum     := 1204 + page_os;
   pname    := 'Domains Form';
   ts_name  := 'MAIN_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Data domains to be generated as check constraints and/or lists of values for selected columns'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1004 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1004 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Application Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'APPLICATION_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the application of this data domain',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Applications Nk1:',
      p_format_mask=>'',
      p_source=>'APPLICATIONS_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ABBR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Abbr:',
      p_format_mask=>'',
      p_source=>'ABBR',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Name of this data domain',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Name:',
      p_format_mask=>'',
      p_source=>'NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 20,
      p_cMaxlength=> 20,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Name of this data domain',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := get_lov_id('CASE FOLD', 'Static');
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FOLD',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Fold:',
      p_format_mask=>'',
      p_source=>'FOLD',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'CASE FOLD',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 1,
      p_cMaxlength=> 1,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Value of this sequence in this data domain',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_attribute_03 => '',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_LEN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Len:',
      p_format_mask=>'99',
      p_source=>'LEN',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Value of this sequence in this data domain',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Description:',
      p_format_mask=>'',
      p_source=>'DESCRIPTION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Description of this data domain value',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from DOMAINS_ACT',
      p_process_sql_clob => 'F|#OWNER#:DOMAINS_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view DOMAINS_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.domains_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_abbr => :P' || pnum || '_ABBR' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_fold => :P' || pnum || '_FOLD' || CHR(10) ||
        '      ,n_len => :P' || pnum || '_LEN' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of DOMAINS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view DOMAINS_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.domains_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_abbr => :P' || pnum || '_ABBR' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_fold => :P' || pnum || '_FOLD' || CHR(10) ||
        '      ,n_len => :P' || pnum || '_LEN' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of DOMAINS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view DOMAINS_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.domains_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for DOMAINS_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view DOMAINS_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'DOMAINS_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'DOMAINS_ACT',
      p_report_region_title => 'Domains',
      p_form_region_title => 'Domains');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Application Id',
      p_help_text => 'Surrogate Key for the application of this data domain',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select applications_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".applications'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATION_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Applications Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATIONS_NK1');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Abbr',
      p_help_text => 'Name of this data domain',
      p_display_seq_form => 4,
      p_display_seq_report => 4,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'ABBR');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Name',
      p_help_text => 'Name of this data domain',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 11,
      p_max_width => 20,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Fold',
      p_help_text => 'Value of this sequence in this data domain',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_SELECT_LIST',
      p_form_attribute_01 => 'NONE',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'SELECT_LIST_FROM_LOV',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 1,
      p_max_width => 1,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'FOLD');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 1,
      p_lov_disp_value => 'Upper case character fold',
      p_lov_return_value => 'U');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 2,
      p_lov_disp_value => 'Lower case character fold',
      p_lov_return_value => 'L');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 3,
      p_lov_disp_value => 'Initial capital case character fold',
      p_lov_return_value => 'I');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Len',
      p_help_text => 'Value of this sequence in this data domain',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '99',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 2,
      p_max_width => 3,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'LEN');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Description',
      p_help_text => 'Description of this data domain value',
      p_display_seq_form => 8,
      p_display_seq_report => 8,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DESCRIPTION');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these domains',
      p_display_seq_form => 9,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   ----------------------------------------

end;
/
select '***  domain_values  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('domain_values maint1, 5');
   pnum     := 1005 + page_os;
   pname    := 'Domain Values Maint';
   ts_name  := 'MAIN_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('DOMAIN_VALUES_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "DOMAIN_VALUES_LOV"');
      s := 'select domain_values_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".domain_values' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'DOMAIN_VALUES_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Data domains values for the data domains'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',DOMAIN_ID' || CHR(10) ||
              ',domains_nk1' || CHR(10) ||
              ',domains_nk2' || CHR(10) ||
              ',VALUE' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
        'from "#OWNER#".DOMAIN_VALUES_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_DOMAIN_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_DOMAIN_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   domain_id between nvl(:P' || pnum || '_DOMAIN_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_DOMAIN_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_DOMAINS_NK1 is null' || CHR(10) ||
        '      or domains_nk1 like :P' || pnum || '_DOMAINS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_DOMAINS_NK2 is null' || CHR(10) ||
        '      or domains_nk2 like :P' || pnum || '_DOMAINS_NK2' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_VALUE is null' || CHR(10) ||
        '      or value like :P' || pnum || '_VALUE' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_SEQ_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_SEQ_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   seq between nvl(:P' || pnum || '_SEQ_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_SEQ_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAIN_VALUES_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAIN_VALUES_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1005 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'DOMAIN_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Domain Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAIN_VALUES_ACT',
      p_ref_column_name=> 'DOMAIN_ID',
      p_column_comment=>'Surrogate Key for the application of this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'DOMAIN_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the application of this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'DOMAINS_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Domains Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAIN_VALUES_ACT',
      p_ref_column_name=> 'DOMAINS_NK1',
      p_column_comment=>'DOMAINS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'DOMAINS_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'DOMAINS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'DOMAINS_NK2',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Domains Nk2',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAIN_VALUES_ACT',
      p_ref_column_name=> 'DOMAINS_NK2',
      p_column_comment=>'DOMAINS Natural Key Value 2: Name of this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'DOMAINS_NK2',
      p_display_as=> 'TEXT',
      p_column_comment=> 'DOMAINS Natural Key Value 2: Name of this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'VALUE',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Value',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '50',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","100")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAIN_VALUES_ACT',
      p_ref_column_name=> 'VALUE',
      p_column_comment=>'Value of this sequence in this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'VALUE',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Value of this sequence in this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'SEQ',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Seq',
      p_column_format=> '99',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","3")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAIN_VALUES_ACT',
      p_ref_column_name=> 'SEQ',
      p_column_comment=>'Sequence number for this value in this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'SEQ',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Sequence number for this value in this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'DOMAIN_VALUES_ACT',
      p_ref_column_name=> 'DESCRIPTION',
      p_column_comment=>'Description of this data domain value');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 15,
      p_query_column_name=> 'DESCRIPTION',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Description of this data domain value');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1205 + page_os) || ':&SESSION.::&DEBUG.:' || (1205 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DOMAIN_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Domain Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DOMAIN_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for DOMAIN_ID (Surrogate Key for the application of this data domain). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DOMAIN_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DOMAIN_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for DOMAIN_ID (Surrogate Key for the application of this data domain). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DOMAINS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Domains Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DOMAINS_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DOMAINS_NK1 (DOMAINS Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DOMAINS_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Domains Nk2 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DOMAINS_NK2',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DOMAINS_NK2 (DOMAINS Natural Key Value 2: Name of this data domain). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_VALUE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Value Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_VALUE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 100,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for VALUE (Value of this sequence in this data domain). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Seq Range from:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_SEQ_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number for this value in this data domain). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 165,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_SEQ_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number for this value in this data domain). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Description Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DESCRIPTION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DESCRIPTION (Description of this data domain value). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1205 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.domain_values_act' || CHR(10) ||
       '              set  domain_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,domains_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,domains_nk2 = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,value = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,seq = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '                  ,description = ' || CHR(10) ||
       '                      apex_application.g_f08(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.domain_values_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,domain_id' || CHR(10) ||
       '               ,domains_nk1' || CHR(10) ||
       '               ,domains_nk2' || CHR(10) ||
       '               ,value' || CHR(10) ||
       '               ,seq' || CHR(10) ||
       '               ,description' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               ,apex_application.g_f08(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of DOMAIN_VALUES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:DOMAIN_VALUES_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1205+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 60,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/


declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('domain_values form, 5');
   pnum     := 1205 + page_os;
   pname    := 'Domain Values Form';
   ts_name  := 'MAIN_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Data domains values for the data domains'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1005 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1005 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DOMAIN_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Domain Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'DOMAIN_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the application of this data domain',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DOMAINS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Domains Nk1:',
      p_format_mask=>'',
      p_source=>'DOMAINS_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'DOMAINS Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DOMAINS_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Domains Nk2:',
      p_format_mask=>'',
      p_source=>'DOMAINS_NK2',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'DOMAINS Natural Key Value 2: Name of this data domain',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_VALUE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Value:',
      p_format_mask=>'',
      p_source=>'VALUE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 100,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Value of this sequence in this data domain',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Seq:',
      p_format_mask=>'99',
      p_source=>'SEQ',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Sequence number for this value in this data domain',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Description:',
      p_format_mask=>'',
      p_source=>'DESCRIPTION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Description of this data domain value',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from DOMAIN_VALUES_ACT',
      p_process_sql_clob => 'F|#OWNER#:DOMAIN_VALUES_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view DOMAIN_VALUES_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.domain_values_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_domain_id => :P' || pnum || '_DOMAIN_ID' || CHR(10) ||
        '      ,n_domains_NK1_in => :P' || pnum || '_DOMAINS_NK1' || CHR(10) ||
        '      ,n_domains_NK2_in => :P' || pnum || '_DOMAINS_NK2' || CHR(10) ||
        '      ,n_value => :P' || pnum || '_VALUE' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of DOMAIN_VALUES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view DOMAIN_VALUES_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.domain_values_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_domain_id => :P' || pnum || '_DOMAIN_ID' || CHR(10) ||
        '      ,n_domains_NK1_in => :P' || pnum || '_DOMAINS_NK1' || CHR(10) ||
        '      ,n_domains_NK2_in => :P' || pnum || '_DOMAINS_NK2' || CHR(10) ||
        '      ,n_value => :P' || pnum || '_VALUE' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of DOMAIN_VALUES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view DOMAIN_VALUES_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.domain_values_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for DOMAIN_VALUES_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view DOMAIN_VALUES_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'DOMAIN_VALUES_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'DOMAIN_VALUES_ACT',
      p_report_region_title => 'Domain Values',
      p_form_region_title => 'Domain Values');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Domain Id',
      p_help_text => 'Surrogate Key for the application of this data domain',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select domains_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".domains'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DOMAIN_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Domains Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DOMAINS_NK1');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Domains Nk2',
      p_help_text => 'Name of this data domain',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DOMAINS_NK2');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Value',
      p_help_text => 'Value of this sequence in this data domain',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 100,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'VALUE');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Seq',
      p_help_text => 'Sequence number for this value in this data domain',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '99',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 2,
      p_max_width => 3,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'SEQ');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Description',
      p_help_text => 'Description of this data domain value',
      p_display_seq_form => 8,
      p_display_seq_report => 8,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DESCRIPTION');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these domain_values',
      p_display_seq_form => 9,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   ----------------------------------------

end;
/
select '***  tables  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('tables maint1, 6');
   pnum     := 1006 + page_os;
   pname    := 'Tables Maint';
   ts_name  := 'MAIN_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('TABLES_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "TABLES_LOV"');
      s := 'select tables_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".tables' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'TABLES_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Tables to be generated for each application'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',applications_nk1' || CHR(10) ||
              ',ABBR' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',GROUP_NAME' || CHR(10) ||
              ',MV_REFRESH_HR' || CHR(10) ||
              ',TS_ONLN_DATA' || CHR(10) ||
              ',TS_ONLN_INDX' || CHR(10) ||
              ',TS_HIST_DATA' || CHR(10) ||
              ',TS_HIST_INDX' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
        'from "#OWNER#".TABLES_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_APPLICATION_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_APPLICATION_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   application_id between nvl(:P' || pnum || '_APPLICATION_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_APPLICATION_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_APPLICATIONS_NK1 is null' || CHR(10) ||
        '      or applications_nk1 like :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_ABBR is null' || CHR(10) ||
        '      or abbr like :P' || pnum || '_ABBR' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_NAME is null' || CHR(10) ||
        '      or name like :P' || pnum || '_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_SEQ_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_SEQ_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   seq between nvl(:P' || pnum || '_SEQ_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_SEQ_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_TYPE is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_TYPE||'':'', '':''||type||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_GROUP_NAME is null' || CHR(10) ||
        '      or group_name like :P' || pnum || '_GROUP_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_MV_REFRESH_HR_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_MV_REFRESH_HR_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   mv_refresh_hr between nvl(:P' || pnum || '_MV_REFRESH_HR_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_MV_REFRESH_HR_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_TS_ONLN_DATA is null' || CHR(10) ||
        '      or ts_onln_data like :P' || pnum || '_TS_ONLN_DATA' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TS_ONLN_INDX is null' || CHR(10) ||
        '      or ts_onln_indx like :P' || pnum || '_TS_ONLN_INDX' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TS_HIST_DATA is null' || CHR(10) ||
        '      or ts_hist_data like :P' || pnum || '_TS_HIST_DATA' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TS_HIST_INDX is null' || CHR(10) ||
        '      or ts_hist_indx like :P' || pnum || '_TS_HIST_INDX' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1006 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATION_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Application Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'APPLICATION_ID',
      p_column_comment=>'Surrogate Key for the application of this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'APPLICATION_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the application of this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATIONS_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Applications Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'APPLICATIONS_NK1',
      p_column_comment=>'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'APPLICATIONS_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'ABBR',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Abbr',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'ABBR',
      p_column_comment=>'Abbreviation for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'ABBR',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Abbreviation for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'NAME',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '8',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","15")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'NAME',
      p_column_comment=>'Name of this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Name of this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'SEQ',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Seq',
      p_column_format=> '99',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","3")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'SEQ',
      p_column_comment=>'Report order for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'SEQ',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Report order for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'TYPE',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Type',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","3")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'TYPE',
      p_column_comment=>'Type of this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 15,
      p_query_column_name=> 'TYPE',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Type of this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 18,
      p_form_element_id=> null,
      p_column_alias=> 'GROUP_NAME',
      p_column_display_sequence=> 180,
      p_column_heading=> 'Group Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'GROUP_NAME',
      p_column_comment=>'Group Name for this table.');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 17,
      p_query_column_name=> 'GROUP_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Group Name for this table.');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 20,
      p_form_element_id=> null,
      p_column_alias=> 'MV_REFRESH_HR',
      p_column_display_sequence=> 200,
      p_column_heading=> 'Mv Refresh Hr',
      p_column_format=> '999.9',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '4',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","6")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'MV_REFRESH_HR',
      p_column_comment=>'Number of Hours between Materialized View Refresh');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 19,
      p_query_column_name=> 'MV_REFRESH_HR',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Number of Hours between Materialized View Refresh');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 22,
      p_form_element_id=> null,
      p_column_alias=> 'TS_ONLN_DATA',
      p_column_display_sequence=> 220,
      p_column_heading=> 'Ts Onln Data',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'TS_ONLN_DATA',
      p_column_comment=>'Tablespace name for the on-line data for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 21,
      p_query_column_name=> 'TS_ONLN_DATA',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Tablespace name for the on-line data for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 24,
      p_form_element_id=> null,
      p_column_alias=> 'TS_ONLN_INDX',
      p_column_display_sequence=> 240,
      p_column_heading=> 'Ts Onln Indx',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'TS_ONLN_INDX',
      p_column_comment=>'Tablespace name for the on-line indexes for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 23,
      p_query_column_name=> 'TS_ONLN_INDX',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Tablespace name for the on-line indexes for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 26,
      p_form_element_id=> null,
      p_column_alias=> 'TS_HIST_DATA',
      p_column_display_sequence=> 260,
      p_column_heading=> 'Ts Hist Data',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'TS_HIST_DATA',
      p_column_comment=>'Tablespace name for the history data for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 25,
      p_query_column_name=> 'TS_HIST_DATA',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Tablespace name for the history data for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 28,
      p_form_element_id=> null,
      p_column_alias=> 'TS_HIST_INDX',
      p_column_display_sequence=> 280,
      p_column_heading=> 'Ts Hist Indx',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'TS_HIST_INDX',
      p_column_comment=>'Tablespace name for the history indexes for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 27,
      p_query_column_name=> 'TS_HIST_INDX',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Tablespace name for the history indexes for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 30,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 300,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TABLES_ACT',
      p_ref_column_name=> 'DESCRIPTION',
      p_column_comment=>'Description of this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 29,
      p_query_column_name=> 'DESCRIPTION',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Description of this table');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1206 + page_os) || ':&SESSION.::&DEBUG.:' || (1206 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Application Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this table). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this table). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Applications Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATIONS_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for APPLICATIONS_NK1 (APPLICATIONS Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ABBR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Abbr Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_ABBR',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for ABBR (Abbreviation for this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 8,
      p_cMaxlength=> 15,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for NAME (Name of this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Seq Range from:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_SEQ_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Report order for this table). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 165,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_SEQ_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Report order for this table). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');
   lov_id := get_lov_id('TABLE TYPE', 'Static');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Type Select:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TYPE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'TABLE TYPE',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search list for TYPE (Type of this table). Select one or more values from the list.',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_GROUP_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 180,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Group Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_GROUP_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for GROUP_NAME (Group Name for this table.). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_MV_REFRESH_HR_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 190,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Mv Refresh Hr Range from:',
      p_format_mask=>'999.9',
      p_source=>'P' || pnum || '_MV_REFRESH_HR_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 6,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for MV_REFRESH_HR (Number of Hours between Materialized View Refresh). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_MV_REFRESH_HR_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 195,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'999.9',
      p_source=>'P' || pnum || '_MV_REFRESH_HR_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 6,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for MV_REFRESH_HR (Number of Hours between Materialized View Refresh). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_ONLN_DATA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 200,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Ts Onln Data Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TS_ONLN_DATA',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TS_ONLN_DATA (Tablespace name for the on-line data for this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_ONLN_INDX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 210,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Ts Onln Indx Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TS_ONLN_INDX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TS_ONLN_INDX (Tablespace name for the on-line indexes for this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_HIST_DATA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 220,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Ts Hist Data Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TS_HIST_DATA',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TS_HIST_DATA (Tablespace name for the history data for this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_HIST_INDX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 230,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Ts Hist Indx Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TS_HIST_INDX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TS_HIST_INDX (Tablespace name for the history indexes for this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 240,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Description Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DESCRIPTION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DESCRIPTION (Description of this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1206 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.tables_act' || CHR(10) ||
       '              set  application_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,applications_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,abbr = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,name = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,seq = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '                  ,type = ' || CHR(10) ||
       '                      apex_application.g_f08(i)' || CHR(10) ||
       '                  ,group_name = ' || CHR(10) ||
       '                      apex_application.g_f09(i)' || CHR(10) ||
       '                  ,mv_refresh_hr = ' || CHR(10) ||
       '                      apex_application.g_f10(i)' || CHR(10) ||
       '                  ,ts_onln_data = ' || CHR(10) ||
       '                      apex_application.g_f11(i)' || CHR(10) ||
       '                  ,ts_onln_indx = ' || CHR(10) ||
       '                      apex_application.g_f12(i)' || CHR(10) ||
       '                  ,ts_hist_data = ' || CHR(10) ||
       '                      apex_application.g_f13(i)' || CHR(10) ||
       '                  ,ts_hist_indx = ' || CHR(10) ||
       '                      apex_application.g_f14(i)' || CHR(10) ||
       '                  ,description = ' || CHR(10) ||
       '                      apex_application.g_f15(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.tables_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,application_id' || CHR(10) ||
       '               ,applications_nk1' || CHR(10) ||
       '               ,abbr' || CHR(10) ||
       '               ,name' || CHR(10) ||
       '               ,seq' || CHR(10) ||
       '               ,type' || CHR(10) ||
       '               ,group_name' || CHR(10) ||
       '               ,mv_refresh_hr' || CHR(10) ||
       '               ,ts_onln_data' || CHR(10) ||
       '               ,ts_onln_indx' || CHR(10) ||
       '               ,ts_hist_data' || CHR(10) ||
       '               ,ts_hist_indx' || CHR(10) ||
       '               ,description' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               ,apex_application.g_f08(i)' || CHR(10) ||
       '               ,apex_application.g_f09(i)' || CHR(10) ||
       '               ,apex_application.g_f10(i)' || CHR(10) ||
       '               ,apex_application.g_f11(i)' || CHR(10) ||
       '               ,apex_application.g_f12(i)' || CHR(10) ||
       '               ,apex_application.g_f13(i)' || CHR(10) ||
       '               ,apex_application.g_f14(i)' || CHR(10) ||
       '               ,apex_application.g_f15(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of TABLES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:TABLES_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1206+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 60,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/


declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('tables form, 6');
   pnum     := 1206 + page_os;
   pname    := 'Tables Form';
   ts_name  := 'MAIN_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Tables to be generated for each application'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1006 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1006 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Application Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'APPLICATION_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the application of this table',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Applications Nk1:',
      p_format_mask=>'',
      p_source=>'APPLICATIONS_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ABBR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Abbr:',
      p_format_mask=>'',
      p_source=>'ABBR',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Abbreviation for this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Name:',
      p_format_mask=>'',
      p_source=>'NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 15,
      p_cMaxlength=> 15,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Name of this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Seq:',
      p_format_mask=>'99',
      p_source=>'SEQ',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Report order for this table',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := get_lov_id('TABLE TYPE', 'Static');
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Type:',
      p_format_mask=>'',
      p_source=>'TYPE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'TABLE TYPE',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Type of this table',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_attribute_03 => '',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_GROUP_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Group Name:',
      p_format_mask=>'',
      p_source=>'GROUP_NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Group Name for this table.',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_MV_REFRESH_HR',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 90,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Mv Refresh Hr:',
      p_format_mask=>'999.9',
      p_source=>'MV_REFRESH_HR',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 6,
      p_cMaxlength=> 6,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of Hours between Materialized View Refresh',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_ONLN_DATA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 100,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Ts Onln Data:',
      p_format_mask=>'',
      p_source=>'TS_ONLN_DATA',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Tablespace name for the on-line data for this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_ONLN_INDX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Ts Onln Indx:',
      p_format_mask=>'',
      p_source=>'TS_ONLN_INDX',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Tablespace name for the on-line indexes for this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_HIST_DATA',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Ts Hist Data:',
      p_format_mask=>'',
      p_source=>'TS_HIST_DATA',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Tablespace name for the history data for this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TS_HIST_INDX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Ts Hist Indx:',
      p_format_mask=>'',
      p_source=>'TS_HIST_INDX',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Tablespace name for the history indexes for this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Description:',
      p_format_mask=>'',
      p_source=>'DESCRIPTION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Description of this table',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from TABLES_ACT',
      p_process_sql_clob => 'F|#OWNER#:TABLES_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view TABLES_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.tables_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_abbr => :P' || pnum || '_ABBR' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_type => :P' || pnum || '_TYPE' || CHR(10) ||
        '      ,n_group_name => :P' || pnum || '_GROUP_NAME' || CHR(10) ||
        '      ,n_mv_refresh_hr => :P' || pnum || '_MV_REFRESH_HR' || CHR(10) ||
        '      ,n_ts_onln_data => :P' || pnum || '_TS_ONLN_DATA' || CHR(10) ||
        '      ,n_ts_onln_indx => :P' || pnum || '_TS_ONLN_INDX' || CHR(10) ||
        '      ,n_ts_hist_data => :P' || pnum || '_TS_HIST_DATA' || CHR(10) ||
        '      ,n_ts_hist_indx => :P' || pnum || '_TS_HIST_INDX' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of TABLES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view TABLES_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.tables_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_abbr => :P' || pnum || '_ABBR' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_type => :P' || pnum || '_TYPE' || CHR(10) ||
        '      ,n_group_name => :P' || pnum || '_GROUP_NAME' || CHR(10) ||
        '      ,n_mv_refresh_hr => :P' || pnum || '_MV_REFRESH_HR' || CHR(10) ||
        '      ,n_ts_onln_data => :P' || pnum || '_TS_ONLN_DATA' || CHR(10) ||
        '      ,n_ts_onln_indx => :P' || pnum || '_TS_ONLN_INDX' || CHR(10) ||
        '      ,n_ts_hist_data => :P' || pnum || '_TS_HIST_DATA' || CHR(10) ||
        '      ,n_ts_hist_indx => :P' || pnum || '_TS_HIST_INDX' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of TABLES_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view TABLES_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.tables_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for TABLES_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view TABLES_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'TABLES_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'TABLES_ACT',
      p_report_region_title => 'Tables',
      p_form_region_title => 'Tables');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Application Id',
      p_help_text => 'Surrogate Key for the application of this table',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select applications_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".applications'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATION_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Applications Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATIONS_NK1');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Abbr',
      p_help_text => 'Abbreviation for this table',
      p_display_seq_form => 4,
      p_display_seq_report => 4,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'ABBR');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Name',
      p_help_text => 'Name of this table',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 8,
      p_max_width => 15,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Seq',
      p_help_text => 'Report order for this table',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '99',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 2,
      p_max_width => 3,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'SEQ');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Type',
      p_help_text => 'Type of this table',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_SELECT_LIST',
      p_form_attribute_01 => 'NONE',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'SELECT_LIST_FROM_LOV',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 3,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TYPE');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 1,
      p_lov_disp_value => 'A historical table type with effective/audit begin/end timestamps and begin/end user recording',
      p_lov_return_value => 'EFF');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 2,
      p_lov_disp_value => 'An audit table type with audit only begin/end timestamps and begin/end user recording',
      p_lov_return_value => 'LOG');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 3,
      p_lov_disp_value => 'A none or nothing table type without begin/end timestamps or begin/end user recording',
      p_lov_return_value => 'NON');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Group Name',
      p_help_text => 'Group Name for this table.',
      p_display_seq_form => 8,
      p_display_seq_report => 8,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'GROUP_NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Mv Refresh Hr',
      p_help_text => 'Number of Hours between Materialized View Refresh',
      p_display_seq_form => 9,
      p_display_seq_report => 9,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '999.9',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 4,
      p_max_width => 6,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'MV_REFRESH_HR');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Ts Onln Data',
      p_help_text => 'Tablespace name for the on-line data for this table',
      p_display_seq_form => 10,
      p_display_seq_report => 10,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TS_ONLN_DATA');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Ts Onln Indx',
      p_help_text => 'Tablespace name for the on-line indexes for this table',
      p_display_seq_form => 11,
      p_display_seq_report => 11,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TS_ONLN_INDX');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Ts Hist Data',
      p_help_text => 'Tablespace name for the history data for this table',
      p_display_seq_form => 12,
      p_display_seq_report => 12,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TS_HIST_DATA');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Ts Hist Indx',
      p_help_text => 'Tablespace name for the history indexes for this table',
      p_display_seq_form => 13,
      p_display_seq_report => 13,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TS_HIST_INDX');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Description',
      p_help_text => 'Description of this table',
      p_display_seq_form => 14,
      p_display_seq_report => 14,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DESCRIPTION');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these tables',
      p_display_seq_form => 15,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   ----------------------------------------

end;
/
select '***  tab_cols  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('tab_cols maint1, 7');
   pnum     := 1007 + page_os;
   pname    := 'Tab Cols Maint';
   ts_name  := 'MAIN_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('TAB_COLS_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "TAB_COLS_LOV"');
      s := 'select tab_cols_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".tab_cols' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'TAB_COLS_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Columns to be generated for each table'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',TABLE_ID' || CHR(10) ||
              ',tables_nk1' || CHR(10) ||
              ',tables_nk2' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',NK' || CHR(10) ||
              ',REQ' || CHR(10) ||
              ',FK_PREFIX' || CHR(10) ||
              ',FK_TABLE_ID' || CHR(10) ||
              ',FK_tables_nk1' || CHR(10) ||
              ',FK_tables_nk2' || CHR(10) ||
              ',D_DOMAIN_ID' || CHR(10) ||
              ',D_domains_nk1' || CHR(10) ||
              ',D_domains_nk2' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',LEN' || CHR(10) ||
              ',SCALE' || CHR(10) ||
              ',FOLD' || CHR(10) ||
              ',DEFAULT_VALUE' || CHR(10) ||
              ',UPD_RES_PCT' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
        'from "#OWNER#".TAB_COLS_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_TABLE_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_TABLE_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   table_id between nvl(:P' || pnum || '_TABLE_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_TABLE_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_TABLES_NK1 is null' || CHR(10) ||
        '      or tables_nk1 like :P' || pnum || '_TABLES_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TABLES_NK2 is null' || CHR(10) ||
        '      or tables_nk2 like :P' || pnum || '_TABLES_NK2' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_NAME is null' || CHR(10) ||
        '      or name like :P' || pnum || '_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_SEQ_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_SEQ_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   seq between nvl(:P' || pnum || '_SEQ_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_SEQ_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_NK_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_NK_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   nk between nvl(:P' || pnum || '_NK_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_NK_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_REQ is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_REQ||'':'', '':''||req||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_FK_PREFIX is null' || CHR(10) ||
        '      or fk_prefix like :P' || pnum || '_FK_PREFIX' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_FK_TABLE_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_FK_TABLE_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   fk_table_id between nvl(:P' || pnum || '_FK_TABLE_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_FK_TABLE_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_FK_TABLES_NK1 is null' || CHR(10) ||
        '      or fk_tables_nk1 like :P' || pnum || '_FK_TABLES_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_FK_TABLES_NK2 is null' || CHR(10) ||
        '      or fk_tables_nk2 like :P' || pnum || '_FK_TABLES_NK2' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_D_DOMAIN_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_D_DOMAIN_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   d_domain_id between nvl(:P' || pnum || '_D_DOMAIN_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_D_DOMAIN_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_D_DOMAINS_NK1 is null' || CHR(10) ||
        '      or d_domains_nk1 like :P' || pnum || '_D_DOMAINS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_D_DOMAINS_NK2 is null' || CHR(10) ||
        '      or d_domains_nk2 like :P' || pnum || '_D_DOMAINS_NK2' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TYPE is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_TYPE||'':'', '':''||type||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_LEN_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_LEN_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   len between nvl(:P' || pnum || '_LEN_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_LEN_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_SCALE_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_SCALE_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   scale between nvl(:P' || pnum || '_SCALE_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_SCALE_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_FOLD is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_FOLD||'':'', '':''||fold||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_DEFAULT_VALUE is null' || CHR(10) ||
        '      or default_value like :P' || pnum || '_DEFAULT_VALUE' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_UPD_RES_PCT_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_UPD_RES_PCT_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   upd_res_pct between nvl(:P' || pnum || '_UPD_RES_PCT_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_UPD_RES_PCT_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1007 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'TABLE_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Table Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'TABLE_ID',
      p_column_comment=>'Surrogate Key for the table of this column');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'TABLE_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the table of this column');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'TABLES_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Tables Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'TABLES_NK1',
      p_column_comment=>'TABLES Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'TABLES_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'TABLES Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'TABLES_NK2',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Tables Nk2',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'TABLES_NK2',
      p_column_comment=>'TABLES Natural Key Value 2: Abbreviation for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'TABLES_NK2',
      p_display_as=> 'TEXT',
      p_column_comment=> 'TABLES Natural Key Value 2: Abbreviation for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'NAME',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '13',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","25")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'NAME',
      p_column_comment=>'Name of this column');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Name of this column');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'SEQ',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Seq',
      p_column_format=> '99',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","3")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'SEQ',
      p_column_comment=>'Sequence number for this column');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'SEQ',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Sequence number for this column');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'NK',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Nk',
      p_column_format=> '9',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","2")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'NK',
      p_column_comment=>'Natural key sequence number for this column.  Implies this column requires data (not null).');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 15,
      p_query_column_name=> 'NK',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Natural key sequence number for this column.  Implies this column requires data (not null).');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 18,
      p_form_element_id=> null,
      p_column_alias=> 'REQ',
      p_column_display_sequence=> 180,
      p_column_heading=> 'Req',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '1',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'REQ',
      p_column_comment=>'Flag to indicate if this column is required');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 17,
      p_query_column_name=> 'REQ',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Flag to indicate if this column is required');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 20,
      p_form_element_id=> null,
      p_column_alias=> 'FK_PREFIX',
      p_column_display_sequence=> 200,
      p_column_heading=> 'Fk Prefix',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","4")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'FK_PREFIX',
      p_column_comment=>'Foreign key prefix for multiple foreign keys to the same table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 19,
      p_query_column_name=> 'FK_PREFIX',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Foreign key prefix for multiple foreign keys to the same table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 22,
      p_form_element_id=> null,
      p_column_alias=> 'FK_TABLE_ID',
      p_column_display_sequence=> 220,
      p_column_heading=> 'Fk Table Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'FK_TABLE_ID',
      p_column_comment=>'Surrogate Key for the foreign key table of this column');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 21,
      p_query_column_name=> 'FK_TABLE_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the foreign key table of this column');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 24,
      p_form_element_id=> null,
      p_column_alias=> 'FK_TABLES_NK1',
      p_column_display_sequence=> 240,
      p_column_heading=> 'Fk Tables Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'FK_TABLES_NK1',
      p_column_comment=>'FK_TABLES Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 23,
      p_query_column_name=> 'FK_TABLES_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'FK_TABLES Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 26,
      p_form_element_id=> null,
      p_column_alias=> 'FK_TABLES_NK2',
      p_column_display_sequence=> 260,
      p_column_heading=> 'Fk Tables Nk2',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'FK_TABLES_NK2',
      p_column_comment=>'FK_TABLES Natural Key Value 2: Abbreviation for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 25,
      p_query_column_name=> 'FK_TABLES_NK2',
      p_display_as=> 'TEXT',
      p_column_comment=> 'FK_TABLES Natural Key Value 2: Abbreviation for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 28,
      p_form_element_id=> null,
      p_column_alias=> 'D_DOMAIN_ID',
      p_column_display_sequence=> 280,
      p_column_heading=> 'D Domain Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'D_DOMAIN_ID',
      p_column_comment=>'Surrogate Key for the domain of this column');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 27,
      p_query_column_name=> 'D_DOMAIN_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the domain of this column');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 30,
      p_form_element_id=> null,
      p_column_alias=> 'D_DOMAINS_NK1',
      p_column_display_sequence=> 300,
      p_column_heading=> 'D Domains Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'D_DOMAINS_NK1',
      p_column_comment=>'D_DOMAINS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 29,
      p_query_column_name=> 'D_DOMAINS_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'D_DOMAINS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 32,
      p_form_element_id=> null,
      p_column_alias=> 'D_DOMAINS_NK2',
      p_column_display_sequence=> 320,
      p_column_heading=> 'D Domains Nk2',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'D_DOMAINS_NK2',
      p_column_comment=>'D_DOMAINS Natural Key Value 2: Name of this data domain');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 31,
      p_query_column_name=> 'D_DOMAINS_NK2',
      p_display_as=> 'TEXT',
      p_column_comment=> 'D_DOMAINS Natural Key Value 2: Name of this data domain');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 34,
      p_form_element_id=> null,
      p_column_alias=> 'TYPE',
      p_column_display_sequence=> 340,
      p_column_heading=> 'Type',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'TYPE',
      p_column_comment=>'Type for this column');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 33,
      p_query_column_name=> 'TYPE',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Type for this column');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 36,
      p_form_element_id=> null,
      p_column_alias=> 'LEN',
      p_column_display_sequence=> 360,
      p_column_heading=> 'Len',
      p_column_format=> '99999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '4',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","6")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'LEN',
      p_column_comment=>'The total number of significant decimal digits in a number, or the length of a string, or the number of digits for fractional seconds in a timestamp');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 35,
      p_query_column_name=> 'LEN',
      p_display_as=> 'TEXT',
      p_column_comment=> 'The total number of significant decimal digits in a number, or the length of a string, or the number of digits for fractional seconds in a timestamp');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 38,
      p_form_element_id=> null,
      p_column_alias=> 'SCALE',
      p_column_display_sequence=> 380,
      p_column_heading=> 'Scale',
      p_column_format=> '999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","4")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'SCALE',
      p_column_comment=>'The number of digits from the decimal point to the least significant digit');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 37,
      p_query_column_name=> 'SCALE',
      p_display_as=> 'TEXT',
      p_column_comment=> 'The number of digits from the decimal point to the least significant digit');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 40,
      p_form_element_id=> null,
      p_column_alias=> 'FOLD',
      p_column_display_sequence=> 400,
      p_column_heading=> 'Fold',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '1',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'FOLD',
      p_column_comment=>'Flag to indicate if this column should be character case folded');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 39,
      p_query_column_name=> 'FOLD',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Flag to indicate if this column should be character case folded');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 42,
      p_form_element_id=> null,
      p_column_alias=> 'DEFAULT_VALUE',
      p_column_display_sequence=> 420,
      p_column_heading=> 'Default Value',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'DEFAULT_VALUE',
      p_column_comment=>'Default Value if no value is provided for this column');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 41,
      p_query_column_name=> 'DEFAULT_VALUE',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Default Value if no value is provided for this column');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 44,
      p_form_element_id=> null,
      p_column_alias=> 'UPD_RES_PCT',
      p_column_display_sequence=> 440,
      p_column_heading=> 'Upd Res Pct',
      p_column_format=> '99.',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","4")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'UPD_RES_PCT',
      p_column_comment=>'Percentage of column space reserved for data updates');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 43,
      p_query_column_name=> 'UPD_RES_PCT',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Percentage of column space reserved for data updates');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 46,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 460,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_COLS_ACT',
      p_ref_column_name=> 'DESCRIPTION',
      p_column_comment=>'Description for this column');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 45,
      p_query_column_name=> 'DESCRIPTION',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Description for this column');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1207 + page_os) || ':&SESSION.::&DEBUG.:' || (1207 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLE_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Table Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TABLE_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for TABLE_ID (Surrogate Key for the table of this column). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLE_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TABLE_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for TABLE_ID (Surrogate Key for the table of this column). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLES_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Tables Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TABLES_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TABLES_NK1 (TABLES Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLES_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Tables Nk2 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TABLES_NK2',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TABLES_NK2 (TABLES Natural Key Value 2: Abbreviation for this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 13,
      p_cMaxlength=> 25,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for NAME (Name of this column). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Seq Range from:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_SEQ_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number for this column). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 165,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_SEQ_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number for this column). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NK_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Nk Range from:',
      p_format_mask=>'9',
      p_source=>'P' || pnum || '_NK_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 2,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for NK (Natural key sequence number for this column.  Implies this column requires data (not null).). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NK_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 175,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'9',
      p_source=>'P' || pnum || '_NK_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 2,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for NK (Natural key sequence number for this column.  Implies this column requires data (not null).). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');
   lov_id := get_lov_id('FLAG', 'Static');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_REQ',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 180,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Req Select:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_REQ',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'FLAG',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 1,
      p_cMaxlength=> 1,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search list for REQ (Flag to indicate if this column is required). Select one or more values from the list.',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FK_PREFIX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 190,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Fk Prefix Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FK_PREFIX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for FK_PREFIX (Foreign key prefix for multiple foreign keys to the same table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FK_TABLE_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 200,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Fk Table Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FK_TABLE_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for FK_TABLE_ID (Surrogate Key for the foreign key table of this column). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FK_TABLE_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 205,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FK_TABLE_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for FK_TABLE_ID (Surrogate Key for the foreign key table of this column). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FK_TABLES_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 210,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Fk Tables Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FK_TABLES_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for FK_TABLES_NK1 (FK_TABLES Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FK_TABLES_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 220,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Fk Tables Nk2 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FK_TABLES_NK2',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for FK_TABLES_NK2 (FK_TABLES Natural Key Value 2: Abbreviation for this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_D_DOMAIN_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 230,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'D Domain Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_D_DOMAIN_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for D_DOMAIN_ID (Surrogate Key for the domain of this column). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_D_DOMAIN_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 235,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_D_DOMAIN_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for D_DOMAIN_ID (Surrogate Key for the domain of this column). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_D_DOMAINS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 240,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'D Domains Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_D_DOMAINS_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for D_DOMAINS_NK1 (D_DOMAINS Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_D_DOMAINS_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 250,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'D Domains Nk2 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_D_DOMAINS_NK2',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for D_DOMAINS_NK2 (D_DOMAINS Natural Key Value 2: Name of this data domain). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');
   lov_id := get_lov_id('COLUMN TYPE', 'Static');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 260,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Type Select:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TYPE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'COLUMN TYPE',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search list for TYPE (Type for this column). Select one or more values from the list.',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_LEN_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 270,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Len Range from:',
      p_format_mask=>'99999',
      p_source=>'P' || pnum || '_LEN_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 6,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for LEN (The total number of significant decimal digits in a number, or the length of a string, or the number of digits for fractional seconds in a timestamp). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_LEN_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 275,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'99999',
      p_source=>'P' || pnum || '_LEN_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 6,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for LEN (The total number of significant decimal digits in a number, or the length of a string, or the number of digits for fractional seconds in a timestamp). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SCALE_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 280,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Scale Range from:',
      p_format_mask=>'999',
      p_source=>'P' || pnum || '_SCALE_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SCALE (The number of digits from the decimal point to the least significant digit). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SCALE_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 285,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'999',
      p_source=>'P' || pnum || '_SCALE_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SCALE (The number of digits from the decimal point to the least significant digit). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');
   lov_id := get_lov_id('CASE FOLD', 'Static');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FOLD',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 290,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Fold Select:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_FOLD',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'CASE FOLD',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 1,
      p_cMaxlength=> 1,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search list for FOLD (Flag to indicate if this column should be character case folded). Select one or more values from the list.',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DEFAULT_VALUE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 300,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Default Value Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DEFAULT_VALUE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DEFAULT_VALUE (Default Value if no value is provided for this column). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_UPD_RES_PCT_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 310,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Upd Res Pct Range from:',
      p_format_mask=>'99.',
      p_source=>'P' || pnum || '_UPD_RES_PCT_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for UPD_RES_PCT (Percentage of column space reserved for data updates). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_UPD_RES_PCT_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 315,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'99.',
      p_source=>'P' || pnum || '_UPD_RES_PCT_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for UPD_RES_PCT (Percentage of column space reserved for data updates). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 320,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Description Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DESCRIPTION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DESCRIPTION (Description for this column). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1207 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.tab_cols_act' || CHR(10) ||
       '              set  table_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,tables_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,tables_nk2 = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,name = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,seq = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '                  ,nk = ' || CHR(10) ||
       '                      apex_application.g_f08(i)' || CHR(10) ||
       '                  ,req = ' || CHR(10) ||
       '                      apex_application.g_f09(i)' || CHR(10) ||
       '                  ,fk_prefix = ' || CHR(10) ||
       '                      apex_application.g_f10(i)' || CHR(10) ||
       '                  ,fk_table_id = ' || CHR(10) ||
       '                      apex_application.g_f11(i)' || CHR(10) ||
       '                  ,fk_tables_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f12(i)' || CHR(10) ||
       '                  ,fk_tables_nk2 = ' || CHR(10) ||
       '                      apex_application.g_f13(i)' || CHR(10) ||
       '                  ,d_domain_id = ' || CHR(10) ||
       '                      apex_application.g_f14(i)' || CHR(10) ||
       '                  ,d_domains_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f15(i)' || CHR(10) ||
       '                  ,d_domains_nk2 = ' || CHR(10) ||
       '                      apex_application.g_f16(i)' || CHR(10) ||
       '                  ,type = ' || CHR(10) ||
       '                      apex_application.g_f17(i)' || CHR(10) ||
       '                  ,len = ' || CHR(10) ||
       '                      apex_application.g_f18(i)' || CHR(10) ||
       '                  ,scale = ' || CHR(10) ||
       '                      apex_application.g_f19(i)' || CHR(10) ||
       '                  ,fold = ' || CHR(10) ||
       '                      apex_application.g_f20(i)' || CHR(10) ||
       '                  ,default_value = ' || CHR(10) ||
       '                      apex_application.g_f21(i)' || CHR(10) ||
       '                  ,upd_res_pct = ' || CHR(10) ||
       '                      apex_application.g_f22(i)' || CHR(10) ||
       '                  ,description = ' || CHR(10) ||
       '                      apex_application.g_f23(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.tab_cols_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,table_id' || CHR(10) ||
       '               ,tables_nk1' || CHR(10) ||
       '               ,tables_nk2' || CHR(10) ||
       '               ,name' || CHR(10) ||
       '               ,seq' || CHR(10) ||
       '               ,nk' || CHR(10) ||
       '               ,req' || CHR(10) ||
       '               ,fk_prefix' || CHR(10) ||
       '               ,fk_table_id' || CHR(10) ||
       '               ,fk_tables_nk1' || CHR(10) ||
       '               ,fk_tables_nk2' || CHR(10) ||
       '               ,d_domain_id' || CHR(10) ||
       '               ,d_domains_nk1' || CHR(10) ||
       '               ,d_domains_nk2' || CHR(10) ||
       '               ,type' || CHR(10) ||
       '               ,len' || CHR(10) ||
       '               ,scale' || CHR(10) ||
       '               ,fold' || CHR(10) ||
       '               ,default_value' || CHR(10) ||
       '               ,upd_res_pct' || CHR(10) ||
       '               ,description' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               ,apex_application.g_f08(i)' || CHR(10) ||
       '               ,apex_application.g_f09(i)' || CHR(10) ||
       '               ,apex_application.g_f10(i)' || CHR(10) ||
       '               ,apex_application.g_f11(i)' || CHR(10) ||
       '               ,apex_application.g_f12(i)' || CHR(10) ||
       '               ,apex_application.g_f13(i)' || CHR(10) ||
       '               ,apex_application.g_f14(i)' || CHR(10) ||
       '               ,apex_application.g_f15(i)' || CHR(10) ||
       '               ,apex_application.g_f16(i)' || CHR(10) ||
       '               ,apex_application.g_f17(i)' || CHR(10) ||
       '               ,apex_application.g_f18(i)' || CHR(10) ||
       '               ,apex_application.g_f19(i)' || CHR(10) ||
       '               ,apex_application.g_f20(i)' || CHR(10) ||
       '               ,apex_application.g_f21(i)' || CHR(10) ||
       '               ,apex_application.g_f22(i)' || CHR(10) ||
       '               ,apex_application.g_f23(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of TAB_COLS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:TAB_COLS_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1207+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 60,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/


declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('tab_cols form, 7');
   pnum     := 1207 + page_os;
   pname    := 'Tab Cols Form';
   ts_name  := 'MAIN_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Columns to be generated for each table'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1007 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1007 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLE_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Table Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'TABLE_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the table of this column',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLES_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Tables Nk1:',
      p_format_mask=>'',
      p_source=>'TABLES_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'TABLES Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLES_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Tables Nk2:',
      p_format_mask=>'',
      p_source=>'TABLES_NK2',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'TABLES Natural Key Value 2: Abbreviation for this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Name:',
      p_format_mask=>'',
      p_source=>'NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 25,
      p_cMaxlength=> 25,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Name of this column',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Seq:',
      p_format_mask=>'99',
      p_source=>'SEQ',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Sequence number for this column',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NK',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Nk:',
      p_format_mask=>'9',
      p_source=>'NK',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 2,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Natural key sequence number for this column.  Implies this column requires data (not null).',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := get_lov_id('FLAG', 'Static');
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_REQ',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Req:',
      p_format_mask=>'',
      p_source=>'REQ',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'FLAG',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 1,
      p_cMaxlength=> 1,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Flag to indicate if this column is required',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_attribute_03 => '',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FK_PREFIX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 90,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Fk Prefix:',
      p_format_mask=>'',
      p_source=>'FK_PREFIX',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Foreign key prefix for multiple foreign keys to the same table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FK_TABLE_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 100,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Fk Table Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'FK_TABLE_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the foreign key table of this column',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FK_TABLES_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Fk Tables Nk1:',
      p_format_mask=>'',
      p_source=>'FK_TABLES_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'FK_TABLES Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FK_TABLES_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Fk Tables Nk2:',
      p_format_mask=>'',
      p_source=>'FK_TABLES_NK2',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'FK_TABLES Natural Key Value 2: Abbreviation for this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_D_DOMAIN_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'D Domain Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'D_DOMAIN_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the domain of this column',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_D_DOMAINS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'D Domains Nk1:',
      p_format_mask=>'',
      p_source=>'D_DOMAINS_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'D_DOMAINS Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_D_DOMAINS_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'D Domains Nk2:',
      p_format_mask=>'',
      p_source=>'D_DOMAINS_NK2',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'D_DOMAINS Natural Key Value 2: Name of this data domain',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := get_lov_id('COLUMN TYPE', 'Static');
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Type:',
      p_format_mask=>'',
      p_source=>'TYPE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'COLUMN TYPE',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Type for this column',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_attribute_03 => '',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_LEN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Len:',
      p_format_mask=>'99999',
      p_source=>'LEN',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 6,
      p_cMaxlength=> 6,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'The total number of significant decimal digits in a number, or the length of a string, or the number of digits for fractional seconds in a timestamp',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SCALE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 180,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Scale:',
      p_format_mask=>'999',
      p_source=>'SCALE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'The number of digits from the decimal point to the least significant digit',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := get_lov_id('CASE FOLD', 'Static');
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_FOLD',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 190,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Fold:',
      p_format_mask=>'',
      p_source=>'FOLD',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'CASE FOLD',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 1,
      p_cMaxlength=> 1,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Flag to indicate if this column should be character case folded',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_attribute_03 => '',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DEFAULT_VALUE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 200,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Default Value:',
      p_format_mask=>'',
      p_source=>'DEFAULT_VALUE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Default Value if no value is provided for this column',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_UPD_RES_PCT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 210,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Upd Res Pct:',
      p_format_mask=>'99.',
      p_source=>'UPD_RES_PCT',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Percentage of column space reserved for data updates',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 220,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Description:',
      p_format_mask=>'',
      p_source=>'DESCRIPTION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Description for this column',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from TAB_COLS_ACT',
      p_process_sql_clob => 'F|#OWNER#:TAB_COLS_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view TAB_COLS_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.tab_cols_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_table_id => :P' || pnum || '_TABLE_ID' || CHR(10) ||
        '      ,n_tables_NK1_in => :P' || pnum || '_TABLES_NK1' || CHR(10) ||
        '      ,n_tables_NK2_in => :P' || pnum || '_TABLES_NK2' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_nk => :P' || pnum || '_NK' || CHR(10) ||
        '      ,n_req => :P' || pnum || '_REQ' || CHR(10) ||
        '      ,n_fk_prefix => :P' || pnum || '_FK_PREFIX' || CHR(10) ||
        '      ,n_fk_table_id => :P' || pnum || '_FK_TABLE_ID' || CHR(10) ||
        '      ,n_fk_tables_NK1_in => :P' || pnum || '_FK_TABLES_NK1' || CHR(10) ||
        '      ,n_fk_tables_NK2_in => :P' || pnum || '_FK_TABLES_NK2' || CHR(10) ||
        '      ,n_d_domain_id => :P' || pnum || '_D_DOMAIN_ID' || CHR(10) ||
        '      ,n_d_domains_NK1_in => :P' || pnum || '_D_DOMAINS_NK1' || CHR(10) ||
        '      ,n_d_domains_NK2_in => :P' || pnum || '_D_DOMAINS_NK2' || CHR(10) ||
        '      ,n_type => :P' || pnum || '_TYPE' || CHR(10) ||
        '      ,n_len => :P' || pnum || '_LEN' || CHR(10) ||
        '      ,n_scale => :P' || pnum || '_SCALE' || CHR(10) ||
        '      ,n_fold => :P' || pnum || '_FOLD' || CHR(10) ||
        '      ,n_default_value => :P' || pnum || '_DEFAULT_VALUE' || CHR(10) ||
        '      ,n_upd_res_pct => :P' || pnum || '_UPD_RES_PCT' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of TAB_COLS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view TAB_COLS_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.tab_cols_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_table_id => :P' || pnum || '_TABLE_ID' || CHR(10) ||
        '      ,n_tables_NK1_in => :P' || pnum || '_TABLES_NK1' || CHR(10) ||
        '      ,n_tables_NK2_in => :P' || pnum || '_TABLES_NK2' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_nk => :P' || pnum || '_NK' || CHR(10) ||
        '      ,n_req => :P' || pnum || '_REQ' || CHR(10) ||
        '      ,n_fk_prefix => :P' || pnum || '_FK_PREFIX' || CHR(10) ||
        '      ,n_fk_table_id => :P' || pnum || '_FK_TABLE_ID' || CHR(10) ||
        '      ,n_fk_tables_NK1_in => :P' || pnum || '_FK_TABLES_NK1' || CHR(10) ||
        '      ,n_fk_tables_NK2_in => :P' || pnum || '_FK_TABLES_NK2' || CHR(10) ||
        '      ,n_d_domain_id => :P' || pnum || '_D_DOMAIN_ID' || CHR(10) ||
        '      ,n_d_domains_NK1_in => :P' || pnum || '_D_DOMAINS_NK1' || CHR(10) ||
        '      ,n_d_domains_NK2_in => :P' || pnum || '_D_DOMAINS_NK2' || CHR(10) ||
        '      ,n_type => :P' || pnum || '_TYPE' || CHR(10) ||
        '      ,n_len => :P' || pnum || '_LEN' || CHR(10) ||
        '      ,n_scale => :P' || pnum || '_SCALE' || CHR(10) ||
        '      ,n_fold => :P' || pnum || '_FOLD' || CHR(10) ||
        '      ,n_default_value => :P' || pnum || '_DEFAULT_VALUE' || CHR(10) ||
        '      ,n_upd_res_pct => :P' || pnum || '_UPD_RES_PCT' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of TAB_COLS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view TAB_COLS_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.tab_cols_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for TAB_COLS_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view TAB_COLS_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'TAB_COLS_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'TAB_COLS_ACT',
      p_report_region_title => 'Tab Cols',
      p_form_region_title => 'Tab Cols');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Table Id',
      p_help_text => 'Surrogate Key for the table of this column',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select tables_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".tables'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TABLE_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Tables Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TABLES_NK1');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Tables Nk2',
      p_help_text => 'Abbreviation for this table',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TABLES_NK2');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Name',
      p_help_text => 'Name of this column',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 13,
      p_max_width => 25,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Seq',
      p_help_text => 'Sequence number for this column',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '99',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 2,
      p_max_width => 3,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'SEQ');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Nk',
      p_help_text => 'Natural key sequence number for this column.  Implies this column requires data (not null).',
      p_display_seq_form => 8,
      p_display_seq_report => 8,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '9',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 2,
      p_max_width => 2,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'NK');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Req',
      p_help_text => 'Flag to indicate if this column is required',
      p_display_seq_form => 9,
      p_display_seq_report => 9,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_SELECT_LIST',
      p_form_attribute_01 => 'NONE',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'SELECT_LIST_FROM_LOV',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 1,
      p_max_width => 1,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'REQ');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 1,
      p_lov_disp_value => 'Flagged',
      p_lov_return_value => 'X');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Fk Prefix',
      p_help_text => 'Foreign key prefix for multiple foreign keys to the same table',
      p_display_seq_form => 10,
      p_display_seq_report => 10,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 4,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'FK_PREFIX');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Fk Table Id',
      p_help_text => 'Surrogate Key for the foreign key table of this column',
      p_display_seq_form => 11,
      p_display_seq_report => 11,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select tables_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".tables'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'FK_TABLE_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Fk Tables Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 13,
      p_display_seq_report => 13,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'FK_TABLES_NK1');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Fk Tables Nk2',
      p_help_text => 'Abbreviation for this table',
      p_display_seq_form => 15,
      p_display_seq_report => 15,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'FK_TABLES_NK2');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'D Domain Id',
      p_help_text => 'Surrogate Key for the domain of this column',
      p_display_seq_form => 16,
      p_display_seq_report => 16,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select domains_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".domains'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'D_DOMAIN_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'D Domains Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 18,
      p_display_seq_report => 18,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'D_DOMAINS_NK1');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'D Domains Nk2',
      p_help_text => 'Name of this data domain',
      p_display_seq_form => 20,
      p_display_seq_report => 20,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'D_DOMAINS_NK2');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Type',
      p_help_text => 'Type for this column',
      p_display_seq_form => 21,
      p_display_seq_report => 21,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_SELECT_LIST',
      p_form_attribute_01 => 'NONE',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'SELECT_LIST_FROM_LOV',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 30,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TYPE');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 1,
      p_lov_disp_value => 'A numeric data type',
      p_lov_return_value => 'NUMBER');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 2,
      p_lov_disp_value => 'A character data type',
      p_lov_return_value => 'VARCHAR2');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 3,
      p_lov_disp_value => 'A date/time data type',
      p_lov_return_value => 'DATE');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 4,
      p_lov_disp_value => 'A date/time data type with time zone',
      p_lov_return_value => 'TIMESTAMP WITH TIME ZONE');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 5,
      p_lov_disp_value => 'A date/time data type with local time zone',
      p_lov_return_value => 'TIMESTAMP WITH LOCAL TIME ZONE');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Len',
      p_help_text => 'The total number of significant decimal digits in a number, or the length of a string, or the number of digits for fractional seconds in a timestamp',
      p_display_seq_form => 22,
      p_display_seq_report => 22,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '99999',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 4,
      p_max_width => 6,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'LEN');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Scale',
      p_help_text => 'The number of digits from the decimal point to the least significant digit',
      p_display_seq_form => 23,
      p_display_seq_report => 23,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '999',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 3,
      p_max_width => 4,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'SCALE');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Fold',
      p_help_text => 'Flag to indicate if this column should be character case folded',
      p_display_seq_form => 24,
      p_display_seq_report => 24,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_SELECT_LIST',
      p_form_attribute_01 => 'NONE',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'SELECT_LIST_FROM_LOV',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 1,
      p_max_width => 1,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'FOLD');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 1,
      p_lov_disp_value => 'Upper case character fold',
      p_lov_return_value => 'U');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 2,
      p_lov_disp_value => 'Lower case character fold',
      p_lov_return_value => 'L');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 3,
      p_lov_disp_value => 'Initial capital case character fold',
      p_lov_return_value => 'I');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Default Value',
      p_help_text => 'Default Value if no value is provided for this column',
      p_display_seq_form => 25,
      p_display_seq_report => 25,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DEFAULT_VALUE');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Upd Res Pct',
      p_help_text => 'Percentage of column space reserved for data updates',
      p_display_seq_form => 26,
      p_display_seq_report => 26,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '99.',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 3,
      p_max_width => 4,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'UPD_RES_PCT');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Description',
      p_help_text => 'Description for this column',
      p_display_seq_form => 27,
      p_display_seq_report => 27,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DESCRIPTION');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these tab_cols',
      p_display_seq_form => 28,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   ----------------------------------------

end;
/
select '***  tab_inds  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('tab_inds maint1, 8');
   pnum     := 1008 + page_os;
   pname    := 'Tab Inds Maint';
   ts_name  := 'MAIN_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('TAB_INDS_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "TAB_INDS_LOV"');
      s := 'select tab_inds_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".tab_inds' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'TAB_INDS_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Unique and non-unique indexes for this table'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',TAB_COL_ID' || CHR(10) ||
              ',tab_cols_nk1' || CHR(10) ||
              ',tab_cols_nk2' || CHR(10) ||
              ',tab_cols_nk3' || CHR(10) ||
              ',TAG' || CHR(10) ||
              ',SEQ' || CHR(10) ||
        'from "#OWNER#".TAB_INDS_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_TAB_COL_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_TAB_COL_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   tab_col_id between nvl(:P' || pnum || '_TAB_COL_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_TAB_COL_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_TAB_COLS_NK1 is null' || CHR(10) ||
        '      or tab_cols_nk1 like :P' || pnum || '_TAB_COLS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TAB_COLS_NK2 is null' || CHR(10) ||
        '      or tab_cols_nk2 like :P' || pnum || '_TAB_COLS_NK2' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TAB_COLS_NK3 is null' || CHR(10) ||
        '      or tab_cols_nk3 like :P' || pnum || '_TAB_COLS_NK3' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TAG is null' || CHR(10) ||
        '      or tag like :P' || pnum || '_TAG' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_SEQ_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_SEQ_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   seq between nvl(:P' || pnum || '_SEQ_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_SEQ_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_INDS_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_INDS_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1008 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'TAB_COL_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Tab Col Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_INDS_ACT',
      p_ref_column_name=> 'TAB_COL_ID',
      p_column_comment=>'Surrogate Key for the column for this index');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'TAB_COL_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the column for this index');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'TAB_COLS_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Tab Cols Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_INDS_ACT',
      p_ref_column_name=> 'TAB_COLS_NK1',
      p_column_comment=>'TAB_COLS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'TAB_COLS_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'TAB_COLS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'TAB_COLS_NK2',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Tab Cols Nk2',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_INDS_ACT',
      p_ref_column_name=> 'TAB_COLS_NK2',
      p_column_comment=>'TAB_COLS Natural Key Value 2: Abbreviation for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'TAB_COLS_NK2',
      p_display_as=> 'TEXT',
      p_column_comment=> 'TAB_COLS Natural Key Value 2: Abbreviation for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'TAB_COLS_NK3',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Tab Cols Nk3',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '13',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","25")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_INDS_ACT',
      p_ref_column_name=> 'TAB_COLS_NK3',
      p_column_comment=>'TAB_COLS Natural Key Value 3: Name of this column');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'TAB_COLS_NK3',
      p_display_as=> 'TEXT',
      p_column_comment=> 'TAB_COLS Natural Key Value 3: Name of this column');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'TAG',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Tag',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","4")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_INDS_ACT',
      p_ref_column_name=> 'TAG',
      p_column_comment=>'Tag attached to the table name for this column that uniquely identifies this index');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'TAG',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Tag attached to the table name for this column that uniquely identifies this index');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'SEQ',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Seq',
      p_column_format=> '9',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>3,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","2")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'TAB_INDS_ACT',
      p_ref_column_name=> 'SEQ',
      p_column_comment=>'Sequence number for this column for this index');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 15,
      p_query_column_name=> 'SEQ',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Sequence number for this column for this index');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1208 + page_os) || ':&SESSION.::&DEBUG.:' || (1208 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAB_COL_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Tab Col Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TAB_COL_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for TAB_COL_ID (Surrogate Key for the column for this index). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAB_COL_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TAB_COL_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for TAB_COL_ID (Surrogate Key for the column for this index). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAB_COLS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Tab Cols Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TAB_COLS_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TAB_COLS_NK1 (TAB_COLS Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAB_COLS_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Tab Cols Nk2 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TAB_COLS_NK2',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TAB_COLS_NK2 (TAB_COLS Natural Key Value 2: Abbreviation for this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAB_COLS_NK3',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Tab Cols Nk3 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TAB_COLS_NK3',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 13,
      p_cMaxlength=> 25,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TAB_COLS_NK3 (TAB_COLS Natural Key Value 3: Name of this column). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAG',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Tag Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TAG',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TAG (Tag attached to the table name for this column that uniquely identifies this index). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Seq Range from:',
      p_format_mask=>'9',
      p_source=>'P' || pnum || '_SEQ_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 2,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number for this column for this index). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 175,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'9',
      p_source=>'P' || pnum || '_SEQ_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 2,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number for this column for this index). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1208 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.tab_inds_act' || CHR(10) ||
       '              set  tab_col_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,tab_cols_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,tab_cols_nk2 = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,tab_cols_nk3 = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,tag = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '                  ,seq = ' || CHR(10) ||
       '                      apex_application.g_f08(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.tab_inds_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,tab_col_id' || CHR(10) ||
       '               ,tab_cols_nk1' || CHR(10) ||
       '               ,tab_cols_nk2' || CHR(10) ||
       '               ,tab_cols_nk3' || CHR(10) ||
       '               ,tag' || CHR(10) ||
       '               ,seq' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               ,apex_application.g_f08(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of TAB_INDS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:TAB_INDS_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1208+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 60,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/


declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('tab_inds form, 8');
   pnum     := 1208 + page_os;
   pname    := 'Tab Inds Form';
   ts_name  := 'MAIN_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Unique and non-unique indexes for this table'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1008 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1008 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAB_COL_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Tab Col Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'TAB_COL_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the column for this index',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAB_COLS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Tab Cols Nk1:',
      p_format_mask=>'',
      p_source=>'TAB_COLS_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'TAB_COLS Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAB_COLS_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Tab Cols Nk2:',
      p_format_mask=>'',
      p_source=>'TAB_COLS_NK2',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'TAB_COLS Natural Key Value 2: Abbreviation for this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAB_COLS_NK3',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Tab Cols Nk3:',
      p_format_mask=>'',
      p_source=>'TAB_COLS_NK3',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 25,
      p_cMaxlength=> 25,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'TAB_COLS Natural Key Value 3: Name of this column',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TAG',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Tag:',
      p_format_mask=>'',
      p_source=>'TAG',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 4,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Tag attached to the table name for this column that uniquely identifies this index',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Seq:',
      p_format_mask=>'9',
      p_source=>'SEQ',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 2,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Sequence number for this column for this index',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from TAB_INDS_ACT',
      p_process_sql_clob => 'F|#OWNER#:TAB_INDS_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view TAB_INDS_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.tab_inds_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_tab_col_id => :P' || pnum || '_TAB_COL_ID' || CHR(10) ||
        '      ,n_tab_cols_NK1_in => :P' || pnum || '_TAB_COLS_NK1' || CHR(10) ||
        '      ,n_tab_cols_NK2_in => :P' || pnum || '_TAB_COLS_NK2' || CHR(10) ||
        '      ,n_tab_cols_NK3_in => :P' || pnum || '_TAB_COLS_NK3' || CHR(10) ||
        '      ,n_tag => :P' || pnum || '_TAG' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of TAB_INDS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view TAB_INDS_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.tab_inds_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_tab_col_id => :P' || pnum || '_TAB_COL_ID' || CHR(10) ||
        '      ,n_tab_cols_NK1_in => :P' || pnum || '_TAB_COLS_NK1' || CHR(10) ||
        '      ,n_tab_cols_NK2_in => :P' || pnum || '_TAB_COLS_NK2' || CHR(10) ||
        '      ,n_tab_cols_NK3_in => :P' || pnum || '_TAB_COLS_NK3' || CHR(10) ||
        '      ,n_tag => :P' || pnum || '_TAG' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of TAB_INDS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view TAB_INDS_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.tab_inds_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for TAB_INDS_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view TAB_INDS_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'TAB_INDS_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'TAB_INDS_ACT',
      p_report_region_title => 'Tab Inds',
      p_form_region_title => 'Tab Inds');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Tab Col Id',
      p_help_text => 'Surrogate Key for the column for this index',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select tab_cols_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".tab_cols'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TAB_COL_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Tab Cols Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TAB_COLS_NK1');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Tab Cols Nk2',
      p_help_text => 'Abbreviation for this table',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TAB_COLS_NK2');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Tab Cols Nk3',
      p_help_text => 'Name of this column',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 13,
      p_max_width => 25,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TAB_COLS_NK3');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Tag',
      p_help_text => 'Tag attached to the table name for this column that uniquely identifies this index',
      p_display_seq_form => 8,
      p_display_seq_report => 8,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 4,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TAG');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Seq',
      p_help_text => 'Sequence number for this column for this index',
      p_display_seq_form => 9,
      p_display_seq_report => 9,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '9',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 2,
      p_max_width => 2,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'SEQ');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these tab_inds',
      p_display_seq_form => 10,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   ----------------------------------------

end;
/
select '***  check_cons  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('check_cons maint1, 9');
   pnum     := 1009 + page_os;
   pname    := 'Check Cons Maint';
   ts_name  := 'MAIN_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('CHECK_CONS_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "CHECK_CONS_LOV"');
      s := 'select check_cons_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".check_cons' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'CHECK_CONS_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Check constraints to be generated for each table'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',TABLE_ID' || CHR(10) ||
              ',tables_nk1' || CHR(10) ||
              ',tables_nk2' || CHR(10) ||
              ',SEQ' || CHR(10) ||
              ',TEXT' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
        'from "#OWNER#".CHECK_CONS_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_TABLE_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_TABLE_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   table_id between nvl(:P' || pnum || '_TABLE_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_TABLE_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_TABLES_NK1 is null' || CHR(10) ||
        '      or tables_nk1 like :P' || pnum || '_TABLES_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TABLES_NK2 is null' || CHR(10) ||
        '      or tables_nk2 like :P' || pnum || '_TABLES_NK2' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_SEQ_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_SEQ_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   seq between nvl(:P' || pnum || '_SEQ_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_SEQ_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_TEXT is null' || CHR(10) ||
        '      or text like :P' || pnum || '_TEXT' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'CHECK_CONS_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'CHECK_CONS_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1009 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'TABLE_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Table Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'CHECK_CONS_ACT',
      p_ref_column_name=> 'TABLE_ID',
      p_column_comment=>'Surrogate Key for the table of this check constraint');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'TABLE_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the table of this check constraint');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'TABLES_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Tables Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'CHECK_CONS_ACT',
      p_ref_column_name=> 'TABLES_NK1',
      p_column_comment=>'TABLES Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'TABLES_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'TABLES Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'TABLES_NK2',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Tables Nk2',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'CHECK_CONS_ACT',
      p_ref_column_name=> 'TABLES_NK2',
      p_column_comment=>'TABLES Natural Key Value 2: Abbreviation for this table');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'TABLES_NK2',
      p_display_as=> 'TEXT',
      p_column_comment=> 'TABLES Natural Key Value 2: Abbreviation for this table');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'SEQ',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Seq',
      p_column_format=> '99',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","3")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'CHECK_CONS_ACT',
      p_ref_column_name=> 'SEQ',
      p_column_comment=>'Sequence number of this check constraint');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'SEQ',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Sequence number of this check constraint');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'TEXT',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Text',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'CHECK_CONS_ACT',
      p_ref_column_name=> 'TEXT',
      p_column_comment=>'Execution (PL/SQL) text for this check constraint');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'TEXT',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Execution (PL/SQL) text for this check constraint');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'CHECK_CONS_ACT',
      p_ref_column_name=> 'DESCRIPTION',
      p_column_comment=>'Description of this check constraint');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 15,
      p_query_column_name=> 'DESCRIPTION',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Description of this check constraint');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1209 + page_os) || ':&SESSION.::&DEBUG.:' || (1209 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLE_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Table Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TABLE_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for TABLE_ID (Surrogate Key for the table of this check constraint). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLE_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TABLE_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for TABLE_ID (Surrogate Key for the table of this check constraint). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLES_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Tables Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TABLES_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TABLES_NK1 (TABLES Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLES_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Tables Nk2 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TABLES_NK2',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TABLES_NK2 (TABLES Natural Key Value 2: Abbreviation for this table). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Seq Range from:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_SEQ_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number of this check constraint). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 155,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'99',
      p_source=>'P' || pnum || '_SEQ_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 2,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for SEQ (Sequence number of this check constraint). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TEXT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Text Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TEXT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for TEXT (Execution (PL/SQL) text for this check constraint). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Description Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DESCRIPTION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DESCRIPTION (Description of this check constraint). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1209 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.check_cons_act' || CHR(10) ||
       '              set  table_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,tables_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,tables_nk2 = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,seq = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,text = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '                  ,description = ' || CHR(10) ||
       '                      apex_application.g_f08(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.check_cons_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,table_id' || CHR(10) ||
       '               ,tables_nk1' || CHR(10) ||
       '               ,tables_nk2' || CHR(10) ||
       '               ,seq' || CHR(10) ||
       '               ,text' || CHR(10) ||
       '               ,description' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               ,apex_application.g_f08(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of CHECK_CONS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:CHECK_CONS_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1209+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 60,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/


declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('check_cons form, 9');
   pnum     := 1209 + page_os;
   pname    := 'Check Cons Form';
   ts_name  := 'MAIN_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Check constraints to be generated for each table'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1009 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1009 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLE_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Table Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'TABLE_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the table of this check constraint',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLES_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Tables Nk1:',
      p_format_mask=>'',
      p_source=>'TABLES_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'TABLES Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TABLES_NK2',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Tables Nk2:',
      p_format_mask=>'',
      p_source=>'TABLES_NK2',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'TABLES Natural Key Value 2: Abbreviation for this table',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_SEQ',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Seq:',
      p_format_mask=>'99',
      p_source=>'SEQ',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 3,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Sequence number of this check constraint',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TEXT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Text:',
      p_format_mask=>'',
      p_source=>'TEXT',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Execution (PL/SQL) text for this check constraint',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Description:',
      p_format_mask=>'',
      p_source=>'DESCRIPTION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Description of this check constraint',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from CHECK_CONS_ACT',
      p_process_sql_clob => 'F|#OWNER#:CHECK_CONS_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view CHECK_CONS_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.check_cons_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_table_id => :P' || pnum || '_TABLE_ID' || CHR(10) ||
        '      ,n_tables_NK1_in => :P' || pnum || '_TABLES_NK1' || CHR(10) ||
        '      ,n_tables_NK2_in => :P' || pnum || '_TABLES_NK2' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_text => :P' || pnum || '_TEXT' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of CHECK_CONS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view CHECK_CONS_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.check_cons_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_table_id => :P' || pnum || '_TABLE_ID' || CHR(10) ||
        '      ,n_tables_NK1_in => :P' || pnum || '_TABLES_NK1' || CHR(10) ||
        '      ,n_tables_NK2_in => :P' || pnum || '_TABLES_NK2' || CHR(10) ||
        '      ,n_seq => :P' || pnum || '_SEQ' || CHR(10) ||
        '      ,n_text => :P' || pnum || '_TEXT' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of CHECK_CONS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view CHECK_CONS_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.check_cons_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for CHECK_CONS_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view CHECK_CONS_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'CHECK_CONS_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'CHECK_CONS_ACT',
      p_report_region_title => 'Check Cons',
      p_form_region_title => 'Check Cons');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Table Id',
      p_help_text => 'Surrogate Key for the table of this check constraint',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select tables_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".tables'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TABLE_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Tables Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TABLES_NK1');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Tables Nk2',
      p_help_text => 'Abbreviation for this table',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TABLES_NK2');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Seq',
      p_help_text => 'Sequence number of this check constraint',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '99',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 2,
      p_max_width => 3,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'SEQ');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Text',
      p_help_text => 'Execution (PL/SQL) text for this check constraint',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TEXT');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Description',
      p_help_text => 'Description of this check constraint',
      p_display_seq_form => 8,
      p_display_seq_report => 8,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DESCRIPTION');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these check_cons',
      p_display_seq_form => 9,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   ----------------------------------------

end;
/
select '***  programs  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('programs maint1, 10');
   pnum     := 1010 + page_os;
   pname    := 'Programs Maint';
   ts_name  := 'EXTRA_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('PROGRAMS_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "PROGRAMS_LOV"');
      s := 'select programs_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".programs' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'PROGRAMS_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Programs Registered to Run with the Application'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',applications_nk1' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',TYPE' || CHR(10) ||
              ',DESCRIPTION' || CHR(10) ||
        'from "#OWNER#".PROGRAMS_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_APPLICATION_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_APPLICATION_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   application_id between nvl(:P' || pnum || '_APPLICATION_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_APPLICATION_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_APPLICATIONS_NK1 is null' || CHR(10) ||
        '      or applications_nk1 like :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_NAME is null' || CHR(10) ||
        '      or name like :P' || pnum || '_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_TYPE is null' || CHR(10) ||
        '      or instr('':''||:P' || pnum || '_TYPE||'':'', '':''||type||'':'') > 0' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_DESCRIPTION is null' || CHR(10) ||
        '      or description like :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'PROGRAMS_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'PROGRAMS_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1010 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATION_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Application Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'PROGRAMS_ACT',
      p_ref_column_name=> 'APPLICATION_ID',
      p_column_comment=>'Surrogate Key for the application of this Shared Program Unit');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'APPLICATION_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the application of this Shared Program Unit');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATIONS_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Applications Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'PROGRAMS_ACT',
      p_ref_column_name=> 'APPLICATIONS_NK1',
      p_column_comment=>'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'APPLICATIONS_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'NAME',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'PROGRAMS_ACT',
      p_ref_column_name=> 'NAME',
      p_column_comment=>'Name of this Stored Program Unit');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Name of this Stored Program Unit');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'TYPE',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Type',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'PROGRAMS_ACT',
      p_ref_column_name=> 'TYPE',
      p_column_comment=>'Type of this Stored Program Unit');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'TYPE',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Type of this Stored Program Unit');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'DESCRIPTION',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Description',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","1000")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'PROGRAMS_ACT',
      p_ref_column_name=> 'DESCRIPTION',
      p_column_comment=>'Description of this Stored Program Unit');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'DESCRIPTION',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Description of this Stored Program Unit');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1210 + page_os) || ':&SESSION.::&DEBUG.:' || (1210 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Application Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this Shared Program Unit). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this Shared Program Unit). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Applications Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATIONS_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for APPLICATIONS_NK1 (APPLICATIONS Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for NAME (Name of this Stored Program Unit). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');
   lov_id := get_lov_id('PROGRAM TYPE', 'Static');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Type Select:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_TYPE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'PROGRAM TYPE',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search list for TYPE (Type of this Stored Program Unit). Select one or more values from the list.',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Description Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_DESCRIPTION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for DESCRIPTION (Description of this Stored Program Unit). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1210 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.programs_act' || CHR(10) ||
       '              set  application_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,applications_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,name = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,type = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,description = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.programs_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,application_id' || CHR(10) ||
       '               ,applications_nk1' || CHR(10) ||
       '               ,name' || CHR(10) ||
       '               ,type' || CHR(10) ||
       '               ,description' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of PROGRAMS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:PROGRAMS_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1210+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 60,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/


declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('programs form, 10');
   pnum     := 1210 + page_os;
   pname    := 'Programs Form';
   ts_name  := 'EXTRA_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Programs Registered to Run with the Application'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1010 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1010 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Application Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'APPLICATION_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the application of this Shared Program Unit',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Applications Nk1:',
      p_format_mask=>'',
      p_source=>'APPLICATIONS_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Name:',
      p_format_mask=>'',
      p_source=>'NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Name of this Stored Program Unit',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := get_lov_id('PROGRAM TYPE', 'Static');
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_TYPE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Type:',
      p_format_mask=>'',
      p_source=>'TYPE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_SELECT_LIST',
      p_named_lov=> 'PROGRAM TYPE',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Type of this Stored Program Unit',
      p_attribute_01 => 'NONE',
      p_attribute_02 => 'Y',
      p_attribute_03 => '',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_DESCRIPTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Description:',
      p_format_mask=>'',
      p_source=>'DESCRIPTION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 1000,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Description of this Stored Program Unit',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from PROGRAMS_ACT',
      p_process_sql_clob => 'F|#OWNER#:PROGRAMS_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view PROGRAMS_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.programs_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_type => :P' || pnum || '_TYPE' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of PROGRAMS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view PROGRAMS_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.programs_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_type => :P' || pnum || '_TYPE' || CHR(10) ||
        '      ,n_description => :P' || pnum || '_DESCRIPTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of PROGRAMS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view PROGRAMS_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.programs_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for PROGRAMS_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view PROGRAMS_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'PROGRAMS_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'PROGRAMS_ACT',
      p_report_region_title => 'Programs',
      p_form_region_title => 'Programs');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Application Id',
      p_help_text => 'Surrogate Key for the application of this Shared Program Unit',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select applications_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".applications'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATION_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Applications Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATIONS_NK1');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Name',
      p_help_text => 'Name of this Stored Program Unit',
      p_display_seq_form => 4,
      p_display_seq_report => 4,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Type',
      p_help_text => 'Type of this Stored Program Unit',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_SELECT_LIST',
      p_form_attribute_01 => 'NONE',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'SELECT_LIST_FROM_LOV',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 30,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'TYPE');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 1,
      p_lov_disp_value => 'Includes Package Specification and Package Body',
      p_lov_return_value => 'PACKAGE');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 2,
      p_lov_disp_value => 'Stored Function outside of a Package',
      p_lov_return_value => 'FUNCTION');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 3,
      p_lov_disp_value => 'Stored Procedure outside of a Package',
      p_lov_return_value => 'PROCEDURE');

   wwv_flow_hint.create_lov_data_priv(
      p_id => wwv_flow_id.next_val,
      p_column_id => col_id,
      p_lov_disp_sequence => 4,
      p_lov_disp_value => 'Custom Views',
      p_lov_return_value => 'VIEW');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Description',
      p_help_text => 'Description of this Stored Program Unit',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 1000,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'DESCRIPTION');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these programs',
      p_display_seq_form => 7,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   ----------------------------------------

end;
/
select '***  exceptions  ***' as TABLE_NAME from dual
/
declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq
   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   ract_id    number;          -- (Report Region) Active View ID
   rdel_id    number;          -- (Report Region) Delete View ID
   fcp_id     number;          -- Filter Criteria Plug ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional Label with Help');

   dbms_output.put_line('exceptions maint1, 11');
   pnum     := 1011 + page_os;
   pname    := 'Exceptions Maint';
   ts_name  := 'EXTRA_MAINT_TS';
   ract_id  := wwv_flow_id.next_val;
   rdel_id  := wwv_flow_id.next_val;
   fcp_id   := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   if get_lov_id('EXCEPTIONS_LOV', 'Dynamic') is null
   then

      dbms_output.put_line('  ...Create Shared LOV "EXCEPTIONS_LOV"');
      s := 'select exceptions_dml.get_nk(id) ' ||
             ' || ''('' || id  || '')'' d, id r' || CHR(10) ||
            'from  "#OWNER#".exceptions' || CHR(10) ||
            'order by 1';

      wwv_flow_api.create_list_of_values (
         p_id       => wwv_flow_id.next_val,
         p_flow_id  => wwv_flow.g_flow_id,
         p_lov_name => 'EXCEPTIONS_LOV',
         p_lov_query=> s);

   end if;

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'NO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_cache_page_yn => 'N'
      ,p_help_text => 'Application Exceptions for Error Trapping'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create Main Grid Edit');
   s := 'select ID' || CHR(10) ||
              ',ID ID_DISPLAY' || CHR(10) ||
              ',''Edit Record'' EDIT_RECORD_LINK_COLUMN_NAME' || CHR(10) ||
              ',APPLICATION_ID' || CHR(10) ||
              ',applications_nk1' || CHR(10) ||
              ',CODE' || CHR(10) ||
              ',NAME' || CHR(10) ||
              ',MESSAGE' || CHR(10) ||
              ',CAUSE' || CHR(10) ||
              ',ACTION' || CHR(10) ||
        'from "#OWNER#".EXCEPTIONS_ACT' || CHR(10) ||
        'where (   (    :P' || pnum || '_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (    id between nvl(:P' || pnum || '_ID_MIN,-1E125)' || CHR(10) ||
        '                      and nvl(:P' || pnum || '_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_APPLICATION_ID_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_APPLICATION_ID_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   application_id between nvl(:P' || pnum || '_APPLICATION_ID_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_APPLICATION_ID_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_APPLICATIONS_NK1 is null' || CHR(10) ||
        '      or applications_nk1 like :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and  (   (    :P' || pnum || '_CODE_MIN is null' || CHR(10) ||
        '           and :P' || pnum || '_CODE_MAX is null' || CHR(10) ||
        '          )' || CHR(10) ||
        '       or (   code between nvl(:P' || pnum || '_CODE_MIN,-1E125)' || CHR(10) ||
        '                  and nvl(:P' || pnum || '_CODE_MAX, 1E125)' || CHR(10) ||
        '          )   )' || CHR(10) ||
        ' and (   :P' || pnum || '_NAME is null' || CHR(10) ||
        '      or name like :P' || pnum || '_NAME' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_MESSAGE is null' || CHR(10) ||
        '      or message like :P' || pnum || '_MESSAGE' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_CAUSE is null' || CHR(10) ||
        '      or cause like :P' || pnum || '_CAUSE' || CHR(10) ||
        '      )' || CHR(10) ||
        ' and (   :P' || pnum || '_ACTION is null' || CHR(10) ||
        '      or action like :P' || pnum || '_ACTION' || CHR(10) ||
        '      )' || CHR(10) ||
        '';

   wwv_flow_api.create_report_region (
      p_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_name=> pname,
      p_region_name=>'',
      p_template=> rrr_tid,
      p_display_sequence=> 10,
      p_display_column=> 1,
      p_display_point=> 'BEFORE_SHOW_ITEMS',
      p_source=> s,
      p_source_type=> 'UPDATABLE_SQL_QUERY',
      p_display_error_message=> '#SQLERRM#',
      p_plug_caching=> 'NOT_CACHED',
      p_customized=> '0',
      p_translate_title=> 'Y',
      p_ajax_enabled=> 'Y',
      p_query_row_template=> rsarc_tid,
      p_query_headings_type=> 'COLON_DELMITED_LIST',
      p_query_num_rows=> '15',
      p_query_options=> 'DERIVED_REPORT_COLUMNS',
      p_query_show_nulls_as=> '-',
      p_query_no_data_found=> 'No data found.',
      p_query_num_rows_type=> 'NEXT_PREVIOUS_LINKS',
      p_query_row_count_max=> '500',
      p_pagination_display_position=> 'BOTTOM_LEFT',
      p_query_asc_image=> 'apex/builder/dup.gif',
      p_query_asc_image_attr=> 'width="16" height="16" alt="" ',
      p_query_desc_image=> 'apex/builder/ddown.gif',
      p_query_desc_image_attr=> 'width="16" height="16" alt="" ',
      p_plug_query_strip_html=> 'Y',
      p_comment=>'');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 1,
      p_form_element_id=> null,
      p_column_alias=> 'CHECK$01',
      p_column_display_sequence=> 10,
      p_column_heading=> '&nbsp;',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'CHECKBOX',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_derived_column=> 'Y',
      p_column_comment=>'Action Checkbox');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 2,
      p_form_element_id=> null,
      p_column_alias=> 'ID',
      p_column_display_sequence=> 20,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'Y',
      p_display_as=>'HIDDEN',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source_type=> 'T',
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'EXCEPTIONS_ACT',
      p_ref_column_name=> 'ID',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 1,
      p_query_column_name=> 'ID',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 3,
      p_form_element_id=> null,
      p_column_alias=> 'ID_DISPLAY',
      p_column_display_sequence=> 30,
      p_column_heading=> 'ID',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_column_width=> '12',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'EXCEPTIONS_ACT',
      p_ref_column_name=> 'ID_DISPLAY',
      p_column_comment=>'Surrogate Primary Key');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 2,
      p_query_column_name=> 'ID_DISPLAY',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 4,
      p_form_element_id=> null,
      p_column_alias=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_column_display_sequence=> 40,
      p_column_heading=> 'Form Link',
      p_column_link=>'javascript:apex.submit({request:''GOTO_FORM'', set:{''P' ||
         (1011 + page_os) || '_FORM_ID'':#ID#}});',
      p_column_linktext=>'<img src="#IMAGE_PREFIX#ed-item.gif" alt="Save Changes and Edit Record #ID#">',
      p_column_link_attr=>'title="Save Changes and Edit Record #ID#"',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'CENTER',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'Y',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'ESCAPE_SC',
      p_lov_show_nulls=> 'NO',
      p_is_required=> false,
      p_pk_col_source=> '',
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_column_comment=>'');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 3,
      p_query_column_name=> 'EDIT_RECORD_LINK_COLUMN_NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> '');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 6,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATION_ID',
      p_column_display_sequence=> 60,
      p_column_heading=> 'Application Id',
      p_column_format=> '99999999999999999999999999999999999999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>1,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '20',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","39")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'EXCEPTIONS_ACT',
      p_ref_column_name=> 'APPLICATION_ID',
      p_column_comment=>'Surrogate Key for the application of this exception');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 5,
      p_query_column_name=> 'APPLICATION_ID',
      p_display_as=> 'TEXT',
      p_column_comment=> 'Surrogate Key for the application of this exception');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 8,
      p_form_element_id=> null,
      p_column_alias=> 'APPLICATIONS_NK1',
      p_column_display_sequence=> 80,
      p_column_heading=> 'Applications Nk1',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '3',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","5")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'EXCEPTIONS_ACT',
      p_ref_column_name=> 'APPLICATIONS_NK1',
      p_column_comment=>'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 7,
      p_query_column_name=> 'APPLICATIONS_NK1',
      p_display_as=> 'TEXT',
      p_column_comment=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 10,
      p_form_element_id=> null,
      p_column_alias=> 'CODE',
      p_column_display_sequence=> 100,
      p_column_heading=> 'Code',
      p_column_format=> '99999',
      p_column_alignment=>'RIGHT',
      p_heading_alignment=>'RIGHT',
      p_default_sort_column_sequence=>2,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '4',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","6")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'EXCEPTIONS_ACT',
      p_ref_column_name=> 'CODE',
      p_column_comment=>'RAISE_APPLICATION_ERROR Code for this exception');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 9,
      p_query_column_name=> 'CODE',
      p_display_as=> 'TEXT',
      p_column_comment=> 'RAISE_APPLICATION_ERROR Code for this exception');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 12,
      p_form_element_id=> null,
      p_column_alias=> 'NAME',
      p_column_display_sequence=> 120,
      p_column_heading=> 'Name',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXT',
      p_lov_show_nulls=> 'YES',
      p_column_width=> '16',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","30")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'EXCEPTIONS_ACT',
      p_ref_column_name=> 'NAME',
      p_column_comment=>'PRAGMA EXCEPTION_INIT Name for this exception');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 11,
      p_query_column_name=> 'NAME',
      p_display_as=> 'TEXT',
      p_column_comment=> 'PRAGMA EXCEPTION_INIT Name for this exception');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 14,
      p_form_element_id=> null,
      p_column_alias=> 'MESSAGE',
      p_column_display_sequence=> 140,
      p_column_heading=> 'Message',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","2048")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'EXCEPTIONS_ACT',
      p_ref_column_name=> 'MESSAGE',
      p_column_comment=>'Error Message for this exception');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 13,
      p_query_column_name=> 'MESSAGE',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Error Message for this exception');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 16,
      p_form_element_id=> null,
      p_column_alias=> 'CAUSE',
      p_column_display_sequence=> 160,
      p_column_heading=> 'Cause',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","2048")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'EXCEPTIONS_ACT',
      p_ref_column_name=> 'CAUSE',
      p_column_comment=>'Error Cause for this exception');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 15,
      p_query_column_name=> 'CAUSE',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Error Cause for this exception');

   wwv_flow_api.create_report_columns (
      p_id=> wwv_flow_id.next_val,
      p_region_id=> ract_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_query_column_id=> 18,
      p_form_element_id=> null,
      p_column_alias=> 'ACTION',
      p_column_display_sequence=> 180,
      p_column_heading=> 'Action',
      p_column_format=> '',
      p_column_alignment=>'LEFT',
      p_heading_alignment=>'LEFT',
      p_default_sort_column_sequence=>0,
      p_disable_sort_column=>'N',
      p_sum_column=> 'N',
      p_hidden_column=> 'N',
      p_display_as=>'TEXTAREA',
      p_lov_show_nulls=> 'NO',
      p_column_width=> '50',
      p_column_height=> '2',
      p_cattributes=> 'onfocus=''this.setAttribute("maxLength","2048")''',
      p_is_required=> false,
      p_pk_col_source=> null,
      p_lov_display_extra=> 'YES',
      p_include_in_export=> 'Y',
      p_ref_schema=> sch_name,
      p_ref_table_name=> 'EXCEPTIONS_ACT',
      p_ref_column_name=> 'ACTION',
      p_column_comment=>'Possible Solution for this exception');

   wwv_flow_api.create_region_rpt_cols (
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_plug_id=> ract_id,
      p_column_sequence=> 17,
      p_query_column_name=> 'ACTION',
      p_display_as=> 'TEXTAREA',
      p_column_comment=> 'Possible Solution for this exception');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => ract_id,
      p_button_name    => 'CANCEL',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'REGION_TEMPLATE_CLOSE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:1000:&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => ract_id,
      p_button_name    => 'MULTI_ROW_DELETE',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Delete',
      p_button_position=> 'REGION_TEMPLATE_DELETE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''MULTI_ROW_DELETE'');',
      p_button_execute_validations=>'N',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => ract_id,
      p_button_name    => 'SUBMIT',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Submit',
      p_button_position=> 'REGION_TEMPLATE_CHANGE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => ract_id,
      p_button_name    => 'ADD',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Add Row',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'javascript:addRow();',
      p_button_execute_validations=>'Y',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => ract_id,
      p_button_name    => 'CREATE NEW',
      p_button_image   => 'template:' || bb_tid,
      p_button_image_alt=> 'Cancel and Create New Row with Form',
      p_button_position=> 'BOTTOM',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1211 + page_os) || ':&SESSION.::&DEBUG.:' || (1211 + page_os),
      p_required_patch => null);

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_FORM_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'P' || pnum || '_FORM_ID:',
      p_source_type=> 'STATIC',
      p_display_as=> 'NATIVE_HIDDEN',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRU_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Updated:',
      p_source=> 'P' || pnum || '_MRU_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records updated in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=> 'P' || pnum || '_MRI_COUNT',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => ract_id,
      p_use_cache_before_default=> 'YES',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=> 'Rows Inserted:',
      p_source=> 'P' || pnum || '_MRI_COUNT',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 30,
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Number of records inserted in the MULTI_ROW_UPDATE procedure',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Filter Criteria');
   wwv_flow_api.create_page_plug (
      p_id=> fcp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> 'Filter Criteria (Press ENTER in any field to activate filter, cancels all changes))',
      p_region_name=>'',
      p_plug_template=> rrr_tid,
      p_plug_display_sequence=> 20,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> null,
      p_plug_source_type=> 'STATIC_TEXT_ESCAPE_SC',
      p_translate_title=> 'Y',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'QUERY_COLUMNS',
      p_plug_query_num_rows => 15,
      p_plug_query_num_rows_type => 'NEXT_PREVIOUS_LINKS',
      p_plug_query_row_count_max => 500,
      p_plug_query_show_nulls_as => '-',
      p_plug_display_condition_type => '',
      p_pagination_display_position=>'BOTTOM_LEFT',
      p_plug_customized=>'0',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 110,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID Range from:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 115,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=> 'P' || pnum || '_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_cSize=> '12',
      p_cMaxlength=> 50,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_help_text=> 'Search range for ID. "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 120,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Application Id Range from:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this exception). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 125,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATION_ID_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 24,
      p_cMaxlength=> 47,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for APPLICATION_ID (Surrogate Key for the application of this exception). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 130,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Applications Nk1 Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_APPLICATIONS_NK1',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 3,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for APPLICATIONS_NK1 (APPLICATIONS Natural Key Value 1: Abbreviation for this application). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_CODE_MIN',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 140,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Code Range from:',
      p_format_mask=>'99999',
      p_source=>'P' || pnum || '_CODE_MIN',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 6,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for CODE (RAISE_APPLICATION_ERROR Code for this exception). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_CODE_MAX',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 145,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'to:',
      p_format_mask=>'99999',
      p_source=>'P' || pnum || '_CODE_MAX',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 4,
      p_cMaxlength=> 6,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'NO',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search range for CODE (RAISE_APPLICATION_ERROR Code for this exception). "From" and "To" Numbers will be included in range.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 150,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Name Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_NAME',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 16,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for NAME (PRAGMA EXCEPTION_INIT Name for this exception). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_MESSAGE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 160,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Message Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_MESSAGE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 2048,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for MESSAGE (Error Message for this exception). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_CAUSE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 170,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Cause Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_CAUSE',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 2048,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for CAUSE (Error Cause for this exception). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;

   wwv_flow_api.create_page_item(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ACTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 180,
      p_item_plug_id => fcp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'Action Search:',
      p_format_mask=>'',
      p_source=>'P' || pnum || '_ACTION',
      p_source_type=> 'ITEM',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'YES',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 50,
      p_cMaxlength=> 2048,
      p_cHeight=> 1,
      p_cAttributes=> 'nowrap="nowrap"',
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 3,
      p_rowspan=> 1,
      p_label_alignment=> 'LEFT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Search string for ACTION (Possible Solution for this exception). Use "%" to wildcard one or more letters. Use "_" to wildcard only 1 letter.',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   ---------------------------------------
   --   MISSING PAGE VALIDATION   --
   ---------------------------------------

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_computation(
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_flow_step_id=> pnum,
     p_computation_sequence => 10,
     p_computation_item=> 'P' || (1211 + page_os) || '_ID',
     p_computation_point=> 'AFTER_SUBMIT',
     p_computation_type=> 'ITEM_VALUE',
     p_computation_processed=> 'REPLACE_EXISTING',
     p_computation=> 'P' || pnum || '_FORM_ID',
     p_compute_when => 'GOTO_FORM',
     p_compute_when_type=>'REQUEST_EQUALS_CONDITION');

   s := ':P' || pnum || '_MRU_COUNT := null;' || CHR(10) ||
        ':P' || pnum || '_MRI_COUNT := null;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'ON_SUBMIT_BEFORE_COMPUTATION',
      p_process_type=> 'PLSQL',
      p_process_name=> 'CLR_COUNTS',
      p_process_sql_clob => s,
      p_process_error_message=> 'CLR_COUNTS: Unable to clear counts.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

  s := 'declare' || CHR(10) ||
       '   gen_no_change EXCEPTION;' || CHR(10) ||
       '   PRAGMA EXCEPTION_INIT(gen_no_change, -20008);' || CHR(10) ||
       '   MRI_COUNT  number := 0;' || CHR(10) ||
       '   MRU_COUNT  number := 0;' || CHR(10) ||
       '   rows       number;' || CHR(10) ||
       'begin' || CHR(10) ||
       '   glob.get_ignore_no_change := FALSE;' || CHR(10) ||
       '   for i in 1 .. apex_application.g_f02.count' || CHR(10) ||
       '   loop' || CHR(10) ||
       '      rows := 0;' || CHR(10) ||
       '      if apex_application.g_f02(i) is not null' || CHR(10) ||
       '      then' || CHR(10) ||
       '         begin' || CHR(10) ||
       '            update #OWNER#.exceptions_act' || CHR(10) ||
       '              set  application_id = ' || CHR(10) ||
       '                      apex_application.g_f03(i)' || CHR(10) ||
       '                  ,applications_nk1 = ' || CHR(10) ||
       '                      apex_application.g_f04(i)' || CHR(10) ||
       '                  ,code = ' || CHR(10) ||
       '                      apex_application.g_f05(i)' || CHR(10) ||
       '                  ,name = ' || CHR(10) ||
       '                      apex_application.g_f06(i)' || CHR(10) ||
       '                  ,message = ' || CHR(10) ||
       '                      apex_application.g_f07(i)' || CHR(10) ||
       '                  ,cause = ' || CHR(10) ||
       '                      apex_application.g_f08(i)' || CHR(10) ||
       '                  ,action = ' || CHR(10) ||
       '                      apex_application.g_f09(i)' || CHR(10) ||
       '             where id = apex_application.g_f02(i);' || CHR(10) ||
       '            rows := SQL%ROWCOUNT;' || CHR(10) ||
       '         exception' || CHR(10) ||
       '            when gen_no_change' || CHR(10) ||
       '            then' || CHR(10) ||
       '               -- A matching record was found, but the data' || CHR(10) ||
       '               -- in the record is the same as the new data' || CHR(10) ||
       '               goto NEXT_ITERATION;' || CHR(10) ||
       '            when others' || CHR(10) ||
       '            then' || CHR(10) ||
       '               raise;' || CHR(10) ||
       '         end;' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      if rows = 0' || CHR(10) ||
       '      then' || CHR(10) ||
       '         insert into #OWNER#.exceptions_act' || CHR(10) ||
       '               (id' || CHR(10) ||
       '               ,application_id' || CHR(10) ||
       '               ,applications_nk1' || CHR(10) ||
       '               ,code' || CHR(10) ||
       '               ,name' || CHR(10) ||
       '               ,message' || CHR(10) ||
       '               ,cause' || CHR(10) ||
       '               ,action' || CHR(10) ||
       '               )' || CHR(10) ||
       '         values ' || CHR(10) ||
       '               (apex_application.g_f02(i)' || CHR(10) ||
       '               ,apex_application.g_f03(i)' || CHR(10) ||
       '               ,apex_application.g_f04(i)' || CHR(10) ||
       '               ,apex_application.g_f05(i)' || CHR(10) ||
       '               ,apex_application.g_f06(i)' || CHR(10) ||
       '               ,apex_application.g_f07(i)' || CHR(10) ||
       '               ,apex_application.g_f08(i)' || CHR(10) ||
       '               ,apex_application.g_f09(i)' || CHR(10) ||
       '               );' || CHR(10) ||
       '         MRI_COUNT := MRI_COUNT + 1;' || CHR(10) ||
       '      elsif rows = 1' || CHR(10) ||
       '      then' || CHR(10) ||
       '         MRU_COUNT := MRU_COUNT + 1;' || CHR(10) ||
       '      else' || CHR(10) ||
       '         raise_application_error(-20013, ''GEN_MRU updated '' ||' || CHR(10) ||
       '                                 rows || '' rows for ID '' ||' || CHR(10) ||
       '                                 apex_application.g_f02(i));' || CHR(10) ||
       '      end if;' || CHR(10) ||
       '      <<NEXT_ITERATION>>  -- not allowed unless an executable statement follows' || CHR(10) ||
       '      NULL;               -- add NULL statement to avoid error' || CHR(10) ||
       '   end loop;' || CHR(10) ||
       '   if MRI_COUNT > 0 or MRU_COUNT > 0' || CHR(10) ||
       '   then' || CHR(10) ||
       '      :P' || pnum || '_MRI_COUNT := MRI_COUNT;' || CHR(10) ||
       '      :P' || pnum || '_MRU_COUNT := MRU_COUNT;' || CHR(10) ||
       '   end if;' || CHR(10) ||
       'exception when others then util.err(:APP_ID||''P''||:APP_PAGE_ID||'':GEN_MRU: ''||sqlerrm); raise;' || CHR(10) ||
       'end;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_MRU of EXCEPTIONS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'GEN_MRU: Unable to Process Update/Insert.',
      p_process_when=>'(''GOTO_FORM'', ''SUBMIT'')',
      p_process_when_type=>'REQUEST_IN_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'MULTI_ROW_DELETE',
      p_process_name=> 'Apply MRD',
      p_process_sql_clob => '#OWNER#:EXCEPTIONS_ACT:ID', 
      p_process_error_message=> 'Apply_MRD: Unable to process delete.',
      p_process_when=>'MULTI_ROW_DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '#MRD_COUNT# row(s) deleted.',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'RESET_PAGINATION',
      p_process_name=> 'Reset Pagination',
      p_process_sql_clob => 'reset_pagination', 
      p_process_error_message=> 'Reset Pagination: Unable to repaginate.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 'f?p=&APP_ID.:'||(1211+page_os)||':&SESSION.::&DEBUG.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 60,
      p_branch_condition_type=> 'REQUEST_EQUALS_CONDITION',
      p_branch_condition=> 'GOTO_FORM',
      p_save_state_before_branch_yn=>'N',
      p_branch_comment=> '');

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:'||pnum||':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 70,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/


declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   page_os    number        := 0;
                               -- Page OffSet from table.seq

   -- Page Export Variables
   pnum       number;          -- Page (Step) Number
   pname      varchar2(50);    -- Page Name
   ts_name    varchar2(30);    -- Tab Set Name
   rbr_tid    number;          -- (Region Type) Breadcrumb Region Template ID
   rrr_tid    number;          -- (Report Type) Report Region Template ID
   rsarc_tid  number;          -- (Report Type) Standard, Alternating Row
                               --                      Colors Template ID
   rfr_tid    number;          -- (Region Type) Form Region Template ID
   bb_tid     number;          -- (Button Type) Button Template ID
   bc_tid     number;          -- (Breadcrumb Type) Breadcrumb Template ID
   ilowh_tid  number;          -- (Item Label Type) Optional With Help Template ID
   irp_id     number;          -- Interactive Report Plug ID
   irws_id    number;          -- Interactive Report Worksheet ID
   subb_id    number;          -- Submit Button ID
   lov_id     number;          -- List of Values ID
   item_id    number;          -- Temporary Item ID for Validation
   mnu_id     number;          -- Navigation Menu ID
   mnu_name   varchar2(32767); -- Navigation Menu Name
   tab_cnt    number;          -- Number of Tab IDs found
   s          varchar2(32767); -- Temporary String

   -- Function Definitions

   function get_template_id
         (type_in      in varchar2
         ,class_in      in varchar2)
      return number
   as
     retval  number;
   begin
      --  min(template_id) is a BIG KLUDGE because there are muptliple region
      --                templates for the "List Region with Icon" theme class
      select min(template_id)
       into  retval
       from  (select breadcrumb_template_id  template_id
               from  apex_application_temp_bc
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Breadcrumb'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select button_template_id  template_id
               from  apex_application_temp_button
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Button'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select calendar_template_id  template_id
               from  apex_application_temp_calendar
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Calendar'         = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select label_template_id  template_id
               from  apex_application_temp_label
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Item Label'       = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select list_template_id  template_id
               from  apex_application_temp_list
               where application_id     = app_id
                and  workspace          = ws_name
                and  'List'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_page
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Page'             = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_popuplov
               where application_id         = app_id
                and  workspace              = ws_name
                and  'Popup List of Values' = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select region_template_id  template_id
               from  apex_application_temp_region
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Region'           = type_in
                and  upper(theme_class) like upper(class_in)
              union all
              select template_id  template_id
               from  apex_application_temp_report
               where application_id     = app_id
                and  workspace          = ws_name
                and  'Report'           = type_in
                and  upper(theme_class) like upper(class_in)
             );
      if retval is null
      then
         raise_application_error(-20011, 'APEX: Unable to find '  || type_in  ||
            ' template '        || class_in  ||
            ' for application ' || app_name ||
            ' in workspace '    || ws_name  );
      end if;
      return retval;
   end get_template_id;

   function get_lov_id
         (name_in  in  varchar2
         ,type_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select lov_id
       into  retval
       from  apex_application_lovs
       where application_name    = app_name
        and  workspace           = ws_name
        and  lov_type            = type_in
        and  list_of_values_name = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_lov_id;

   function get_list_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_id
       into  retval
       from  apex_application_lists
       where application_name = app_name
        and  workspace        = ws_name
        and  list_name        = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_id;

   function get_list_entry_id
         (lst_id_in  in  number
         ,text_in    in  varchar2)
      return number
   as
     retval  number;
   begin
      select list_entry_id
       into  retval
       from  apex_application_list_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  list_id          = lst_id_in
        and  entry_text       = text_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_list_entry_id;

   function get_menu_id
         (name_in  in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_id
       into  retval
       from  apex_application_breadcrumbs
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_name  = name_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_id;

   function get_menu_option_id
         (mnu_id_in  in  number
         ,label_in   in  varchar2)
      return number
   as
     retval  number;
   begin
      select breadcrumb_entry_id
       into  retval
       from  apex_application_bc_entries
       where application_name = app_name
        and  workspace        = ws_name
        and  breadcrumb_id    = mnu_id_in
        and  entry_label      = label_in;
      return retval;
   exception
      when no_data_found
      then
         return null;
      when others
      then
         raise;
   end get_menu_option_id;

begin

   -- Initialize and Error Check

   if sch_name is null
   then
      raise_application_error(-20012, 'APEX: sch_name is null.');
   end if;
   if ws_id is null
   then
      raise_application_error(-20012, 'APEX: ws_id is null.');
   end if;
   if ws_name is null
   then
      raise_application_error(-20012, 'APEX: ws_name is null.');
   end if;
   if app_id is null
   then
      raise_application_error(-20012, 'APEX: app_id is null.');
   end if;
   if app_name is null
   then
      raise_application_error(-20012, 'APEX: app_name is null.');
   end if;

   rbr_tid   := get_template_id('Region','Breadcrumb Region');
   rrr_tid   := get_template_id('Region','Reports Region');
   rsarc_tid := get_template_id('Report','Standard, Alternating Row Colors');
   rfr_tid   := get_template_id('Region','Form Region');
   bb_tid    := get_template_id('Button','Button');
   bc_tid    := get_template_id('Breadcrumb','Breadcrumb');
   ilowh_tid := get_template_id('Item Label','Optional%with Help');

   dbms_output.put_line('exceptions form, 11');
   pnum     := 1211 + page_os;
   pname    := 'Exceptions Form';
   ts_name  := 'EXTRA_FORM_TS';
   irp_id   := wwv_flow_id.next_val;
   irws_id  := wwv_flow_id.next_val;
   subb_id  := wwv_flow_id.next_val;
   mnu_name := ' Breadcrumb';
   mnu_id   := get_menu_id(mnu_name);

   dbms_output.put_line('  ...Remove page ' || pnum);
   wwv_flow_api.remove_page
      (p_flow_id=>wwv_flow.g_flow_id, p_page_id=> pnum);

   dbms_output.put_line('  ...Create page ' || pnum || ': ' || pname);
   wwv_flow_api.create_page
      (p_flow_id => wwv_flow.g_flow_id
      ,p_id => pnum
      ,p_tab_set => ts_name
      ,p_name => pname
      ,p_step_title => pname
      ,p_allow_duplicate_submissions => 'Y'
      ,p_step_sub_title_type => 'TEXT_WITH_SUBSTITUTIONS'
      ,p_first_item => 'AUTO_FIRST_ITEM'
      ,p_include_apex_css_js_yn => 'Y'
      ,p_autocomplete_on_off => 'ON'
      ,p_javascript_code => 
       'var htmldb_delete_message=''"DELETE_CONFIRM_MSG"'';'
      ,p_page_is_public_y_n => 'N'
      ,p_protection_level => 'N'
      ,p_cache_page_yn => 'N'
      ,p_cache_timeout_seconds => 21600
      ,p_cache_by_user_yn => 'N'
      ,p_help_text => 'Application Exceptions for Error Trapping'
      ,p_last_updated_by => ws_name
      ,p_last_upd_yyyymmddhh24miss => '20121004200535'
      );

   wwv_flow_api.create_page_plug (
     p_id=> wwv_flow_id.next_val,
     p_flow_id=> wwv_flow.g_flow_id,
     p_page_id=> pnum,
     p_plug_name=> 'Breadcrumb',
     p_region_name=>'',
     p_plug_template=> rbr_tid,
     p_plug_display_sequence=> 10,
     p_plug_display_column=> 1,
     p_plug_display_point=> 'REGION_POSITION_01',
     p_plug_source=> s,
     p_plug_source_type=> 'M'||trim(to_char(mnu_id)),
     p_menu_template_id=> bc_tid,
     p_plug_display_error_message=> '#SQLERRM#',
     p_plug_query_row_template=> 1,
     p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
     p_plug_query_row_count_max => 500,
     p_plug_display_condition_type => '',
     p_plug_caching=> 'NOT_CACHED',
     p_plug_comment=> '');

   dbms_output.put_line('  ...Create DML Form');

   wwv_flow_api.create_page_plug (
      p_id=> irp_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_page_id=> pnum,
      p_plug_name=> pname,
      p_region_name=>'',
      p_plug_template=> rfr_tid,
      p_plug_display_sequence=> 10,
      p_plug_display_column=> 1,
      p_plug_display_point=> 'AFTER_SHOW_ITEMS',
      p_plug_source=> '',
      p_plug_source_type=> 'STATIC_TEXT',
      p_plug_display_error_message=> '#SQLERRM#',
      p_plug_query_row_template=> 1,
      p_plug_query_headings_type=> 'COLON_DELMITED_LIST',
      p_plug_query_row_count_max => 500,
      p_plug_display_condition_type => '',
      p_plug_caching=> 'NOT_CACHED',
      p_plug_comment=> '');

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 10,
      p_button_plug_id => irp_id,
      p_button_name    => 'CANCEL',
      p_button_image_alt=> 'Cancel',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || (1011 + page_os) || ':&SESSION.::&DEBUG.:::',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => subb_id,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 20,
      p_button_plug_id => irp_id,
      p_button_name    => 'DELETE',
      p_button_image_alt=> 'Delete',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 
       'javascript:apex.confirm(htmldb_delete_message,''DELETE'');',
      p_button_execute_validations=>'N',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 30,
      p_button_plug_id => irp_id,
      p_button_name    => 'SAVE',
      p_button_image_alt=> 'Apply Changes',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 40,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE',
      p_button_image_alt=> 'Create',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> '',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_button(
      p_id             => wwv_flow_id.next_val,
      p_flow_id        => wwv_flow.g_flow_id,
      p_flow_step_id   => pnum,
      p_button_sequence=> 50,
      p_button_plug_id => irp_id,
      p_button_name    => 'CREATE_NEW',
      p_button_image_alt=> 'Cancel Changes and Create NEW Record',
      p_button_position=> 'RIGHT_OF_TITLE',
      p_button_alignment=> 'RIGHT',
      p_button_redirect_url=> 'f?p=&APP_ID.:' || pnum || ':&SESSION.::&DEBUG.:' || pnum || '::',
      p_button_execute_validations=>'Y',
      p_button_condition=> 'P' || pnum || '_ID',
      p_button_condition_type=> 'ITEM_IS_NOT_NULL',
      p_required_patch => null);

   wwv_flow_api.create_page_branch(
      p_id=> wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_branch_action=> 
       'f?p=&APP_ID.:' || (1011 + page_os) || ':&SESSION.&success_msg=#SUCCESS_MSG#',
      p_branch_point=> 'AFTER_PROCESSING',
      p_branch_type=> 'REDIRECT_URL',
      p_branch_sequence=> 10,
      p_save_state_before_branch_yn=>'Y',
      p_branch_comment=> '');

   wwv_flow_api.create_page_item(
      p_id=>wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 10,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_item_default_type=> 'STATIC_TEXT_WITH_SUBSTITUTIONS',
      p_prompt=>'ID',
      p_source=>'ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_DISPLAY_ONLY',
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_cSize=> 38,
      p_cMaxlength=> 45,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_is_persistent=> 'Y',
      p_lov_display_extra=>'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_help_text=> 'Surrogate Key for this record',
      p_attribute_01 => 'N',
      p_attribute_02 => 'VALUE',
      p_attribute_04 => 'Y',
      p_show_quick_picks=>'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATION_ID',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 20,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Application Id:',
      p_format_mask=>'99999999999999999999999999999999999999',
      p_source=>'APPLICATION_ID',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 39,
      p_cMaxlength=> 39,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Surrogate Key for the application of this exception',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_APPLICATIONS_NK1',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 30,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Applications Nk1:',
      p_format_mask=>'',
      p_source=>'APPLICATIONS_NK1',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 5,
      p_cMaxlength=> 5,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'APPLICATIONS Natural Key Value 1: Abbreviation for this application',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_CODE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 40,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Code:',
      p_format_mask=>'99999',
      p_source=>'CODE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_NUMBER_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 6,
      p_cMaxlength=> 6,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'RAISE_APPLICATION_ERROR Code for this exception',
      p_attribute_01 => '',
      p_attribute_02 => '',
      p_attribute_03 => 'right',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_NAME',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 50,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Name:',
      p_format_mask=>'',
      p_source=>'NAME',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXT_FIELD',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 30,
      p_cMaxlength=> 30,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'PRAGMA EXCEPTION_INIT Name for this exception',
      p_attribute_01 => 'N',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_MESSAGE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 60,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Message:',
      p_format_mask=>'',
      p_source=>'MESSAGE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 2048,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Error Message for this exception',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_CAUSE',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 70,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Cause:',
      p_format_mask=>'',
      p_source=>'CAUSE',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 2048,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Error Cause for this exception',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   lov_id := null;
   item_id := wwv_flow_id.next_val;

   wwv_flow_api.create_page_item(
      p_id=> item_id,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id=> pnum,
      p_name=>'P' || pnum || '_ACTION',
      p_data_type=> 'VARCHAR',
      p_is_required=> false,
      p_accept_processing=> 'REPLACE_EXISTING',
      p_item_sequence=> 80,
      p_item_plug_id => irp_id,
      p_use_cache_before_default=> 'NO',
      p_prompt=>'Action:',
      p_format_mask=>'',
      p_source=>'ACTION',
      p_source_type=> 'DB_COLUMN',
      p_display_as=> 'NATIVE_TEXTAREA',
      p_named_lov=> '',
      p_lov=> lov_id,
      p_lov_display_null=> 'NO',
      p_lov_translated=> 'N',
      p_lov_null_text=>'(null)',
      p_lov_null_value=> '',
      p_cSize=> 100,
      p_cMaxlength=> 2048,
      p_cHeight=> 1,
      p_begin_on_new_line=> 'YES',
      p_begin_on_new_field=> 'YES',
      p_colspan=> 1,
      p_rowspan=> 1,
      p_label_alignment=> 'RIGHT',
      p_field_alignment=> 'LEFT-CENTER',
      p_field_template=> ilowh_tid,
      p_lov_display_extra=> 'YES',
      p_protection_level => 'N',
      p_escape_on_http_output => 'Y',
      p_is_persistent=> 'Y',
      p_help_text=> 'Possible Solution for this exception',
      p_attribute_01 => 'Y',
      p_attribute_02 => 'N',
      p_attribute_03 => 'N',
      p_attribute_04 => '',
      p_attribute_05 => '',
      p_attribute_06 => '',
      p_show_quick_picks=> 'N',
      p_item_comment => '');

   dbms_output.put_line('  ...Create Page Processing');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 10,
      p_process_point=> 'AFTER_HEADER',
      p_process_type=> 'DML_FETCH_ROW',
      p_process_name=> 'Fetch Row from EXCEPTIONS_ACT',
      p_process_sql_clob => 'F|#OWNER#:EXCEPTIONS_ACT:P' || pnum || '_ID:ID',
      p_process_error_message=> 'Unable to fetch row of view EXCEPTIONS_ACT.',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.exceptions_dml.ins' || CHR(10) ||
        '      (n_id => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_code => :P' || pnum || '_CODE' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_message => :P' || pnum || '_MESSAGE' || CHR(10) ||
        '      ,n_cause => :P' || pnum || '_CAUSE' || CHR(10) ||
        '      ,n_action => :P' || pnum || '_ACTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 20,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_INS of EXCEPTIONS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to insert row of view EXCEPTIONS_ACT.',
      p_process_when=>'CREATE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   #OWNER#.exceptions_dml.upd' || CHR(10) ||
        '      (o_id_in => :P1212_ID' || CHR(10) ||
        '      ,n_application_id => :P' || pnum || '_APPLICATION_ID' || CHR(10) ||
        '      ,n_applications_NK1_in => :P' || pnum || '_APPLICATIONS_NK1' || CHR(10) ||
        '      ,n_code => :P' || pnum || '_CODE' || CHR(10) ||
        '      ,n_name => :P' || pnum || '_NAME' || CHR(10) ||
        '      ,n_message => :P' || pnum || '_MESSAGE' || CHR(10) ||
        '      ,n_cause => :P' || pnum || '_CAUSE' || CHR(10) ||
        '      ,n_action => :P' || pnum || '_ACTION' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 30,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_UPD of EXCEPTIONS_ACT',
      p_process_sql_clob => s, 
      p_process_error_message=> 'Unable to update row of view EXCEPTIONS_ACT.',
      p_process_when=>'SAVE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   s := 'BEGIN' || CHR(10) ||
        '   execute immediate ''alter session set NLS_TIMESTAMP_FORMAT = ''''DD-MON-YYYY HH24:MI:SS.FF9'''''';' || CHR(10) ||
        '   if :P' || pnum || '_EFF_BEG_DTM = :P' || pnum || '_EFF_BEG_DTM_ORIG' || CHR(10) ||
        '   then' || CHR(10) ||
        '      :P' || pnum || '_EFF_BEG_DTM := null;' || CHR(10) ||
        '   end if;' || CHR(10) ||
        '   #OWNER#.exceptions_dml.del' || CHR(10) ||
        '      (o_id_in => :P' || pnum || '_ID' || CHR(10) ||
        '      ,x_eff_end_dtm => :P' || pnum || '_EFF_BEG_DTM' || CHR(10) ||
        '      );' || CHR(10) ||
        'END;';

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 40,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'PLSQL',
      p_process_name=> 'GEN_DEL for EXCEPTIONS_ACT',
      p_process_sql_clob => s,
      p_process_error_message=> 'Unable to delete row of view EXCEPTIONS_ACT',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   wwv_flow_api.create_page_process(
      p_id     => wwv_flow_id.next_val,
      p_flow_id=> wwv_flow.g_flow_id,
      p_flow_step_id => pnum,
      p_process_sequence=> 50,
      p_process_point=> 'AFTER_SUBMIT',
      p_process_type=> 'CLEAR_CACHE_FOR_PAGES',
      p_process_name=> 'reset page',
      p_process_sql_clob => pnum,
      p_process_error_message=> '',
      p_process_when=>'DELETE',
      p_process_when_type=>'REQUEST_EQUALS_CONDITION',
      p_process_success_message=> '',
      p_process_is_stateful_y_n=>'N',
      p_process_comment=>'');

   if ts_name is not null
   then
      select count(tab_id)
       into  tab_cnt
       from  apex_application_tabs
       where application_name = app_name
        and  workspace        = ws_name
        and  tab_set          = ts_name
        and  tab_name         = pname;
      if tab_cnt = 0
      then
         dbms_output.put_line('  Adding ' || pname || ' Tab to ' || ts_name || ' ...');
         wwv_flow_api.create_tab (
            p_id=> wwv_flow_id.next_val,
            p_flow_id=> wwv_flow.g_flow_id,
            p_tab_set=> ts_name,
            p_tab_sequence=> pnum,
            p_tab_name => pname,
            p_tab_text=> pname,
            p_tab_step => pnum,
            p_tab_also_current_for_pages => '',
            p_tab_parent_tabset=>'',
            p_tab_comment  => '');
      end if;
   end if;

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   tab_id    number;          -- Table ID
   col_id    number;          -- Column ID

begin

   -- SET SCHEMA

   wwv_flow_hint.g_schema := sch_name;
   wwv_flow_hint.check_schema_privs;

   --------------------------------------------------------------------
   dbms_output.put_line('SCHEMA ' || sch_name || ' - User Interface Defaults, Table Defaults');
   --
   -- Import using sqlplus as the Oracle user: APEX_040000
   -- Created 20 Thursday  October   04, 2012
   --

   tab_id   := wwv_flow_id.next_val;

   wwv_flow_hint.remove_hint_priv(wwv_flow_hint.g_schema
                                 ,'EXCEPTIONS_ACT');

   wwv_flow_hint.create_table_hint_priv(
      p_table_id => tab_id,
      p_schema => wwv_flow_hint.g_schema,
      p_table_name  => 'EXCEPTIONS_ACT',
      p_report_region_title => 'Exceptions',
      p_form_region_title => 'Exceptions');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Application Id',
      p_help_text => 'Surrogate Key for the application of this exception',
      p_display_seq_form => 1,
      p_display_seq_report => 1,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_POPUP_LOV',
      p_form_attribute_01 => 'NOT_ENTERABLE',
      p_form_attribute_02 => 'FIRST_ROWSET_FILTER',
      p_display_as_tab_form => 'POPUP',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_lov_query => 'select applications_dml.get_nk(id) ||''(''|| id  ||'')'' d'||chr(10)||
    '      ,id r'||chr(10)||
    ' from  "#OWNER#".applications'||chr(10)||
    ' order by 1',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 50,
      p_searchable => 'N',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATION_ID');


   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Applications Nk1',
      p_help_text => 'Abbreviation for this application',
      p_display_seq_form => 3,
      p_display_seq_report => 3,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 3,
      p_max_width => 5,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'APPLICATIONS_NK1');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Code',
      p_help_text => 'RAISE_APPLICATION_ERROR Code for this exception',
      p_display_seq_form => 4,
      p_display_seq_report => 4,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_mask_form => '99999',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'R',
      p_display_width => 4,
      p_max_width => 6,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'CODE');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Name',
      p_help_text => 'PRAGMA EXCEPTION_INIT Name for this exception',
      p_display_seq_form => 5,
      p_display_seq_report => 5,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXT',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 16,
      p_max_width => 30,
      p_searchable => 'Y',
      p_required => 'Y',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'NAME');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Message',
      p_help_text => 'Error Message for this exception',
      p_display_seq_form => 6,
      p_display_seq_report => 6,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 2048,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'MESSAGE');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Cause',
      p_help_text => 'Error Cause for this exception',
      p_display_seq_form => 7,
      p_display_seq_report => 7,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 2048,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'CAUSE');

   col_id   := wwv_flow_id.next_val;

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'Action',
      p_help_text => 'Possible Solution for this exception',
      p_display_seq_form => 8,
      p_display_seq_report => 8,
      p_display_in_form => 'Y',
      p_display_in_report => 'Y',
      p_display_as_form => 'NATIVE_TEXT_FIELD',
      p_form_attribute_01 => 'N',
      p_form_attribute_02 => 'N',
      p_display_as_tab_form => 'TEXTAREA',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_alignment => 'L',
      p_display_width => 50,
      p_max_width => 2048,
      p_searchable => 'Y',
      p_required => 'N',
      p_height => 1,
      p_aggregate_by => 'N',
      p_group_by => 'N',
      p_column_id => col_id,
      p_table_id => tab_id,
      p_column_name => 'ACTION');

   wwv_flow_hint.create_column_hint_priv(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for these exceptions',
      p_display_seq_form => 9,
      p_display_in_form => 'N',
      p_display_as_form => 'NATIVE_NUMBER_FIELD',
      p_form_attribute_03 => 'right',
      p_display_as_tab_form => 'TEXT',
      p_display_seq_report => 1,
      p_display_in_report => 'Y',
      p_display_as_report => 'WITHOUT_MODIFICATION',
      p_aggregate_by => 'N',
      p_required => 'N',
      p_alignment => 'R',
      p_display_width => 12,
      p_max_width => 39,
      p_height => 1,
      p_group_by => 'N',
      p_searchable => 'N',
      p_column_id => wwv_flow_id.next_val,
      p_table_id => tab_id,
      p_column_name => 'ID');

   ----------------------------------------

end;
/

declare

   -- application/set_environment
   sch_name   varchar2(30)  := wwv_flow_application_install.get_schema;
                               -- Schema (Database Table) Owner;
   ws_id      number        := wwv_flow_application_install.get_workspace_id;
                               -- Workspace (Security Group) ID
   ws_name    varchar2(30)  := apex_util.find_workspace (ws_id);
                               -- Workspace Name
   app_id     number        := wwv_flow_application_install.get_application_id;
                               -- Application (Flow) ID
   app_name   varchar2(30)  := wwv_flow_application_install.get_application_name;
                               -- Application Name
   col_id     number;          -- Column ID

begin

   --------------------------------------------------------------------
   dbms_output.put_line(' - User Interface Defaults, Attribute Dictionary');
   --
   -- Created 20:05 Thursday  October   04, 2012
   --
   -- SHOW EXPORTING WORKSPACE

   wwv_flow_hint.g_exp_workspace := ws_name;

   col_id := wwv_flow_id.next_val;
   wwv_flow_hint.remove_col_attr_by_name('ID');
   wwv_flow_hint.create_col_attribute(
      p_label => 'ID',
      p_help_text => 'Surrogate Primary Key for this record.',
      p_format_mask => '9999999999999999999999999999999999999',
      p_default_value => '',
      p_form_format_mask => '9999999999999999999999999999999999999',
      p_form_display_width => 15,
      p_form_display_height => 1,
      p_form_data_type => 'NUMBER',
      p_report_format_mask => '9999999999999999999999999999999999999',
      p_report_col_alignment => 'RIGHT',
      p_column_id => col_id,
      p_column_name  => 'ID');
   wwv_flow_hint.create_col_synonym(
     p_syn_id => wwv_flow_id.next_val,
     p_column_id => col_id,
     p_syn_name  => 'ID');

   col_id := wwv_flow_id.next_val;
   wwv_flow_hint.remove_col_attr_by_name('EFF_BEG_DTM');
   wwv_flow_hint.create_col_attribute(
      p_label => 'Effective Begin',
      p_help_text => 'The Date/Time this record become effective.',
      p_format_mask => 'DD-MON-YYYY HH24.MI.SSXFF TZR',
      p_default_value => '',
      p_form_format_mask => 'DD-MON-YYYY HH24.MI.SSXFF TZR',
      p_form_display_width => 15,
      p_form_display_height => 1,
      p_form_data_type => 'VARCHAR',
      p_report_format_mask => 'DD-MON-YYYY HH24.MI.SSXFF TZR',
      p_report_col_alignment => 'LEFT',
      p_column_id => col_id,
      p_column_name  => 'EFF_BEG_DTM');
   wwv_flow_hint.create_col_synonym(
     p_syn_id => wwv_flow_id.next_val,
     p_column_id => col_id,
     p_syn_name  => 'EFF_BEG_DTM');

   col_id := wwv_flow_id.next_val;
   wwv_flow_hint.remove_col_attr_by_name('EFF_END_DTM');
   wwv_flow_hint.create_col_attribute(
      p_label => 'Effective End',
      p_help_text => 'The Date/Time this record was no longer effective.',
      p_format_mask => 'DD-MON-YYYY HH24.MI.SSXFF TZR',
      p_default_value => '',
      p_form_format_mask => 'DD-MON-YYYY HH24.MI.SSXFF TZR',
      p_form_display_width => 15,
      p_form_display_height => 1,
      p_form_data_type => 'VARCHAR',
      p_report_format_mask => 'DD-MON-YYYY HH24.MI.SSXFF TZR',
      p_report_col_alignment => 'LEFT',
      p_column_id => col_id,
      p_column_name  => 'EFF_END_DTM');
   wwv_flow_hint.create_col_synonym(
     p_syn_id => wwv_flow_id.next_val,
     p_column_id => col_id,
     p_syn_name  => 'EFF_END_DTM');

   ----------------------------------------

end;
/

commit;

begin
execute immediate 'begin dbms_session.set_nls( param => ''NLS_NUMERIC_CHARACTERS'', value => '''''''' || replace(wwv_flow_api.g_nls_numeric_chars,'''''''','''''''''''') || ''''''''); end;';
end;
/

set verify on
set feedback on
set define on
WHENEVER SQLERROR CONTINUE

prompt  ...done


