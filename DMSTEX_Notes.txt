
SQL> exec dbms_epg.set_dad_attribute(‘APEX’, ‘error-style’, ‘DebugStyle’);

javascript:apex.confirm('Delete Index Tag #P71_IND_TAG#?,'DELETE');

select tab_cols_nk1||'|'||tab_cols_nk2||'|'||tag id
      ,case lower(substr(tag,1,1))
          when 'u' then 1 else 0
       end   old_uniq
      ,tag old_tag
      ,'Edit Columns' EDIT_COLUMNS
      ,case lower(substr(tag,1,1))
          when 'u' then 1 else 0
       end   uniq
      ,substr(tag,3) seq
      ,tag
      ,index_desc (applications_dml.get_nk(:P1_APP_ID)
                  ,:P41_TABLES_NK2, tag)    index_desc
 from  indexes_act
 where tab_cols_nk1 = applications_dml.get_nk(:P1_APP_ID)
  and  tab_cols_nk2 = :P41_TABLES_NK2
 group by tag

link text: <img src="/i/htmldb/icons/ob_lob.gif" alt="Save Changes and Edit Columns for #ABBR#">
link attributes: title="Save Changes and Edit Columns for #ABBR#"
URL: javascript:apex.submit({request:'GOTO_COL', set:{'P21_DOMAINS_NK2':'#ABBR#'}});

-) Copy Grid Edit
-) Display TAB only if P1_APP_ID is not null
-) Never Display Breadcrumb?
-) Modify Page Settings
   -) Set Page Alias
   -) HTML Header: <link rel="stylesheet" href="#WORKSPACE_IMAGES#dtgen.css" type="text/css" />
-) Create Single Row Parent Report(s)
   -) Borderless - No Title
   -) Don't select ID or parent references
select ABBR
      ,NAME
      ,DB_SCHEMA
      ,APEX_SCHEMA
      ,APEX_WS_NAME
      ,APEX_APP_NAME
      ,DBID
      ,DB_AUTH
      ,DESCRIPTION
 from  applications
 where id = :P1_APP_ID

select SEQ	 	 									
      ,GROUP_NAME	 	 									
      ,ABBR	 	 									
      ,NAME	 	 									
      ,TYPE	 	 									
      ,MV_REFRESH_HR	 	 									
      ,TS_ONLN_DATA	 	 									
      ,TS_ONLN_INDX	 	 									
      ,TS_HIST_DATA	 	 									
      ,TS_HIST_INDX	 	 									
      ,DESCRIPTION	 	
 from  tables
 where application_id = :P1_APP_ID
  and  abbr = :P41_TABLES_NK2

   -) Report Attributes Substitution: class="dtgen-tab-app-format"
   -) Pagination Scheme:  None
-) Create ID Filter HTML Region
   -) Add Entity ID Filter Display Only Item
   -) Add CLEAR_ID HTML Button
   -) Change Old Computation to CLEAR_ID Computation on request
   -) Region display only when ID Filter is not null
-) Change Grid Edit SQL
   -) Remove Display_ID and ID Parent Reference columns
   -) Add ID and Parent to where clause:
id = :P51_COL_ID
 OR
 (    :P51_COL_ID is null
 and  tables_nk1 = "#OWNER#".applications_dml.get_nk(:P1_APP_ID)
 and  tables_nk2 = :P41_TABLES_NK2
 and  
-) Change columns in Grid Edit
   -) Sort on natural key
   -) Make Parent ID not shown
   -) Setup LOVs
   -) Confirm ID is HIDDEN
   -) Confirm Parent NK is text that does not save state
   -) Default Parent NK Value with P1_TABLES_NK2
-) Modify GEN_MRU process
   -) Run and View Page Source to see mapping
   -) Remove extra fields
   -) Set Parent NK "#OWNER#".applications_dml.get_nk(:P1_APP_ID)
-) Change CANCEL button to redirect to same page
-) Remove Items
   -) FORM_ID Item
   -) all ID, Display_ID, and parent references Items (Filters)
-) Display Full Filter only if no filter data and more than 30 records
   -) Gather Items for where clause from Report
DECLARE
   numrec  number;
BEGIN
   if :P91_EXC_ID is not null
   then
      return false;
   end if;
   if :P91_CODE_MIN is not null or
      :P91_CODE_MAX is not null or
      :P91_NAME is not null or
      :P91_MESSAGE is not null or
      :P91_CAUSE is not null or
      :P91_ACTION is not null
   then
      return true;
   end if;
   select count(*) into numrec from exceptions_act
    where application_id = :P1_APP_ID;
   if numrec > :P1_FILTER_RECS
   then
      return true;
   end if;
   return false;
END;


============================================================
Mulit-tier Architecture Options:
--------------------------------
A) Client/Server: Browser and Database (RAC)
   -) Data integrity enforced with check constraints and triggers
   -) Data integrity turned off in table_dml packages
   -) Application can call directly to tables
   -) No need for "check queries"

B) 3-tier: Browser, App Servers, and Database (RAC)
   -) Database is CRUD only (table check constraints and triggers disabled)
   -) Data integrity performed in table_trig packages
   -) Distributed materialized views of read-only tables
   -) Separate secure (DMZ) environment from database

C) 4-tier: Brower, APEX Servers, App Servers, and Database (RAC)
   -) UI logic co-located with users (UI Server Appliance)


============================================================
Images
------

NOTE: Oracle10XE does not have Java and cannot support ORDImage objects for Image Manipulation

Oracle® Application Express Application Builder User's Guide Release 4.0
15 Advanced Programming Techniques
file:///C:/OracleDocs/APEX_4.0.2_en/apex/doc/user.40/e15517/advnc.htm#sthref2621
About BLOB Support in Forms and Reports

The defaulted BLOB support does not give you all the information a typical application needs to effectively manage a BLOB. In addition to knowing that the column is a BLOB, more information about the file will provide a better experience for the end-user. The File Browse page item has additional settings to facilitate managing this additional information completely declaratively.  To provide this additional information, it is recommended that you add additional columns to your base table to store and track the MIME type, file name, last updated date and character set settings. You can accomplish this by extending your table. For example:

ALTER TABLE emp ADD 
   (ATTACH_MIMETYPE     VARCHAR2(255),
    ATTACH_FILENAME     VARCHAR2(255),
    ATTACH_LAST_UPDATE  DATE,
    ATTACH_CHARSET      VARCHAR2(128));

drop table image_test;
drop sequence image_test_seq;
create sequence image_test_seq;
create table image_test
   (ID           NUMBER(38)
   ,aud_beg_dtm  timestamp(9) with local time zone
   ,caption      VARCHAR2(255)
   ,IMAGE_MIME   VARCHAR2(255)
   ,IMAGE_FILE   VARCHAR2(255)
   ,IMAGE_CHAR   VARCHAR2(128)
   ,IMAGE_DATE   DATE
   ,IMAGE_DESC   VARCHAR2(255) -- Section 508 image description
   ,IMAGE_BLOB   BLOB
   ,constraint image_test_pk  primary key (ID)
   ,constraint image_test_nk1 unique (caption)
   ,constraint image_test_ck1 check (image_mime like 'image%')
   );
CREATE TRIGGER image_test_bi
   BEFORE INSERT
   ON image_test FOR EACH ROW
begin
   -- Set :new.id, if needed
   if :new.id is null
   then
      select image_test_seq.nextval
       into  :new.id
       from  dual;
   end if;
   :new.aud_beg_dtm := systimestamp;
end image_test_bi
/

Type image
----------
 -) image/gif: GIF image; Defined in RFC 2045 and RFC 2046
 -) image/jpeg: JPEG JFIF image; Defined in RFC 2045 and RFC 2046
 -) image/png: Portable Network Graphics; Registered,[7] Defined in RFC 2083
 -) image/svg+xml: SVG vector image; Defined in SVG Tiny 1.2 Specification Appendix M
 -) image/tiff: Tag Image File Format; Defined in RFC 3302
 -) image/vnd.microsoft.icon: ICO image; Registered

 -) Set OracleServiceXE and OracleXETNSListener to start Automatic
 -) Make a DML Form to Check CLOB Processing (Won't Work?)
 -) 2 screens for BLOBImage: Grid Edit Report with link to a DML Form
 -) 2 screens for BLOBfile: Grid Edit Report (Cannot Grid Report "apex_util.get_blob_file_src") with link to a DML Form
 -) Test Image as an OBJECT
 -) Put OBJECT Call in UTIL Package?
 -) Put Security Call on UTIL Package

-) Image BLOBs
   -) Cannot perform BLOB and CLOB DML on the same APEX form.
   -) Cannot Grid Report "apex_util.get_blob_file_src"
   -) Oracle10XE does not have Java and cannot support ORDImage objects for Image Manipulation)
-) File BLOBs

create table image_test
   (ID           NUMBER(38)
   ,aud_beg_dtm  timestamp(9) with local time zone
   ,caption      VARCHAR2(255)
   ,IMAGE_MIME   VARCHAR2(255)
   ,IMAGE_FILE   VARCHAR2(255)
   ,IMAGE_CHAR   VARCHAR2(128)
   ,IMAGE_DATE   DATE
   ,IMAGE_DESC   VARCHAR2(255) -- Section 508 image description
   ,IMAGE_BLOB   BLOB
   ,constraint image_test_pk  primary key (ID)
   ,constraint image_test_nk1 unique (caption)
   ,constraint image_test_ck1 check (image_mime like 'image%')
   );

 drop table file_test;
drop sequence file_test_seq;
create sequence file_test_seq;
create table file_test
   (ID           NUMBER(38)
   ,aud_beg_dtm  timestamp(9) with local time zone
   ,name         VARCHAR2(30)
   ,file_MIME   VARCHAR2(255)
   ,file_FILE   VARCHAR2(255)
   ,file_CHAR   VARCHAR2(128)
   ,file_DATE   DATE
   ,file_DESC   VARCHAR2(255) -- Section 508 file description
   ,file_BLOB   BLOB
   ,constraint file_test_pk  primary key (ID)
   ,constraint file_test_nk1 unique (name)
   );
CREATE TRIGGER file_test_bi
   BEFORE INSERT
   ON file_test FOR EACH ROW
begin
   -- Set :new.id, if needed
   if :new.id is null
   then
      select file_test_seq.nextval
       into  :new.id
       from  dual;
   end if;
   :new.aud_beg_dtm := systimestamp;
end file_test_bi
/

SELECT ID, NAME,CASE WHEN NVL(dbms_lob.getlength(document),0) = 0
THEN NULL
ELSE CASE WHEN attach_mimetype like 'image%'
THEN '<img src="'||apex_util.get_blob_file_src('P4_DOCUMENT',id)||'" />'
ELSE
'<a href="'||apex_util.get_blob_file_src('P4_DOCUMENT',id)||'">Download</a>'
end
END new_img
FROM TEST_WITH_BLOB


application/x-shockwave-flash:
------------------------------
<object width="425" height="349" type="application/x-shockwave-flash" data="http://www.youtube.com/v/ZuNNhOEzJGA&hl=fr&fs=1&rel=0&color1=0x006699&color2=0x54abd6&border=1">
<p>Interview of Philippe Le Hégaret about Video codec</p>
<param name="movie" value="http://www.youtube.com/v/ZuNNhOEzJGA&hl=fr&fs=1&rel=0&color1=0x006699&color2=0x54abd6&border=1" />
</object>

http://www.w3.org/TR/html401/struct/objects.html#h-13.3.1


============================================================
Good text-based help
--------------------

http://www.dba-oracle.com/htmldb/t_htmldb_adding_online_demo_help.htm

To be effective, online screen item-level help must provide details about the business process.  At a minimum, all text-based help should have the following information:

What are the formatting rules for this screen item?
Why is this field important to the business process? 
How is it used in output documents?
How does the screen item relate to the database?  Is it a key field to other information? 
How does this screen item relate to other fields on the screen?
Supplemented with online screen demonstrations, field-level help should provide the end-user with insights into the screen’s business process and how everything fits together.
